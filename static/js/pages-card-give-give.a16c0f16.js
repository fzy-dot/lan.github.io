(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-card-give-give"],{"014f":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.card?a("v-uni-view",{staticClass:"give"},[a("v-uni-view",{staticClass:"content",style:t.contentStyle},[a("v-uni-view",{staticClass:"avatar dir-left-nowrap main-center cross-center"},[a("v-uni-image",{attrs:{src:t.card.avatar}})],1),a("v-uni-view",{staticClass:"nickname"},[t._v(t._s(t.card.nickname))]),a("v-uni-view",{staticClass:"title"},[t._v("送你一张卡券")]),2==t.card.status?[a("v-uni-view",{staticClass:"pic dir-left-nowrap main-between cross-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"card-title box-grow-0"},[a("v-uni-image",{attrs:{src:t.card.pic_url}})],1),a("v-uni-view",{staticClass:"name t-omit-two box-grow-0",staticStyle:{"line-height":"1.2"}},[t._v(t._s(t.card.name))]),a("v-uni-view",{staticClass:"box-grow-1"})],1),a("v-uni-view",{staticClass:"reset-time"},[t._v("剩余次数："+t._s(t.card.reset_number)+"次")]),a("v-uni-view",{staticClass:"time"},[t._v("有效期："+t._s(t.card.start_time)+" - "+t._s(t.card.end_time))]),a("v-uni-view",{staticClass:"card-btn-group dir-left-nowrap main-center"},[a("v-uni-view",{staticClass:"card-btn btn-0 box-grow-0",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[a("app-image",{attrs:{"img-src":t.card.img_back,width:"100%",height:"100%"}})],1),a("v-uni-view",{staticClass:"card-btn btn-0 box-grow-0",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareShow=!0}}},[a("app-image",{attrs:{"img-src":t.card.img_share,width:"100%",height:"100%"}})],1)],1),a("v-uni-view",[a("app-share-qr-code",{attrs:{title:"生成卡券海报","poster-url":"/pages/poster/poster?card_id="+t.card.id,"has-poster-nav":!0},model:{value:t.shareShow,callback:function(e){t.shareShow=e},expression:"shareShow"}})],1)]:a("v-uni-view",{staticClass:"card-btn btn-1",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.receive.apply(void 0,arguments)}}},[a("app-image",{attrs:{"img-src":t.card.img_receive,width:"100%",height:"100%"}})],1),t.modal.show?a("v-uni-view",{staticClass:"card-modal dir-top-nowrap cross-center main-center"},[a("v-uni-view",{staticClass:"modal-content",style:{backgroundImage:"url("+t.card.img_finish_receiving+")"}},[a("v-uni-view",{staticClass:"error"},[t._v(t._s(t.modal.msg))]),a("v-uni-view",{staticClass:"modal-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.modal.show=!1}}})],1)],1):t._e()],2),a("v-uni-view",[a("app-goods-recommend",{attrs:{sureCart:!0,"comment-style":t.comment_style,theme:t.getTheme,"goods-list":t.recommendGoodsList}})],1)],1):t._e()},r=[]},1607:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-layout",["give"===t.type?a("v-uni-view",[a("app-card-give",{attrs:{card:t.card},on:{receive:function(e){arguments[0]=e=t.$handleEvent(e),t.receive.apply(void 0,arguments)}}})],1):t._e(),"detail"===t.type?a("v-uni-view",[a("app-card-detail",{attrs:{list:t.card},on:{share:function(e){arguments[0]=e=t.$handleEvent(e),t.hShareAppMessage.apply(void 0,arguments)}}})],1):t._e()],1)},r=[]},"59b7":function(t,e,a){"use strict";var n=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(a("ade3")),r=n(a("ad05")),i=a("2f62");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){(0,o.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var s={name:"app-goods-recommend",components:{appGoods:r.default},props:{commentStyle:{type:Object,default:function(){return{pic_url:"../../../static/image/icon/icon-favorite.png",text_color:"#999",text:"您或许喜欢",list_style:2}}},goodsList:{type:Array,default:function(){return[]}},theme:Object,sureCart:Boolean,showSales:Boolean,showBuyBtn:{type:Boolean,default:function(){return!0}},showUnderlinePrice:{type:Boolean,default:function(){return!0}},newList:Boolean,activity:Object,onlyShowTitle:Boolean,is_show_member:{type:Boolean,default:function(){return!0}},sign:String,detail:Object},methods:{cartResult:function(){this.$emit("cart",!0)},cartShow:function(t){this.$emit("show",t)}},computed:d({},(0,i.mapState)({isListUnderlinePrice:function(t){return t.mallConfig.mall.setting.is_list_underline_price},goodsImg:function(t){return t.mallConfig.__wxapp_img.goods}}))};e.default=s},"5be6":function(t,e,a){var n=a("6c72");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=a("4f06").default;o("1be434ac",n,!0,{sourceMap:!1,shadowMode:!1})},"6c72":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,'@charset "UTF-8";.text-center[data-v-1b219ebc]{text-align:center}.font-weight[data-v-1b219ebc]{font-weight:700}.page-width[data-v-1b219ebc]{width:100%}.goods-hover-class[data-v-1b219ebc]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-1b219ebc]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-1b219ebc]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-1b219ebc]{width:100%}.u-hover-class[data-v-1b219ebc]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-1b219ebc]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.give[data-v-1b219ebc]{background-color:#fff}.content[data-v-1b219ebc]{width:%?750?%;height:%?880?%;background-size:contain;background-repeat:no-repeat;background-position:50%;padding-top:%?46?%;text-align:center;background-color:#fff;line-height:1}.content .avatar[data-v-1b219ebc]{width:%?130?%;height:%?130?%;margin:0 auto %?30?% auto;border-radius:%?130?%;overflow:hidden}.content .avatar uni-image[data-v-1b219ebc]{width:100%;height:100%;display:block}.content .nickname[data-v-1b219ebc]{font-size:%?28?%}.content .title[data-v-1b219ebc]{margin-top:%?40?%;font-size:%?32?%}.content .pic[data-v-1b219ebc]{margin:%?76?% auto 0 auto;width:%?636?%;height:%?200?%}.content .pic .card-title[data-v-1b219ebc]{margin-left:%?40?%;border-radius:%?120?%;overflow:hidden}.content .pic uni-image[data-v-1b219ebc]{width:%?120?%;height:%?120?%;display:block}.content .pic .name[data-v-1b219ebc]{margin-left:%?21?%;width:%?300?%}.content .reset-time[data-v-1b219ebc]{height:%?52?%;font-size:%?22?%;line-height:%?50?%;margin:%?40?% auto 0 auto}.content .time[data-v-1b219ebc]{margin-top:%?6?%;font-size:%?22?%}.content .card-btn-group[data-v-1b219ebc]{margin-top:%?34?%}.content .card-btn[data-v-1b219ebc]{width:%?284?%;height:%?76?%}.content .card-btn.btn-1[data-v-1b219ebc]{margin:%?410?% auto 0 auto}.content .card-btn.btn-0[data-v-1b219ebc]:first-child{margin-right:%?38?%}.content .card-modal[data-v-1b219ebc]{background-color:rgba(0,0,0,.5);width:100%;height:100%;position:fixed;top:0;left:0;z-index:1000}.content .card-modal .modal-content[data-v-1b219ebc]{width:%?600?%;height:%?528?%;background-size:contain;background-repeat:no-repeat;background-position:50%}.content .card-modal .modal-content .error[data-v-1b219ebc]{margin:%?290?% auto 0 auto;font-size:%?36?%}.content .card-modal .modal-content .modal-btn[data-v-1b219ebc]{margin:%?62?% auto 0 auto;width:%?520?%;height:%?90?%;border-radius:%?90?%}body.?%PAGE?%[data-v-1b219ebc]{background:#f7f7f7}',""])},"7b08":function(t,e,a){"use strict";var n=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(a("ade3")),r=a("2f62"),i=n(a("d0bd")),c=n(a("6691"));function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,o.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={name:"give",components:{appCardGive:i.default,appCardDetail:c.default},data:function(){return{card:null,type:null}},computed:s({},(0,r.mapState)({cardImg:function(t){return t.mallConfig.__wxapp_img.card}})),onLoad:function(t){this.$commonLoad.onload(t),this.loadData(t)},methods:{hShareAppMessage:function(){return this.$shareAppMessage({title:this.card.app_share_title?this.card.app_share_title:"送你一张卡券，赶快来领取吧",imageUrl:this.card.app_share_pic?this.card.app_share_pic:this.cardImg.img_card_2,path:"/pages/card/give/give",params:{card_id:this.card.id}})},loadData:function(t){var e=this;this.$showLoading(),this.$request({url:this.$api.card.give,method:"get",data:{cardId:t.card_id}}).then((function(t){if(e.$hideLoading(),0===t.code){var a=t.data;e.type=a.type,e.card=t.data;var n="";n="give"===a.type?"领取卡券":"卡券详情",uni.setNavigationBarTitle({title:n})}}))},receive:function(){this.loadData({card_id:this.card.id})}}};e.default=l},"7bc9":function(t,e,a){"use strict";a.r(e);var n=a("7b08"),o=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},"80e1":function(t,e,a){"use strict";a.r(e);var n=a("59b7"),o=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},"8e97":function(t,e,a){"use strict";a.r(e);var n=a("d8e5"),o=a("80e1");for(var r in o)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(r);a("c8cf");var i,c=a("f0c5"),d=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"3d3eda35",null,!1,n["a"],i);e["default"]=d.exports},"94e2":function(t,e,a){"use strict";var n=a("5be6"),o=a.n(n);o.a},a101:function(t,e,a){"use strict";a.r(e);var n=a("c427"),o=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},c427:function(t,e,a){"use strict";var n=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(a("ade3")),r=a("2f62"),i=n(a("8e97")),c=n(a("409e")),d=n(a("972f"));function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,o.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={name:"app-card-give",components:{appGoodsRecommend:i.default,appShareQrCode:c.default},props:{card:{type:null|Object,default:function(){return null}}},data:function(){return{comment_style:null,recommendGoodsList:null,shareShow:!1,modal:{show:!1,msg:""}}},computed:l(l(l({},(0,r.mapState)({appImg:function(t){return t.mallConfig.__wxapp_img}})),(0,r.mapGetters)("mallConfig",{getTheme:"getTheme"})),{},{contentStyle:function(){var t="";return t=2===this.card.status?"background-image: url('".concat(this.card.receive_card_bg,"')"):"background-image: url('".concat(this.card.card_bg,"')"),t}}),created:function(){this.loadRecommendGoodsList()},methods:{loadRecommendGoodsList:function(){var t=this;this.$request({url:this.$api.goods.new_recommend,method:"get",data:{type:"order_pay"}}).then((function(e){0===e.code&&(t.comment_style=e.data.comment_style,t.recommendGoodsList=e.data.list)})).catch((function(t){}))},back:function(){(0,d.default)({open_type:"redirect",url:"/pages/index/index"})},receive:function(){var t=this;this.$showLoading(),this.$request({url:this.$api.card.receive,method:"get",data:{cardId:this.card.id}}).then((function(e){t.$hideLoading(),0===e.code?t.$emit("receive"):t.modal={show:!0,msg:e.msg}}))},goto:function(){(0,d.default)({open_type:"navigate",url:"/pages/card/index/index"})}}};e.default=u},c8cf:function(t,e,a){"use strict";var n=a("f8cc"),o=a.n(n);o.a},d0bd:function(t,e,a){"use strict";a.r(e);var n=a("014f"),o=a("a101");for(var r in o)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(r);a("94e2");var i,c=a("f0c5"),d=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"1b219ebc",null,!1,n["a"],i);e["default"]=d.exports},d8e5:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.goodsList&&t.goodsList.length>0||t.onlyShowTitle?a("v-uni-view",{staticClass:"app-goods-recommend"},[a("v-uni-view",{staticClass:"recommend-title dir-left-nowrap main-center"},[a("v-uni-view",{staticClass:"dir-left-nowrap cross-center"},[a("v-uni-view",{staticClass:"border"}),a("v-uni-image",{staticClass:"app-icon-love",attrs:{src:t.commentStyle?t.commentStyle.pic_url:"../../../static/image/icon/icon-favorite.png"}}),a("v-uni-view",{staticClass:"text",style:{color:t.commentStyle?t.commentStyle.text_color:"#999"}},[t._v(t._s(t.commentStyle?t.commentStyle.text:"您或许喜欢"))]),a("v-uni-view",{staticClass:"border"})],1)],1),!t.onlyShowTitle&&t.commentStyle?a("v-uni-view",{staticClass:"recommend-list"},[0==t.commentStyle.list_style?a("v-uni-scroll-view",{staticClass:"scroll-product-list",attrs:{"scroll-x":!0}},[a("v-uni-view",{staticClass:"dir-left-nowrap"},t._l(t.goodsList,(function(e,n){return a("app-goods",{key:e.id,staticStyle:{"margin-bottom":"24rpx"},attrs:{no_extra:!0,listStyle:parseInt(t.commentStyle?t.commentStyle.list_style:2),index:n,theme:t.theme,goods:e,show_time:!1,c_border_top:16,showBuyBtn:t.showBuyBtn,extra:t.showSales?e.sales:"",c_border_bottom:16,padding:24,buy:t.sureCart&&3!=t.commentStyle.list_style,btnSize:60,buyBtnImage:t.sureCart&&3!=t.commentStyle.list_style?t.goodsImg.cart:"",isUnderLinePrice:!(!t.showUnderlinePrice||1!=t.isListUnderlinePrice||3==t.commentStyle.list_style),buyBtnText:t.sureCart&&3!=t.commentStyle.list_style?"":"立即购买"},on:{cart:function(e){arguments[0]=e=t.$handleEvent(e),t.cartResult.apply(void 0,arguments)},show:function(e){arguments[0]=e=t.$handleEvent(e),t.cartShow.apply(void 0,arguments)}}})})),1)],1):a("v-uni-view",{staticClass:"product-list main-between"},t._l(t.goodsList,(function(e,n){return a("app-goods",{key:e.id,staticStyle:{"margin-bottom":"24rpx"},attrs:{no_extra:!0,listStyle:parseInt(t.commentStyle?t.commentStyle.list_style:2),index:n,theme:t.theme,goods:e,show_time:!1,c_border_top:16,showBuyBtn:t.showBuyBtn,extra:t.showSales?e.sales:"",c_border_bottom:16,padding:24,buy:t.sureCart&&3!=t.commentStyle.list_style,btnSize:60,buyBtnImage:t.sureCart&&3!=t.commentStyle.list_style?t.goodsImg.cart:"",isUnderLinePrice:!(!t.showUnderlinePrice||1!=t.isListUnderlinePrice||3==t.commentStyle.list_style),buyBtnText:t.sureCart&&3!=t.commentStyle.list_style?"":"立即购买"},on:{cart:function(e){arguments[0]=e=t.$handleEvent(e),t.cartResult.apply(void 0,arguments)},show:function(e){arguments[0]=e=t.$handleEvent(e),t.cartShow.apply(void 0,arguments)}}})})),1)],1):t._e()],1):t._e()},r=[]},e1ee:function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,'@charset "UTF-8";.text-center[data-v-3d3eda35]{text-align:center}.font-weight[data-v-3d3eda35]{font-weight:700}.page-width[data-v-3d3eda35]{width:100%}.goods-hover-class[data-v-3d3eda35]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-3d3eda35]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-3d3eda35]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-3d3eda35]{width:100%}.u-hover-class[data-v-3d3eda35]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-3d3eda35]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-goods-recommend .recommend-title[data-v-3d3eda35]{margin:%?40?% 0 %?32?% 0;font-size:%?24?%;color:#999}.app-goods-recommend .recommend-title .text[data-v-3d3eda35]{color:#999}.app-goods-recommend .recommend-title .border[data-v-3d3eda35]{height:%?2?%;background-color:#bbb;width:%?40?%;margin:0 %?24?%}.app-goods-recommend .recommend-title .app-icon-love[data-v-3d3eda35]{width:%?24?%;height:%?24?%;margin-right:%?12?%}.app-goods-recommend .product-list[data-v-3d3eda35]{margin:0 %?24?%;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.app-goods-recommend .scroll-product-list[data-v-3d3eda35]{padding:0 %?24?%}body.?%PAGE?%[data-v-3d3eda35]{background:#f7f7f7}',""])},f003:function(t,e,a){"use strict";a.r(e);var n=a("1607"),o=a("7bc9");for(var r in o)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(r);var i,c=a("f0c5"),d=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"06b9d7b2",null,!1,n["a"],i);e["default"]=d.exports},f8cc:function(t,e,a){var n=a("e1ee");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=a("4f06").default;o("51c666e9",n,!0,{sourceMap:!1,shadowMode:!1})}}]);