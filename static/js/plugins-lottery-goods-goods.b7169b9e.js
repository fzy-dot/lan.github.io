(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-lottery-goods-goods"],{"05c9":function(t,e,i){"use strict";i.r(e);var a=i("f20b"),o=i("8763");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("a969");var r,s=i("f0c5"),d=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"400bcd05",null,!1,a["a"],r);e["default"]=d.exports},"223d":function(t,e,i){var a=i("675d");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("1baf9b5a",a,!0,{sourceMap:!1,shadowMode:!1})},"3d5b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAdVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////li2ZAAAAAJnRSTlMAAwfzOWcNCe+DQerdk/fQ5uKGgHqai8pYRTQjIcC6sW5RLyoWyIoqSH0AAADUSURBVCjPdZLbsoIwDEWTtkJpuYvoQc7Ny/7/TxQnYkY7rifoaidtdkhgVzUettkFQ8qyfMVKE5hWzB/QjiGjzPUd0Gck5CPs1qw/g8dODG8Q/0n56iDbzvAHWlAT4e4HflHJwgaFfBT4zomOaPM3YUqciIbHARVMPbZMP3VIhLN7ptZmiWBfM9WWnqK6zPN8XEpGmBchTCJaeyHhEMs79kS5r6X4G1Jcr6v0GFkfqJgS06MlirYkbWKIcB/bngZlJCiNtivcEu00SLQ6DPtkGD6Ozw29NhP0Y9/SSAAAAABJRU5ErkJggg=="},"5be7":function(t,e,i){"use strict";i.r(e);var a=i("ec1a"),o=i("9bb6");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("7fea");var r,s=i("f0c5"),d=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"77ed4720",null,!1,a["a"],r);e["default"]=d.exports},"675d":function(t,e,i){e=t.exports=i("24fb")(!1);var a=i("b605"),o=a(i("3d5b")),n=a(i("db8d"));e.push([t.i,'@charset "UTF-8";.text-center[data-v-400bcd05]{text-align:center}.font-weight[data-v-400bcd05]{font-weight:700}.page-width[data-v-400bcd05]{width:100%}.goods-hover-class[data-v-400bcd05]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-400bcd05]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-400bcd05]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-400bcd05]{width:100%}.u-hover-class[data-v-400bcd05]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-400bcd05]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.lottery-attr[data-v-400bcd05]{background:#fff;width:%?702?%;margin:0 %?24?% %?24?% %?24?%;border-radius:0 0 %?15?% %?15?%}.lottery-attr .box[data-v-400bcd05]{border-top:1px solid #e2e2e2;padding:%?28?% %?20?%}.lottery-attr .border[data-v-400bcd05]{border:1px solid #666;border-radius:%?20?%;font-size:%?24?%;line-height:1;padding:%?8?% %?16?%;color:#666}.lottery-attr .text[data-v-400bcd05]{margin-left:%?24?%;color:#353535;font-size:%?26?%;max-width:%?520?%}.lottery-attr .text uni-text[data-v-400bcd05]:after{content:"，"}.lottery-attr .text uni-text[data-v-400bcd05]:last-child:after{content:""}.lottery-share[data-v-400bcd05]{margin:%?20?% 0}.lottery-share uni-image[data-v-400bcd05]{height:%?140?%;margin:0 auto;width:%?702?%;display:block}.t1[data-v-400bcd05]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.25)}.goods-head-box[data-v-400bcd05]{position:relative}.time[data-v-400bcd05]{position:absolute;bottom:%?120?%;width:100%}.time .time-info[data-v-400bcd05]{height:%?56?%;padding:0 %?24?%;border-radius:%?28?%;font-size:%?28?%;color:#fff}.time .time-info .icon[data-v-400bcd05]{height:%?24?%;width:%?24?%;background-repeat:no-repeat;background-size:100% 100%;background-image:url('+o+")}.time .time-info uni-view[data-v-400bcd05]{margin-left:%?24?%}.time .time-error[data-v-400bcd05]{background:#000}.goods[data-v-400bcd05]{background:#fff;padding:%?20?% %?20?% %?20?% %?20?%;width:%?702?%;margin:%?24?% %?24?% 0 %?24?%;border-radius:%?15?% %?15?% 0 0}.goods .name[data-v-400bcd05]{color:#353535;font-size:%?32?%;line-height:%?42?%}.goods .goods-subtitle[data-v-400bcd05]{margin-top:%?25?%;font-size:%?24?%;line-height:%?34?%;color:#999}.goods .detail[data-v-400bcd05]{margin-top:%?24?%}.goods .detail .bold[data-v-400bcd05]{font-weight:700;font-size:%?36?%;color:#ff4544}.goods .detail .num[data-v-400bcd05]{margin-right:%?16?%;margin-left:%?12?%}.goods .detail .price[data-v-400bcd05]{padding-top:%?32?%}.goods .detail .del[data-v-400bcd05]{color:#999;margin-left:%?12?%;text-decoration:line-through}.step[data-v-400bcd05]{width:%?702?%;margin:%?24?% %?24?% 0 %?24?%;padding:%?20?% %?20?% 0 %?20?%;background:#fff;border-radius:%?15?% %?15?% 0 0}.step uni-view[data-v-400bcd05]{font-size:%?32?%;color:#353535}.icon-right[data-v-400bcd05]{background-repeat:no-repeat;background-size:100% 100%;height:%?22?%;width:%?12?%;margin-left:%?16?%;background-image:url("+n+")}.step-info[data-v-400bcd05]{padding:%?40?% 0;background:#fff;width:%?702?%;margin:0 %?24?% %?24?% %?24?%;border-radius:0 0 %?15?% %?15?%}.step-info .label[data-v-400bcd05]{font-size:%?52?%;font-weight:700;color:#ddd;margin-right:%?20?%}.step-info .value[data-v-400bcd05]{color:#666}.code[data-v-400bcd05]{margin-top:%?20?%}.lucky-all[data-v-400bcd05]{width:%?702?%;overflow-y:hidden;padding:%?20?%;background:#fff;color:#353535;margin:%?24?% %?24?% 0 %?24?%;border-radius:%?15?%}.lucky-all .friend[data-v-400bcd05]{margin-top:%?16?%;font-size:%?24?%;margin-bottom:%?24?%;color:#999}.lucky-all .swiper[data-v-400bcd05]{height:%?184?%}.lucky-all .swiper .lucky-code[data-v-400bcd05]{height:%?88?%;background:#fff5f5;padding:0 %?24?%;margin-bottom:%?8?%}.lucky-all .swiper .lucky-code uni-image[data-v-400bcd05]{margin-right:%?32?%;height:%?64?%;width:%?64?%;border-radius:50%}.lucky-all .swiper .lucky-code .nickname[data-v-400bcd05]{color:#353535}.lucky-all .swiper .lucky-code .font-normal[data-v-400bcd05]{color:#666}.lucky-all .swiper-one[data-v-400bcd05]{height:%?92?%}.goods-rule[data-v-400bcd05]{border-bottom:1px solid #e2e2e2;color:#353535;background:#fff;font-size:%?32?%;line-height:%?80?%;padding-left:%?24?%;width:%?702?%;margin:%?24?% %?24?% 0 %?24?%;border-radius:%?15?% %?15?% 0 0}.rule-info[data-v-400bcd05]{width:%?702?%;margin:0 %?24?% %?24?% %?24?%;border-radius:0 0 %?15?% %?15?%;background:#fff;padding:%?20?%}.bd-bottom[data-v-400bcd05]{width:%?750?%;height:%?110?%;padding:%?20?% %?24?%}.bd-btn[data-v-400bcd05]{border-radius:%?35?%;text-align:center;line-height:%?70?%;font-size:%?28?%;width:50%}.bd-bottom-first[data-v-400bcd05]{margin-right:%?20?%}.bd-color[data-v-400bcd05]{color:#fff}.bd-btn-end[data-v-400bcd05]{background:#cdcdcd}.animation-model[data-v-400bcd05]{position:fixed;top:0;left:0;right:0;bottom:0;overflow:hidden;z-index:1999}.animation-model .boxbg[data-v-400bcd05]{height:%?840?%;width:100%;z-index:1001}.animation-model .detaill[data-v-400bcd05]{width:100%;position:absolute;top:50% - %?157?%;z-index:1002}.animation-model .detaill .ani_box[data-v-400bcd05]{height:0;width:0}.animation-model .detaill .ani_box uni-image[data-v-400bcd05]{opacity:1;height:100%;width:100%;z-index:20}.animation-model .image[data-v-400bcd05]{width:100%;height:%?840?%;position:absolute;top:%?140?%;left:0}.u-bottom-height[data-v-400bcd05]{height:%?100?%}.u-bottom-fixed[data-v-400bcd05]{position:fixed;bottom:0;left:0;width:100%;z-index:1602;background-color:#fff}body.?%PAGE?%[data-v-400bcd05]{background:#f7f7f7}",""])},"7e70":function(t,e,i){"use strict";var a=i("4ea4");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a481"),i("c5f6"),i("7f7f");var o=a(i("ade3")),n=i("2f62"),r=a(i("cb0e")),s=a(i("12b6")),d=a(i("6244")),l=a(i("5be7")),c=a(i("d816d"));function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function g(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var v={name:"goods",components:{appRichText:r.default,appGoodsBanner:s.default,uMask:d.default,integralModel:l.default,appFloatingBtn:c.default},computed:g(g({},(0,n.mapGetters)("mallConfig",{getTheme:"getTheme"})),(0,n.mapState)({appImg:function(t){return t.mallConfig.plugin.lottery.app_image},isUnderlinePrice:function(t){return t.mallConfig.mall.setting.is_underline_price},userInfo:function(t){return t.user.info}})),data:function(){var t,e;return{integral_time:t,integral_animation:e,animation_trans_lottery:null,rule_list:[{key:1,value:"参与\n抽奖"},{key:2,value:"等待\n开奖"},{key:3,value:"幸运\n中奖"},{key:4,value:"下单\n收礼"}],times:{},poster:this.$api.lottery.poster,user_log:null,lottery:null,goods:null,lucky_list:null,lottery_id:"",award_bg:"",showModel:0,setting:{},new_status:0,limitUrl:{},template_message:null,poster_config:this.$api.lottery.poster_config,poster_generate:this.$api.lottery.poster_generate,isShowToTop:!1}},onHide:function(){clearInterval(this.integral_time)},onUnload:function(){clearInterval(this.integral_time)},onPageScroll:function(t){this.isShowToTop=t.scrollTop>667},onLoad:function(t){this.$commonLoad.onload(t);var e=this;e.$event.on(e.$const.EVENT_USER_LOGIN).then((function(){e.start(t)})),e.start(t)},methods:{jumpDetail:function(){uni.navigateTo({url:"/plugins/lottery/detail/detail?lottery_id="+this.lottery_id})},start:function(t){var e=this;this.lottery_id=t.lottery_id,this.getSetting(),this.clerk(t.user_id),this.$showLoading({title:"加载中"}),this.$request({url:this.$api.lottery.goods,data:{lottery_id:this.lottery_id}}).then((function(t){if(e.$hideLoading(),0===t.code){var i=[t.data.goods,t.data.lottery,t.data.lucky_list,t.data.user_log,t.data.new_status,t.data.template_message];e.goods=i[0],e.lottery=i[1],e.lucky_list=i[2],e.user_log=i[3],e.new_status=i[4],e.template_message=i[5],e.hShareAppMessage(),uni.setNavigationBarTitle({title:e.goods.name}),e.setTimeStart(2==e.new_status?e.lottery.start_at:e.lottery.end_at)}else uni.showToast({icon:"none",title:t.msg})})).catch((function(){e.$hideLoading()}))},hShareAppMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$shareAppMessage({title:this.goods.app_share_title?this.goods.app_share_title:this.goods.name,imageUrl:this.goods.app_share_pic?this.goods.app_share_pic:this.goods.pic_url[0].pic_url,path:"/plugins/lottery/goods/goods",desc:this.goods.subtitle,params:{lottery_id:this.lottery.id}},t)},qrcode:function(){uni.navigateTo({url:"/plugins/lottery/qrcode/qrcode"})},validateIntegral:function(){var t=Number(this.lottery.deplete_integral_num);t>0?this.showModel=this.lottery_id:this.subscribe()},prize:function(){uni.navigateTo({url:"/plugins/lottery/detail/detail?lottery_id="+this.lottery.id}),clearInterval(this.lotteryInter),this.award_bg=!1},rule:function(){uni.navigateTo({url:"/pages/rules/index?url=".concat(encodeURIComponent(this.$api.lottery.setting),"&keys=").concat(JSON.stringify(["setting","rule"]))})},catchTouchMove:function(){return!1},getSetting:function(){var t=this;t.$request({url:t.$api.lottery.setting}).then((function(e){0===e.code&&(t.setting=e.data.setting)}))},clerk:function(t){var e=this;t&&e.$request({url:e.$api.lottery.clerk,data:{user_id:t,lottery_id:e.lottery_id},method:"POST"})},setTimeStart:function(t){var e=this;clearInterval(e.integral_time);var i=function(t){var i=t.replace(/-/g,"/"),a=parseInt((new Date(i).getTime()-(new Date).getTime())/1e3),o=0,n=0,r=0,s=0;a>0&&(o=Math.floor(a/86400),n=Math.floor(a/3600)-24*o,r=Math.floor(a/60)-24*o*60-60*n,s=Math.floor(a)-24*o*60*60-60*n*60-60*r),e.times={day:o,hour:n,minute:r,second:s},e.times<=0&&clearInterval(e.integral_time)};i(t),e.integral_time=setInterval((function(){i(t)}),1e3)},subscribe:function(){if(this.showModel=0,!this.award_bg){var t=this;t.$subscribe(this.template_message).then((function(e){t.buyZero()})).catch((function(e){t.buyZero()}))}},buyZero:function(){var t=this;t.award_bg=!t.award_bg,setTimeout((function(){var e=uni.createAnimation({duration:500,timingFunction:"linear",delay:0,transformOrigin:"50% 50%"});t.award_bg?e.width("".concat(uni.upx2px(360),"px")).height("".concat(uni.upx2px(314),"px")).step():e.scale(0,0).opacity(0).step(),t.animation_trans_lottery=e.export(),setTimeout((function(){t.limitUrl={width:"".concat(uni.upx2px(360),"px"),height:"".concat(uni.upx2px(314),"px")};var i=0;t.integral_animation=setInterval((function(){i%2===0?e.scale(.9).opacity(1).step():e.scale(1).opacity(1).step(),t.animation_trans_lottery=e.export(),i++,500===i&&(i=0)}),500)}),500)}),50)},detail:function(){clearInterval(this.integral_animation),this.award_bg=!1},onImageListClick:function(t){var e=[],i=t.currentTarget.dataset.index;for(var a in this.goods.pic_url)e.push(this.goods.pic_url[a].pic_url);uni.previewImage({urls:e,current:e[i]})},buyNow:function(){uni.navigateTo({url:"/pages/goods/goods?id="+this.lottery.buy_goods_id})}}};e.default=v},"7fea":function(t,e,i){"use strict";var a=i("e124"),o=i.n(a);o.a},8763:function(t,e,i){"use strict";i.r(e);var a=i("7e70"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},"9bb6":function(t,e,i){"use strict";i.r(e);var a=i("df0f"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},a969:function(t,e,i){"use strict";var a=i("223d"),o=i.n(a);o.a},c773:function(t,e,i){e=t.exports=i("24fb")(!1),e.push([t.i,'@charset "UTF-8";.text-center[data-v-77ed4720]{text-align:center}.font-weight[data-v-77ed4720]{font-weight:700}.page-width[data-v-77ed4720]{width:100%}.goods-hover-class[data-v-77ed4720]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-77ed4720]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-77ed4720]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-77ed4720]{width:100%}.u-hover-class[data-v-77ed4720]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-77ed4720]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.lottery-integral-model[data-v-77ed4720]{text-align:center;height:100vh;width:100vw;position:fixed;top:0;z-index:1602;background-color:rgba(0,0,0,.3)}.lottery-integral-model .box[data-v-77ed4720]{position:relative;text-align:center;margin:0 auto;width:%?534?%;background-color:#fff;border-radius:%?16?%;z-index:2;top:20%}.lottery-integral-model .box .close[data-v-77ed4720]{position:absolute;height:%?30?%;width:%?30?%;top:%?24?%;right:%?24?%}.lottery-integral-model .box .header[data-v-77ed4720]{font-size:%?32?%;color:#353535;font-weight:700;margin:%?40?% auto}.lottery-integral-model .box .bg[data-v-77ed4720]{background-size:100% 100%;background-repeat:no-repeat;height:%?263?%;width:%?355?%;display:block;margin-bottom:%?40?%}.lottery-integral-model .box .btn[data-v-77ed4720]{height:%?76?%;width:%?366?%;color:#fff;font-size:%?32?%;border-radius:%?40?%;margin-bottom:%?36?%}.lottery-integral-model .box .fail[data-v-77ed4720]{line-height:1;font-size:%?28?%;margin-bottom:%?40?%}body.?%PAGE?%[data-v-77ed4720]{background:#f7f7f7}',""])},df0f:function(t,e,i){"use strict";var a=i("4ea4");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c5f6");var o=a(i("ade3")),n=i("2f62");function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={name:"integral-model",computed:s(s({},(0,n.mapGetters)("mallConfig",{getTheme:"getTheme"})),(0,n.mapState)({appImg:function(t){return t.mallConfig.__wxapp_img}})),props:{show:{type:Number,default:0},text:{type:String,default:"0积分"}},data:function(){return{modelStatus:0,params:null}},watch:{show:function(t){this.modelStatus=t}},methods:{next:function(){this.modelStatus=0,this.$emit("next",this.show)},closeModel:function(){this.modelStatus=0,this.$emit("close",this.modelStatus)}}};e.default=d},e124:function(t,e,i){var a=i("c773");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("18b445a0",a,!0,{sourceMap:!1,shadowMode:!1})},ec1a:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.modelStatus>0?i("v-uni-view",{staticClass:"lottery-integral-model"},[i("v-uni-view",{staticClass:"box dir-top-nowrap main-center cross-center"},[i("v-uni-image",{staticClass:"close",attrs:{src:"/static/image/icon/close.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeModel.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"header"},[i("v-uni-view",[t._v("参与此抽奖需要消耗")]),i("v-uni-view",[i("v-uni-text",{staticStyle:{color:"#ff4544"},domProps:{textContent:t._s(t.text)}}),t._v("，是否继续?")],1)],1),i("v-uni-view",{staticClass:"bg",style:{backgroundImage:"url("+t.appImg.lottery.bg+")"}}),i("v-uni-view",{staticClass:"btn main-center cross-center",style:{"background-color":t.getTheme.background},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.next.apply(void 0,arguments)}}},[t._v("继续抽奖")]),i("v-uni-view",{staticClass:"fail",style:{color:t.getTheme.color},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeModel.apply(void 0,arguments)}}},[t._v("放弃抽奖")])],1)],1):t._e()},n=[]},ee44:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAWCAMAAADD5o0oAAAATlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////+QlxstAAAAGXRSTlMAgtioHRUF5vjPvZOOdmdhUklA8LW0nZx9eessiAAAAFJJREFUGNNlz0kOwDAIA8BsTbqmexv//6M52hKcGAkBdrd3rAjVglXk8Ys2RFHFm6kds+jANFAnguhCSFQaiwXHdIGutkcrnqyPMsJnwpnYpbHvG2IDzAb67NcAAAAASUVORK5CYII="},f20b:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-layout",[t.goods?[a("v-uni-view",{staticClass:"goods-head-box"},[a("app-goods-banner",{attrs:{"pic-list":t.goods.pic_url,share:t.goods.share,goods_id:t.lottery_id,sign:"lottery","video-url":t.goods.video_url}}),a("v-uni-view",{staticClass:"time main-center"},[null===t.user_log||t.user_log.status<=1?a("v-uni-view",{staticClass:"time-info dir-left-nowrap cross-center",style:{"background-color":t.getTheme.background_l}},[a("v-uni-icon",{staticClass:"icon",attrs:{type:!0}}),2==t.new_status?a("v-uni-view",[t._v("距活动开始：")]):a("v-uni-view",[t._v("距活动结束：")]),t.times.day>0||t.times.hour>0?a("v-uni-text",[t._v(t._s(t.times.day)+"天"+t._s(t.times.hour)+"小时")]):t._e(),0==t.times.day&&0==t.times.hour?a("v-uni-text",[t._v(t._s(t.times.minute)+"分"+t._s(t.times.second)+"秒")]):t._e()],1):a("v-uni-view",{staticClass:"time-info time-error dir-left-nowrap cross-center",style:{"background-color":t.getTheme.background_l}},[a("v-uni-icon",{staticClass:"icon",attrs:{type:!0}}),a("v-uni-view",[t._v("活动已结束")])],1)],1)],1),t.goods?a("v-uni-view",{staticClass:"goods"},[a("v-uni-view",{staticClass:"u-line-2 name"},[t._v(t._s(t.goods.name))]),t.goods.subtitle?a("v-uni-view",{staticClass:"goods-subtitle"},[a("v-uni-view",{staticClass:"t-omit-three"},[t._v(t._s(t.goods.subtitle))])],1):t._e(),a("v-uni-view",{staticClass:"dir-left-nowrap"},[a("v-uni-view",{staticClass:"detail box-grow-1"},[a("v-uni-view",{staticClass:"dir-left-nowrap box-grow-0"},[a("v-uni-text",[t._v("共")]),a("v-uni-text",{staticClass:"bold"},[t._v(t._s(t.lottery.stock))]),a("v-uni-text",[t._v("份")]),a("v-uni-view",{staticClass:"num"},[t._v(t._s(t.goods.num)+"人参与")])],1),a("v-uni-view",{staticClass:"price dir-left-nowrap box-grow-0"},[a("v-uni-view",{staticClass:"box-grow-0",style:{color:t.getTheme.color}},[t._v("免费")]),t.isUnderlinePrice?a("v-uni-view",{staticClass:"box-grow-0 del"},[t._v("售价￥"+t._s(t.goods.original_price))]):t._e()],1)],1)],1)],1):t._e(),a("v-uni-view",{staticClass:"lottery-attr"},[a("v-uni-view",{staticClass:"box cross-center"},[a("v-uni-view",{staticClass:"border box-grow-0"},[t._v("商品信息")]),a("v-uni-view",{staticClass:"text dir-left-wrap t-omit"},[t._l(t.goods.attr_list,(function(e,i){return[a("v-uni-text",[t._v(t._s(e.attr_group_name)+"："+t._s(e.attr_name))])]}))],2)],1)],1),1===t.setting.cs_status&&t.setting.cs_prompt_pic?a("v-uni-view",{staticClass:"lottery-share",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.qrcode.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:t.setting.cs_prompt_pic,mode:"aspectFit","load-lazy":!0}})],1):t._e(),a("v-uni-view",{staticClass:"step cross-center dir-left-nowrap",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.rule.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"box-grow-1"},[t._v("抽奖流程")]),a("v-uni-view",{staticClass:"cross-center"},[a("v-uni-icon",{staticClass:"icon-right box-grow-0",attrs:{type:!0}})],1)],1),a("v-uni-view",{staticClass:"step-info dir-left-nowrap"},[t._l(t.rule_list,(function(e,i){return[a("v-uni-view",{key:i+"_0",staticClass:"box-grow-1 dir-left-nowrap main-center cross-center"},[a("v-uni-view",{staticClass:"label"},[t._v(t._s(e.key))]),a("v-uni-text",{staticClass:"value"},[t._v(t._s(e.value))])],1)]}))],2),t.lucky_list?a("v-uni-view",{staticClass:"dir-top-nowrap lucky-all"},[a("v-uni-view",{staticClass:"dir-left-nowrap main-between"},[a("v-uni-view",{staticClass:"box-grow-0"},[t._v("幸运码实时")]),null!=t.user_log?a("v-uni-view",{staticClass:"dir-left-nowrap cross-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpDetail.apply(void 0,arguments)}}},[a("v-uni-view",{staticStyle:{"font-size":"24rpx",color:"#999999"}},[t._v("我的抽奖")]),a("v-uni-icon",{staticClass:"icon-right box-grow-0",staticStyle:{"margin-left":"12rpx"},attrs:{type:!0}})],1):t._e()],1),a("v-uni-view",{staticClass:"box-grow-1 friend"},[t._v("邀请好友参与，额外获赠幸运码，提高中奖率哦！")]),t.lucky_list.length?a("v-uni-swiper",{staticClass:"swiper",class:[t.lucky_list.length>1?"":"swiper-one"],attrs:{"display-multiple-items":t.lucky_list.length>1?2:1,vertical:"true",autoplay:"true",interval:"2000",duration:"500",circular:"true"}},[t._l(t.lucky_list,(function(e,i){return[a("v-uni-swiper-item",{key:i+"_0",staticStyle:{height:"50%"},on:{touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.catchTouchMove.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"dir-left cross-center lucky-code"},[a("v-uni-image",{staticClass:"box-grow-0",attrs:{src:e.user.userInfo.avatar,"load-lazy":!0}}),a("v-uni-view",{staticClass:"box-grow-1 t-omit nickname"},[t._v(t._s(e.user.nickname))]),a("v-uni-view",{staticClass:"box-grow-0 font-normal"},[t._v(t._s(e.lucky_num)+"个幸运码")])],1)],1)]}))],2):t._e()],1):t._e(),a("v-uni-view",{staticClass:"goods-rule"},[t._v("商品详情")]),a("v-uni-view",{staticClass:"rule-info"},[a("app-rich-text",{attrs:{content:t.goods.detail}})],1),a("v-uni-view",{staticClass:"safe-area-inset-bottom"},[a("v-uni-view",{staticClass:"u-bottom-height"})],1),a("v-uni-view",{staticClass:"safe-area-inset-bottom u-bottom-fixed"},[a("v-uni-view",{staticClass:"bd-bottom main-center cross-center"},[a("v-uni-view",{staticClass:"bd-btn bd-bottom-first",style:{"background-color":t.getTheme.background_s,color:t.getTheme.secondary_text},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buyNow.apply(void 0,arguments)}}},[t._v("直接购买")]),2==t.new_status?a("v-uni-view",{staticClass:"bd-btn  bd-btn-end bd-color"},[t._v("尚未开始")]):1==t.lottery.type?a("v-uni-view",{staticClass:"bd-btn bd-btn-end bd-color main-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpDetail.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"dir-left-nowrap cross-center"},[a("v-uni-view",[t._v("已开奖")]),a("v-uni-image",{staticStyle:{height:"22rpx",width:"15rpx","margin-left":"10rpx"},attrs:{src:i("ee44")}})],1)],1):0==t.lottery.status?a("v-uni-view",{staticClass:"bd-btn bd-btn-end bd-color"},[t._v("已关闭")]):null==t.user_log?a("v-uni-view",{staticClass:"bd-btn bd-color",style:{"background-color":t.getTheme.background,color:t.getTheme.main_text},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.validateIntegral.apply(void 0,arguments)}}},[t._v("立即抽奖")]):t.user_log.status<=1?a("v-uni-view",{staticClass:"bd-btn bd-btn-end bd-color",staticStyle:{height:"70rpx",background:"linear-gradient(270deg, #FF4544 0%, rgba(255, 69, 68, 0.7) 100%)"},style:{background:t.getTheme.background_gradient_btn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hShareAppMessage(!0)}}},[a("app-jump-button",{attrs:{form:!0,arrangement:"topCenter",open_type:"share"}},[a("v-uni-view",{staticClass:"cross-center"},[a("v-uni-view",[t._v("邀请好友提高中奖率")])],1)],1)],1):a("v-uni-view",{staticClass:"bd-btn bd-btn-end bd-color"},[t._v("已结束")])],1)],1),t.award_bg?a("v-uni-view",{staticClass:"animation-model main-center cross-center"},[a("u-mask",{attrs:{maskClickAble:!1,show:t.award_bg}}),a("v-uni-view",{staticClass:"main-center detaill",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.prize.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[a("v-uni-view",{staticClass:"ani_box",style:[t.limitUrl],attrs:{animation:t.animation_trans_lottery}},[a("v-uni-image",{attrs:{src:t.appImg.lottery_box}})],1)],1),a("v-uni-image",{staticClass:"boxbg",attrs:{src:t.appImg.lottery_boxbg},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}})],1):t._e(),a("app-floating-btn",{attrs:{"share-url":t.poster+"&goods_id="+t.goods.id,goods:t.goods,"poster-config":t.poster_config+"&goods_id="+t.goods.id,"poster-generate":t.poster_generate+"&goods_id="+t.goods.id,"app-share-pic":t.goods.app_share_pic,"app-share-title":t.goods.app_share_title,"has-poster-nav":!0,"is-cart":!0,"is-to-top":t.isShowToTop},on:{share:function(e){arguments[0]=e=t.$handleEvent(e),t.hShareAppMessage.apply(void 0,arguments)}}})]:a("v-uni-view",{staticClass:"u-goods-detail"}),a("integral-model",{attrs:{show:t.showModel,text:t.lottery.deplete_integral_num+"积分"},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.showModel=0},next:function(e){arguments[0]=e=t.$handleEvent(e),t.subscribe.apply(void 0,arguments)}}})],2)},n=[]}}]);