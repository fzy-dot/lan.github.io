(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-edit-cat-edit-cat-edit"],{"0c59":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,'@charset "UTF-8";.text-center[data-v-1119dd6a]{text-align:center}.font-weight[data-v-1119dd6a]{font-weight:700}.page-width[data-v-1119dd6a]{width:100%}.goods-hover-class[data-v-1119dd6a]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-1119dd6a]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-1119dd6a]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-1119dd6a]{width:100%}.u-hover-class[data-v-1119dd6a]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-1119dd6a]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.cat-info[data-v-1119dd6a]{background-color:#fff;padding:0 %?24?%}.cat-info .cat-item[data-v-1119dd6a]:first-of-type{border-top:0}.cat-info .select[data-v-1119dd6a]{width:100%}.cat-info .form-label[data-v-1119dd6a]{padding:%?30?% 0;width:%?148?%;text-align:right;margin-right:%?16?%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.cat-info .form-label .sub-label[data-v-1119dd6a]{font-size:%?24?%;color:#999}.cat-info .price-input[data-v-1119dd6a]{width:100%}.cat-info .price-input uni-input[data-v-1119dd6a]{width:100%}.cat-info .cat-item[data-v-1119dd6a]{border-top:%?1?% solid #e2e2e2;min-height:%?88?%;font-size:%?28?%;color:#353535}.cat-info .cat-item .to-more[data-v-1119dd6a]{height:%?24?%;width:%?12?%;margin-left:%?10?%}.cat-info .cat-item .cat-pic[data-v-1119dd6a]{width:%?80?%;height:%?80?%;margin-right:%?28?%}.cat-info .cat-item .cat-pic.big[data-v-1119dd6a]{width:%?265?%}.cat-info .cat-item .cat-pic.advert[data-v-1119dd6a]{width:%?218?%}.cat[data-v-1119dd6a]{background-color:#fff;margin-bottom:%?20?%}.cat .show-more[data-v-1119dd6a]{width:%?45?%;height:%?88?%}.cat .show-more uni-image[data-v-1119dd6a]{height:%?22?%;width:%?12?%}.cat .cat-item[data-v-1119dd6a]{height:%?88?%;line-height:%?88?%;font-size:%?28?%;color:#353535}.cat .cat-item.cat-left[data-v-1119dd6a]{margin-left:%?16?%}.cat .cat-menu[data-v-1119dd6a]{margin-right:%?16?%}.cat .cat-menu uni-image[data-v-1119dd6a]{height:%?40?%;width:%?40?%;margin-left:%?10?%}.add[data-v-1119dd6a]{position:fixed;bottom:0;left:0;height:%?120?%;width:100%;z-index:15;background-color:#fff}.add.iphone_x[data-v-1119dd6a]{height:%?170?%;padding-bottom:%?50?%}.add uni-view[data-v-1119dd6a]{width:%?702?%;line-height:%?80?%;height:%?80?%;margin:%?20?% auto;border-radius:%?40?%;background-color:#446dfd;color:#fff;font-size:%?32?%;text-align:center}.placeholder[data-v-1119dd6a]{height:%?120?%}.placeholder.iphone_x[data-v-1119dd6a]{height:%?170?%}.params-dialog[data-v-1119dd6a]{position:fixed;height:100%;width:100%;bottom:0;left:0;z-index:22;background-color:rgba(0,0,0,.3)}.params-dialog .params[data-v-1119dd6a]{width:%?620?%;background-color:#fff;border-radius:%?16?%;margin-top:%?-200?%}.params-dialog .params .params-title[data-v-1119dd6a]{margin:%?40?% 0;font-size:%?32?%;color:#353535;text-align:center}.params-dialog .params .params-list[data-v-1119dd6a]{max-height:%?480?%;overflow-y:auto}.params-dialog .params .params-list .params-item[data-v-1119dd6a]{margin-bottom:%?20?%}.params-dialog .params .params-list .params-item .params-label[data-v-1119dd6a]{height:%?80?%;line-height:%?80?%;margin-right:%?20?%}.params-dialog .params .params-list .params-item .params-input[data-v-1119dd6a]{height:%?80?%;line-height:%?80?%;background-color:#f7f7f7;border-radius:%?8?%;width:%?320?%;padding:0 %?28?%;-webkit-box-sizing:border-box;box-sizing:border-box;text-align:left}.params-dialog .params .params-list .params-item .params-input uni-input[data-v-1119dd6a]{width:100%;height:100%}.params-dialog .params .params-list .params-item .params-desc[data-v-1119dd6a]{margin-top:%?10?%;padding:0 %?24?%;color:#999;font-size:%?28?%;text-align:center}.params-dialog .params .params-buttons[data-v-1119dd6a]{width:%?620?%;height:%?88?%;border-top:%?1?% solid #e2e2e2}.params-dialog .params .params-buttons .line[data-v-1119dd6a]{width:%?2?%;height:%?32?%;background-color:#e2e2e2}.params-dialog .params .params-buttons .but[data-v-1119dd6a]{width:%?309?%;height:%?88?%;line-height:%?88?%;text-align:center;font-size:%?32?%}.params-dialog .params .params-buttons .cancel[data-v-1119dd6a]{color:%?32?%}.params-dialog .params .params-buttons .confirm[data-v-1119dd6a]{color:#446dfd}.dialog[data-v-1119dd6a]{position:fixed;height:100%;width:100%;bottom:0;left:0;z-index:20;background-color:rgba(0,0,0,.3)}.dialog .picker-list[data-v-1119dd6a]{background-color:#fff;padding-top:%?20?%;position:fixed;bottom:0;left:0;width:100%}.dialog .picker-list .picker-type[data-v-1119dd6a]{height:%?84?%;border-bottom:%?2?% solid #e2e2e2;padding:0 %?24?%}.dialog .picker-list .picker-type .picker-type-item[data-v-1119dd6a]{height:%?82?%;line-height:%?82?%;text-align:center;font-size:%?28?%}.dialog .picker-list .picker-type .picker-type-item.active[data-v-1119dd6a]{border-bottom:%?3?% solid}.dialog .picker-list .picker-header[data-v-1119dd6a]{padding:0 %?24?%;font-size:%?32?%}.dialog .picker-list .picker[data-v-1119dd6a]{width:100%;height:%?440?%;color:#999}.dialog .picker-list .picker-text[data-v-1119dd6a]{height:34px;line-height:34px;font-size:%?32?%;padding-left:%?24?%;text-align:left}body.?%PAGE?%[data-v-1119dd6a]{background:#f7f7f7}',""])},"26d1":function(t,e,a){"use strict";a.r(e);var i=a("9106"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},9106:function(t,e,a){"use strict";var i=a("4ea4");a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("6b54"),a("87b3"),a("7f7f");var n=i(a("ade3")),s=a("2f62"),o=i(a("d5ea"));function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=c(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,r=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){r=!0,s=t},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw s}}}}function c(t,e){if(t){if("string"===typeof t)return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v={data:function(){return{dialog:!1,level:[{value:1,label:"一级"},{value:2,label:"二级"},{value:3,label:"三级"}],iphone_x:!1,showParams:!1,parents:null,parents_two:null,mode:"",params:[],pickList:[],linkType:[{value:"base",name:"基础"},{value:"order",name:"订单"},{value:"marketing",name:"营销"},{value:"plugin",name:"插件"},{value:"diy",name:"微页面"}],chooseType:"base",title:"",linkList:[],list:[],mch_id:null,id:0,type:"",newIndex:0,chooseIndex:[0],catItem:{level:1,name:"",sort:100,pic_url:"",big_pic_url:"",advert_pic:"",status:1,advert_url:"",advert_open_type:"",advert_params:[],is_show:1,parent_id:""},color:""}},computed:u({},(0,s.mapState)({userInfo:function(t){return t.user.info},adminImg:function(t){return t.mallConfig.__wxapp_img.app_admin}})),methods:{paramsConfirm:function(){var t,e=r(this.params);try{for(e.s();!(t=e.n()).done;){var a=t.value;if(a.is_required&&!a.value)return uni.showToast({title:a.desc,icon:"none",duration:1e3}),!1}}catch(i){e.e(i)}finally{e.f()}this.dialog=!1,this.showParams=!1,this.catItem.advert_url=this.pickList[this.newIndex].value,this.catItem.advert_open_type=this.pickList[this.newIndex].open_type,this.catItem.advert_params=this.params},toggleType:function(t){var e=this;this.chooseType=t,this.pickList=[],this.newIndex=0,this.chooseIndex[0]=0,setTimeout((function(){e.pickList=e.linkList[t]}),200)},getList:function(t){var e=this;if(this.pickList=[],this.mode=t,this.newIndex=0,this.chooseIndex[0]=0,"one"==t){var a,i=[],n=r(this.list);try{for(n.s();!(a=n.n()).done;){var s=a.value;3==this.catItem.level?s.children&&i.push(s):i.push(s)}}catch(l){n.e(l)}finally{n.f()}for(var o in i)this.parents&&this.parents.value==i[o].value&&(this.newIndex=+o,this.chooseIndex[0]=+o),this.pickList.push(i[o]);if(0==this.pickList.length)return uni.showToast({title:"暂无可用的一级分类",icon:"none",duration:1e3}),this.catItem.level--,!1;this.$nextTick((function(){e.dialog=!0}))}if("two"==t){if(!this.parents)return uni.showToast({title:"请选择归属的一级分类",icon:"none",duration:1e3}),!1;if(this.parents.children){for(var c in this.parents.children)this.parents_two&&this.parents_two.value==this.parents.children[c].value&&(this.newIndex=+c,this.chooseIndex[0]=+c),this.pickList.push(this.parents.children[c]);if(0==this.pickList.length)return uni.showToast({title:"暂无二级分类",icon:"none",duration:1e3}),this.catItem.level--,!1;this.$nextTick((function(){e.dialog=!0}))}}if("ad"==t){for(var d in this.pickList=this.linkList[this.chooseType],this.linkList[this.chooseType])this.catItem.advert_url&&this.catItem.advert_url==this.linkList[this.chooseType][d].value&&(this.newIndex=+d,this.chooseIndex[0]=+d);this.$nextTick((function(){e.dialog=!0}))}},submitChoose:function(){"one"==this.mode?(this.dialog=!1,this.parents&&this.parents.value!=this.pickList[this.newIndex].value&&(this.parents_two=null),this.parents=this.pickList[this.newIndex]):"two"==this.mode?(this.dialog=!1,this.parents_two=this.pickList[this.newIndex]):"ad"==this.mode&&(this.pickList[this.newIndex].params?(this.params=this.pickList[this.newIndex].params,this.title=this.pickList[this.newIndex].name,this.showParams=!0):(this.dialog=!1,this.catItem.advert_url=this.pickList[this.newIndex].value,this.catItem.advert_open_type=this.pickList[this.newIndex].open_type,this.catItem.advert_params=[]))},bindChange:function(t){this.newIndex=+t.detail.value[0]},getCat:function(){var t=this,e=0==this.mch_id?t.$api.app_admin.cat:"mall"==t.type?t.$api.mch.cat:t.$api.mch.mch_cat;t.$request({url:e,data:{mch_id:t.mch_id}}).then((function(e){t.$hideLoading(),0==e.code?t.list=e.data.list:uni.showToast({title:e.msg,icon:"none",duration:1e3})})).catch((function(e){t.$hideLoading()}))},getPickLine:function(){var t=this;t.$request({url:t.$api.app_admin.pick_link}).then((function(e){t.$hideLoading(),0==e.code?t.linkList=e.data.list:uni.showToast({title:e.msg,icon:"none",duration:1e3})})).catch((function(e){t.$hideLoading()}))},add:function(t){var e=this;this.menu=!1,uni.chooseImage({count:1,sizeType:["original","compressed"],success:function(t){uni.showLoading({mask:!0,title:"上传中..."});var a=e.list,i=new Image;i.src=t.tempFilePaths;i.onload=function(){var t=document.createElement("canvas");t.width=i.width,t.height=i.height;var n=t.getContext("2d");n.drawImage(i,0,0,i.width,i.height);var s=i.src.substring(i.src.lastIndexOf(".")+1).toLowerCase(),r=t.toDataURL("image/"+s);(0,o.default)({url:e.$api.upload.file,maxNum:1,success:function(t){t.res;var i=t.header;e.$request({url:e.$api.upload.file+"&name=base64",header:i,method:"post",data:{database:r}}).then((function(t){if(uni.hideLoading(),0===t.code){for(var i in a)"img"===a[i].type&&""===a[i].pic_url&&(a[i].pic_url=t.data.url,a[i].id=t.data.id);e.loadingImg=!1,uni.hideLoading()}else uni.showModal({title:"",content:t.msg,showCancel:!1})}))}})}}})},typeChange:function(t){if(this.id>0)return!1;this.catItem.level=t.target.value,3==this.catItem.level&&this.parents&&!this.parents.children&&(this.parents=null)},save:function(){var t=this,e=0==this.mch_id?t.$api.app_admin.cat_edit:"mall"==t.type?t.$api.mch.cat:t.$api.mch.mch_cat_edit;if(t.catItem.status=t.catItem.status.toString(),3==t.catItem.level){if(!t.parents_two||!t.parents_two.value)return uni.showToast({title:"请选择归属的二级分类",icon:"none",duration:1e3}),!1;t.catItem.parent_id=t.parents_two.value}else if(2==t.catItem.level){if(!t.parents||!t.parents.value)return uni.showToast({title:"请选择归属的一级分类",icon:"none",duration:1e3}),!1;t.catItem.parent_id=t.parents.value}if(!t.catItem.name)return uni.showToast({title:"分类名称不能为空",icon:"none",duration:1e3}),!1;uni.showLoading({mask:!0,title:"提交中..."}),t.mch_id>0&&(t.catItem.mch_id=t.mch_id),t.catItem.is_show=+t.catItem.is_show,t.catItem.status=t.catItem.status.toString(),t.$request({url:e,data:{form:JSON.stringify(t.catItem),mch_id:t.mch_id},method:"post"}).then((function(e){t.$hideLoading(),uni.hideLoading(),0==e.code?(uni.showToast({title:e.msg,duration:1e3}),setTimeout((function(){uni.navigateBack()}),1e3)):uni.showToast({title:e.msg,icon:"none",duration:1e3})})).catch((function(e){uni.hideLoading(),t.$hideLoading()}))},getDetail:function(){var t=this,e=0==this.mch_id?t.$api.app_admin.cat_edit:"mall"==t.type?t.$api.mch.cat:t.$api.mch.mch_cat_edit;t.$request({url:e,data:{id:t.id,mch_id:t.mch_id}}).then((function(e){if(t.$hideLoading(),0==e.code){if(t.catItem=e.data.detail,t.catItem.level=e.data.detail.parents.length+1,t.catItem.level>1){var a,i=r(t.catItem.parents);try{for(i.s();!(a=i.n()).done;){var n=a.value;0==n.parent_id?t.parents={label:n.name,value:n.id}:t.parents_two={label:n.name,value:n.id}}}catch(s){i.e(s)}finally{i.f()}}}else uni.showToast({title:e.msg,icon:"none",duration:1e3})})).catch((function(e){t.$hideLoading()}))}},onLoad:function(t){var e=this;this.id=t.id?t.id:0,this.type=t.type?t.type:"",this.mch_id=t.mch_id?t.mch_id:0,this.color=this.mch_id>0?"#ff4544":"#446dfd",uni.setNavigationBarTitle({title:this.id>0?"编辑分类":"新增分类"}),0==this.mch_id&&e.getPickLine(),this.id>0&&(e.$showLoading({type:"global",text:"加载中..."}),this.getDetail()),e.iphone_x=this.$utils.checkIphone(),e.getCat()}};e.default=v},ac51:function(t,e,a){"use strict";var i=a("f6c4"),n=a.n(i);n.a},cefb:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-layout",[t.mch_id||0==t.mch_id?a("v-uni-view",{staticClass:"cat-info"},[a("v-uni-view",{staticClass:"cat-item type cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[t._v("分类级别")]),a("v-uni-view",{staticClass:"select"},[a("v-uni-radio-group",{staticClass:"dir-left-nowrap main-between",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.typeChange.apply(void 0,arguments)}}},t._l(t.level,(function(e){return a("v-uni-label",{key:e.value,staticClass:"dir-left-nowrap cross-center",staticStyle:{width:"33%"}},[a("v-uni-view",[a("v-uni-radio",{attrs:{disabled:t.id>0,color:t.color,value:e.value,checked:e.value==t.catItem.level}})],1),a("v-uni-view",{staticClass:"select-label",style:{color:t.id>0?"#adadb2":t.catItem.level==e.value?t.color:"#353535"}},[t._v(t._s(e.label))])],1)})),1)],1)],1),t.catItem.level>1?a("v-uni-view",{staticClass:"cat-item cross-center main-between"},[a("v-uni-view",{staticClass:"form-label"},[a("v-uni-view",[a("v-uni-text",{staticStyle:{color:"#ff4544"}},[t._v("*")]),t._v("一级分类")],1)],1),a("v-uni-view",{staticStyle:{"flex-grow":"1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getList("one")}}},[a("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center"},[a("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),t.parents?a("v-uni-text",{staticClass:"t-omit",staticStyle:{color:"#353535",width:"90%","text-align":"right"}},[t._v(t._s(t.parents.label))]):a("v-uni-text",{staticStyle:{color:"#cdcdcd"}},[t._v("请选择归属的一级分类")])],1)],1)],1):t._e(),t.catItem.level>2?a("v-uni-view",{staticClass:"cat-item cross-center main-between"},[a("v-uni-view",{staticClass:"form-label"},[a("v-uni-view",[a("v-uni-text",{staticStyle:{color:"#ff4544"}},[t._v("*")]),t._v("二级分类")],1)],1),a("v-uni-view",{staticStyle:{"flex-grow":"1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getList("two")}}},[a("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center"},[a("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),t.parents_two?a("v-uni-text",{staticClass:"t-omit",staticStyle:{color:"#353535",width:"90%","text-align":"right"}},[t._v(t._s(t.parents_two.label))]):a("v-uni-text",{staticStyle:{color:"#cdcdcd"}},[t._v("请选择归属的二级分类")])],1)],1)],1):t._e(),a("v-uni-view",{staticClass:"cat-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[a("v-uni-text",{staticStyle:{color:"#ff4544"}},[t._v("*")]),t._v("分类名称")],1),a("v-uni-view",{staticClass:"dir-left-nowrap price-input cross-center"},[a("v-uni-input",{staticClass:"input",attrs:{"placeholder-style":"color: #cdcdcd",maxlength:"16",placeholder:"请输入分类名称"},model:{value:t.catItem.name,callback:function(e){t.$set(t.catItem,"name",e)},expression:"catItem.name"}})],1)],1),a("v-uni-view",{staticClass:"cat-item cross-center dir-left-nowrap"},[a("v-uni-view",{staticClass:"form-label"},[a("v-uni-text",{staticStyle:{color:"#ff4544"}},[t._v("*")]),t._v("排序")],1),a("v-uni-view",{staticClass:"dir-left-nowrap price-input cross-center"},[a("v-uni-input",{staticClass:"input",attrs:{type:"number","placeholder-style":"color: #cdcdcd",placeholder:"请输入排序"},model:{value:t.catItem.sort,callback:function(e){t.$set(t.catItem,"sort",e)},expression:"catItem.sort"}})],1)],1),a("v-uni-view",{staticClass:"cat-item cross-center main-between"},[a("v-uni-view",{staticClass:"form-label"},[a("v-uni-view",[t._v("分类图标")]),a("v-uni-view",{staticClass:"sub-label"},[t._v("200x200")])],1),a("v-uni-view",[a("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add("pic_url")}}},[a("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),t.catItem.pic_url?a("v-uni-image",{staticClass:"cat-pic",attrs:{src:t.catItem.pic_url}}):a("v-uni-text",{staticStyle:{color:"#cdcdcd"}},[t._v("请上传分类图标")])],1)],1)],1),a("v-uni-view",{staticClass:"cat-item cross-center main-between"},[a("v-uni-view",{staticClass:"form-label"},[a("v-uni-view",[t._v("分类大图")]),a("v-uni-view",{staticClass:"sub-label"},[t._v("702x212")])],1),a("v-uni-view",[a("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add("big_pic_url")}}},[a("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),t.catItem.big_pic_url?a("v-uni-image",{staticClass:"cat-pic big",attrs:{src:t.catItem.big_pic_url}}):a("v-uni-text",{staticStyle:{color:"#cdcdcd"}},[t._v("请上传分类大图")])],1)],1)],1),a("v-uni-view",{staticClass:"cat-item cross-center main-between"},[a("v-uni-view",{staticClass:"form-label"},[a("v-uni-view",[t._v("分类广告图")]),a("v-uni-view",{staticClass:"sub-label"},[t._v("500x184")])],1),a("v-uni-view",[a("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add("advert_pic")}}},[a("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),t.catItem.advert_pic?a("v-uni-image",{staticClass:"cat-pic advert",attrs:{src:t.catItem.advert_pic}}):a("v-uni-text",{staticStyle:{color:"#cdcdcd"}},[t._v("请上传分类广告图")])],1)],1)],1),0==t.mch_id?a("v-uni-view",{staticClass:"cat-item cross-center main-between"},[a("v-uni-view",{staticClass:"form-label"},[a("v-uni-view",[t._v("广告链接")])],1),a("v-uni-view",{staticStyle:{"flex-grow":"1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getList("ad")}}},[a("v-uni-view",{staticClass:"cat-info dir-right-nowrap cross-center"},[a("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}}),t.catItem.advert_url?a("v-uni-text",[t._v(t._s(t.catItem.advert_url))]):a("v-uni-text",{staticStyle:{color:"#cdcdcd"}},[t._v("请选择链接")])],1)],1)],1):t._e(),a("v-uni-view",{staticClass:"cat-item cross-center main-between"},[a("v-uni-view",{staticClass:"form-label"},[t._v("是否启用")]),a("v-uni-switch",{staticStyle:{transform:"scale(0.7)"},attrs:{color:t.color,checked:1==t.catItem.status},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.catItem.status=0==t.catItem.status?1:0}}})],1),a("v-uni-view",{staticClass:"cat-item cross-center main-between"},[a("v-uni-view",{staticClass:"form-label"},[t._v("是否显示")]),a("v-uni-switch",{staticStyle:{transform:"scale(0.7)"},attrs:{color:t.color,checked:1==t.catItem.is_show},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.catItem.is_show=!t.catItem.is_show}}})],1)],1):t._e(),t.mch_id||0==t.mch_id?a("v-uni-view",{class:["placeholder",t.iphone_x?"iphone_x":""]}):t._e(),t.mch_id||0==t.mch_id?a("v-uni-view",{class:["add",t.iphone_x?"iphone_x":""]},[a("v-uni-view",{style:{"background-color":t.color},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.save.apply(void 0,arguments)}}},[t._v("保存")])],1):t._e(),t.dialog?a("v-uni-view",{class:["dialog",t.iphone_x?"iphone_x":""]},[a("v-uni-view",{staticClass:"picker-list"},[a("v-uni-view",{staticClass:"main-between picker-header",style:{color:t.color}},[a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dialog=!1}}},[t._v("取消")]),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitChoose.apply(void 0,arguments)}}},[t._v("确定")])],1),"ad"==t.mode?a("v-uni-view",{staticClass:"picker-type dir-left-nowrap cross-center"},t._l(t.linkType,(function(e){return a("v-uni-view",{key:e.value,staticClass:"picker-type-item box-grow-1",class:t.chooseType==e.value?"active":"",style:{color:t.chooseType==e.value?t.color:"#353535","border-color":t.chooseType==e.value?t.color:"#fff"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toggleType(e.value)}}},[t._v(t._s(e.name))])})),1):t._e(),t.pickList.length>0?a("v-uni-picker-view",{staticClass:"picker",attrs:{"indicator-style":"height: 34px;",value:t.chooseIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindChange.apply(void 0,arguments)}}},[a("v-uni-picker-view-column",t._l(t.pickList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"picker-text t-omit",style:{color:t.newIndex==i?t.color:t.newIndex==i+1||t.newIndex==i-1?"#999999":t.newIndex==i+2||t.newIndex==i-2?"#cdcdcd":""}},[t._v(t._s("ad"==t.mode?e.name:e.label))])})),1)],1):0==t.pickList.length&&"ad"==t.mode?a("v-uni-view",{staticClass:"picker",staticStyle:{"background-color":"#fff"}}):t._e()],1)],1):t._e(),t.showParams?a("v-uni-view",{staticClass:"params-dialog main-center cross-center"},[a("v-uni-view",{staticClass:"params"},[a("v-uni-view",{staticClass:"params-title"},[t._v(t._s(t.title))]),a("v-uni-view",{staticClass:"params-list"},t._l(t.params,(function(e){return a("v-uni-view",{key:e.key,staticClass:"params-item"},[a("v-uni-view",{staticClass:"main-center cross-center"},[a("v-uni-view",{staticClass:"params-label"},[t._v(t._s(e.key))]),a("v-uni-view",{staticClass:"params-input"},["checkbox"===e.number?a("v-uni-input",{attrs:{type:"checkbox"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}}):"radio"===e.number?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],attrs:{type:"radio"},domProps:{checked:t._q(e.value,null)},on:{change:function(a){return t.$set(e,"value",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],attrs:{type:e.number},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})],1)],1),a("v-uni-view",{staticClass:"params-desc"},[t._v(t._s(e.desc))])],1)})),1),a("v-uni-view",{staticClass:"params-buttons dir-left-nowrap cross-center"},[a("v-uni-view",{staticClass:"but cancel"},[a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showParams=!1}}},[t._v("取消")])],1),a("v-uni-view",{staticClass:"line"}),a("v-uni-view",{staticClass:"but confirm"},[a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.paramsConfirm.apply(void 0,arguments)}}},[t._v("确认")])],1)],1)],1)],1):t._e()],1)},s=[]},d5ea:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("f854")),s=(i(a("e143")),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,a){(0,n.default)(t,"file").then((function(e){t.success({res:"",header:e})}))}))}),o=s;e.default=o},f6c4:function(t,e,a){var i=a("0c59");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("5499e3ce",i,!0,{sourceMap:!1,shadowMode:!1})},f854:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a481"),a("96cf");var n=i(a("1da1")),s=a("8de3"),o=i(a("e143")),r=i(a("4360")),c=a("b1c7"),d=i(a("36e8")),l=function(){var t=(0,n.default)(regeneratorRuntime.mark((function t(e,a){var i,n,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={"X-App-Platform":e.header&&e.header["X-App-Platform"]?e.header["X-App-Platform"]:o.default.prototype.$platform,"X-Form-Id-List":JSON.stringify((0,s.popAll)()),"X-Requested-With":e.header&&e.header["X-Requested-With"]?e.header["X-Requested-With"]:"XMLHttpRequest","X-App-Version":o.default.prototype.$appVersion,"content-type":a?"multipart/form-data":"application/x-www-form-urlencoded"},t.next=3,r.default.dispatch("user/loadAccessTokenFormCache");case 3:return r.default.state.user&&r.default.state.user.accessToken&&(i["X-Access-Token"]=r.default.state.user.accessToken),r.default.state.user&&0!==r.default.state.user.tempParentId&&(i["X-User-Id"]=r.default.state.user.tempParentId+""),n={},e.url.replace(/([^=&]+)=([^&]*)/g,(function(t,e,a){n[decodeURIComponent(e)]=decodeURIComponent(a)})),-1!==(0,c.objectValues)(d.default.mch).indexOf(n.r)&&(l=o.default.prototype.$storage.getStorageSync("MCH2019"),i["Mch-Access-Token"]=l.token),t.abrupt("return",i);case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),u=l;e.default=u},fe08:function(t,e,a){"use strict";a.r(e);var i=a("cefb"),n=a("26d1");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("ac51");var o,r=a("f0c5"),c=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"1119dd6a",null,!1,i["a"],o);e["default"]=c.exports}}]);