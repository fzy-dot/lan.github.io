(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-coupon-details-details"],{"0e8b":function(t,e,i){"use strict";var a=i("4ea4");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("ade3")),n=a(i("d799")),s=i("2f62");function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={components:{appDetails:n.default},data:function(){return{type:0,id:0,list:null}},computed:c({},(0,s.mapState)({couponImg:function(t){return t.mallConfig.__wxapp_img.coupon}})),methods:{getList:function(t){var e=this;e.$showLoading({type:"global",text:"加载中..."});var i=e.$api.coupon.detail,a={coupon_id:t};2===this.type&&(i=e.$api.coupon.user_coupon_detail,a={user_coupon_id:t}),e.$request({url:i,data:a}).then((function(t){e.$hideLoading(),0===t.code?e.list=t.data.list:uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(){e.$hideLoading()}))}},onLoad:function(t){this.$commonLoad.onload(t),this.id=t.id,this.getList(this.id)}};e.default=u},"250c":function(t,e,i){"use strict";var a=i("cb8b"),o=i.n(a);o.a},4340:function(t,e){t.exports="data:image/png;base64,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"},5394:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAr4AAAAwCAMAAADAfInGAAAAS1BMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////i4uILDTvhAAAAF3RSTlMADIzm6whwAzL6sKdIJWsR2taZli80hdn3laMAAAFtSURBVHja7d3JbsMwDEXRJ9ny7Dgz+/9f2hTIqkgTa1OQwD1bbQ1DA8mnsq1LN7cGBNLO3bJuRU+3zBeMINp802/l0BjgXtMlvZLyaIBrY076y/VkgGPHQW+kyQC3pqS3+rMBTp17fXIxwKWLPuvZP8ClqdcOifMbHDol7XLl/gzujFftlA1wJmuvxPsbnGmSdjsY4MpB+xXqd+BKW/TA7hchZdW4GeDIoCoc3uBIqzqzAW7MqtMZ4EanOosBbiyqsxrgxqo6yQA3kirZj69X7IFVVv9x1VSpGOCGKm0GuJE4uiGulYszxLXwbIG4Oh6NEdcsSnYQVqMqgwGODKJcHWFl0SyEsNoiWjUR1kE0yiOsJrHzRVxZOw0MiYI746Bd0tEAd45JDEhFWFMvMZ4aUV0kEQ6AqM69RDQLopqSJIKxENSbYKxy58YMzo33ogdCYRHTq1DYgUhuRNHmQU/9ti7dzI8XoTRzt6xb/w398jI6r5ePKwAAAABJRU5ErkJggg=="},"5f287":function(t,e,i){e=t.exports=i("24fb")(!1),e.push([t.i,'@charset "UTF-8";.text-center[data-v-3a6acaed]{text-align:center}.font-weight[data-v-3a6acaed]{font-weight:700}.page-width[data-v-3a6acaed]{width:100%}.goods-hover-class[data-v-3a6acaed]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-3a6acaed]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-3a6acaed]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-3a6acaed]{width:100%}.u-hover-class[data-v-3a6acaed]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-3a6acaed]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.page[data-v-3a6acaed]{min-height:100%;background-color:#0c479d;width:100%;padding:%?20?% 0;position:absolute}.info-top[data-v-3a6acaed]{background-color:#fff;margin:0 %?25?%;text-align:center;padding-top:%?60?%;padding-bottom:%?8?%;border-top-left-radius:%?25?%;border-top-right-radius:%?25?%;color:#353535;font-size:%?32?%;position:relative}.info-top .useImg[data-v-3a6acaed]{position:absolute;width:%?178?%;height:%?178?%;top:%?24?%;right:%?120?%}.name[data-v-3a6acaed]{font-size:%?28?%;color:#0c479d}.price[data-v-3a6acaed]{font-size:%?56?%;margin-top:%?28?%;margin-bottom:%?10?%}.scan-code[data-v-3a6acaed]{height:%?56?%;line-height:%?52?%;margin:%?35?% auto 0;color:#ff4544;font-size:%?30?%;border:none}.btn[data-v-3a6acaed]{height:%?56?%;line-height:%?52?%;width:%?240?%;margin:%?35?% auto 0;font-size:%?30?%;border-radius:%?28?%;border:%?2?% solid}.btn1[data-v-3a6acaed]{margin:%?35?% auto 0;width:%?346?%;height:%?72?%;line-height:%?72?%;border-radius:%?46?%;border:%?2?% solid;font-size:%?32?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#fd020b}.btn.used[data-v-3a6acaed]{background-color:#f7f7f7;color:#acacac;border:%?2?% solid #f7f7f7}.btn[data-v-3a6acaed]::after{border:0}.line[data-v-3a6acaed]{height:%?50?%;margin:%?-4?% %?25?% 0;background-color:#fff}.line uni-image[data-v-3a6acaed]{height:100%;width:100%}.details[data-v-3a6acaed]{background-color:#fff;margin:%?-4?% %?25?% 0;font-size:%?28?%;padding:%?25?% %?40?% %?65?%;border-bottom-left-radius:%?25?%;border-bottom-right-radius:%?25?%}.details .title[data-v-3a6acaed]{color:#b0b0b0;font-size:%?26?%;margin-bottom:%?25?%;margin-top:%?50?%}.details .couponCode[data-v-3a6acaed]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.details .copy[data-v-3a6acaed]{margin-left:%?10?%;text-align:center;width:%?96?%;height:%?44?%;background:rgba(12,71,157,.1);border-radius:%?22?%;line-height:%?44?%;font-size:%?24?%;font-family:SourceHanSansSC-Regular,SourceHanSansSC;font-weight:400;color:#0c479d}.scan-code[data-v-3a6acaed]{height:%?56?%;line-height:%?52?%;margin:%?35?% auto 0;color:#ff4544;font-size:%?30?%;border:none}.info-top .share-img[data-v-3a6acaed]{position:absolute;right:%?32?%;top:%?32?%;z-index:5;width:%?94?%;height:%?94?%}.info-top .share-img uni-image[data-v-3a6acaed]{width:100%;height:100%;display:block}body.?%PAGE?%[data-v-3a6acaed]{background:#f7f7f7}',""])},9639:function(t,e,i){"use strict";i.r(e);var a=i("0e8b"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},a371:function(t,e,i){"use strict";i.r(e);var a=i("ca53"),o=i("9639");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);var s,r=i("f0c5"),c=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"f8921a1a",null,!1,a["a"],s);e["default"]=c.exports},b357:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[t.list?a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"info-top"},[a("v-uni-view",{staticClass:"name"},[t._v(t._s(t.list.name))]),1==t.list.cooperate_type&&1==t.list.is_use?a("v-uni-image",{staticClass:"useImg",attrs:{src:"https://kaytuneneimai.oss-cn-shanghai.aliyuncs.com/uploads/mall1/20230224/30fa1a82d1c81b1bf928c8efe43f245c.png"}}):t._e(),1==t.list.cooperate_type&&""!=t.list.sub_name?a("v-uni-view",[t._v(t._s(t.list.sub_name))]):t._e(),2==t.list.type&&1!=t.list.cooperate_type?[a("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(t._f("reservedNum")(t.list.sub_price)))])]:1==t.list.type&&1!=t.list.cooperate_type?[a("v-uni-view",{staticClass:"price"},[t._v(t._s(t._f("reservedNum")(t.list.discount))+"折")])]:t._e(),t.isShowShare?a("v-uni-view",{staticClass:"share-img"},[a("v-uni-image",{attrs:{src:i("4340")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareShow=!0}}}),a("v-uni-view",[a("app-share-qr-code",{attrs:{title:"生成优惠券海报","poster-url":"/pages/poster/poster?coupon_id="+t.list.id,"has-poster-nav":!0},on:{share:function(e){arguments[0]=e=t.$handleEvent(e),t.hShareAppMessage.apply(void 0,arguments)}},model:{value:t.shareShow,callback:function(e){t.shareShow=e},expression:"shareShow"}})],1)],1):t._e(),t.list.min_price>0&&1!=t.list.cooperate_type?a("v-uni-view",[t._v("满"+t._s(t._f("reservedNum")(t.list.min_price))+"可用")]):0==t.list.min_price&&1!=t.list.cooperate_type?a("v-uni-view",[t._v("无门槛使用")]):t._e(),t.list.discount_limit&&1!=t.list.cooperate_type?a("v-uni-view",[t._v("优惠上限:￥"+t._s(t._f("reservedNum")(t.list.discount_limit)))]):t._e(),4==t.list.appoint_type&&1!=t.list.cooperate_type?a("v-uni-view",[a("v-uni-view",{staticClass:"scan-code"},[t._v("仅限当面付活动使用")])],1):t._e(),5==t.list.appoint_type&&1!=t.list.cooperate_type?a("v-uni-view",[a("v-uni-view",{staticClass:"scan-code"},[t._v("仅限礼品卡使用")])],1):t._e(),1==t.list.status&&3!=t.list.ulp_type&&1!=t.list.cooperate_type?a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toGoods.apply(void 0,arguments)}}},[a("v-uni-button",{class:["btn"],staticStyle:{"background-color":"#fff",color:"#ff4544",border:"2rpx solid #ff4544"}},[t._v("立即使用")])],1):0==t.list.status?a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.receive(t.list.id)}}},[a("v-uni-button",{class:["btn"],staticStyle:{color:"#fff",border:"2rpx solid #ff4544",background:"#ff4544"}},[t._v("立即领取")])],1):t._e(),1==t.list.cooperate_type&&0==t.list.is_use?a("v-uni-view",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.copyCodeAndUse.apply(void 0,arguments)}}},[a("v-uni-button",{class:["btn1"],staticStyle:{"background-color":"#fff",color:"#FE000C",border:"2rpx solid #FE000C"}},[t._v("复制券码立即兑换")])],1):1==t.list.cooperate_type&&1==t.list.is_use?a("v-uni-view",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.toAfterUrl.apply(void 0,arguments)}}},[a("v-uni-button",{class:["btn"],staticStyle:{"background-color":"#fff",color:"#FE000C",border:"2rpx solid #FE000C"}},[t._v("立即使用")])],1):2==t.list.status?a("v-uni-button",{staticClass:"btn used"},[t._v("已使用")]):3==t.list.status?a("v-uni-button",{staticClass:"btn used"},[t._v("已过期")]):4==t.list.status?a("v-uni-button",{staticClass:"btn used"},[t._v("已领取")]):t._e()],2),a("v-uni-view",{staticClass:"line"},[a("v-uni-image",{attrs:{src:i("5394")}})],1),a("v-uni-view",{staticClass:"details"},[a("v-uni-view",{staticClass:"title"},[t._v("有效期")]),"2"==t.list.expire_type?a("v-uni-view",[t._v(t._s(t.list.begin_time)+" - "+t._s(t.list.end_time))]):t.list.expire_day>0?a("v-uni-view",[t._v("领取后"+t._s(t.list.expire_day)+"天内有效")]):t._e(),1!=t.list.cooperate_type?a("v-uni-view",{staticClass:"title"},[t._v("使用规则")]):t._e(),1==t.list.use_type&&1!=t.list.cooperate_type?a("v-uni-view",["1"==t.list.appoint_type?a("v-uni-view",[t._v("本券仅限购买"),t._l(t.list.cat,(function(e,i){return a("v-uni-text",{key:e.id},[t._v(t._s(e.name)),i!==t.list.cat.length-1?a("v-uni-text",[t._v("、")]):t._e()],1)})),t._v("分类下的商品。")],2):t._e(),"2"==t.list.appoint_type?a("v-uni-view",[t._v("本券仅限购买"),t._l(t.list.goods,(function(e,i){return a("v-uni-text",{key:e.id},[t._v(t._s(e.name)),i!==t.list.goods.length-1?a("v-uni-text",[t._v("、")]):t._e()],1)})),t._v("。")],2):t._e(),"4"==t.list.appoint_type?a("v-uni-view",[t._v("本券仅限当面付活动使用。")]):t._e(),"5"==t.list.appoint_type?a("v-uni-view",[t._v("本券仅限礼品卡使用。")]):t._e()],1):a("v-uni-view",[1==t.list.mch_type?a("v-uni-view",[t._v("本券所有商户可用。")]):t._e(),2==t.list.mch_type?a("v-uni-view",[t._v("本券指定商户可用。")]):t._e()],1),1==t.list.cooperate_type?a("v-uni-view",{staticClass:"title"},[t._v("券码")]):t._e(),1==t.list.cooperate_type?a("v-uni-view",{staticClass:"couponCode"},[a("v-uni-view",{staticStyle:{"font-size":"28rpx","font-family":"PingFangSC-Regular, PingFang SC","font-weight":"400",color:"#333333"}},[t._v(t._s(t.list.coupon_code))]),a("v-uni-view",{staticClass:"copy",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.copyCode.apply(void 0,arguments)}}},[t._v("复制")])],1):t._e(),a("v-uni-view",{staticClass:"title"},[t._v("使用说明")]),a("v-uni-view",[a("v-uni-text",{staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.list.rule))])],1)],1)],1):t._e()],1)},n=[]},c322:function(t,e,i){"use strict";var a=i("4ea4");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("7f7f");var o=a(i("ade3"));i("c5f6");var n=i("2f62"),s=a(i("409e"));function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={name:"app-details",components:{appShareQrCode:s.default},props:{isShowShare:Boolean,couponId:{type:String,default:function(){return"0"}},type:{type:Number,default:function(){return 0}},detailList:{type:Object,default:function(){return null}}},data:function(){return{list:{},shareShow:!1}},computed:c({},(0,n.mapGetters)({userInfo:"user/info"})),watch:{couponId:function(t){console.log(this)},detailList:function(){this.detailList&&(this.list=this.detailList)}},created:function(){this.couponId>0&&this.getList(this.couponId)},methods:{copyCodeAndUse:function(){var t=this;gio("track","kt_coupon",{kt_click_position:"15复制券码立即兑换",kt_current_page_name:"优惠券详情",kt_coupon_id:this.list.id,kt_coupon_name:this.list.name,kt_target_path:this.list.h5_use_befor_path,kt_coupon_type:1==this.list.cooperate_type?"2离线券":"1通用券"});var e=document.createElement("textarea");e.value=this.list.coupon_code,e.readOnly="readOnly",document.body.appendChild(e),e.select(),e.setSelectionRange(0,this.list.coupon_code.length),document.execCommand("copy"),uni.showToast({title:"复制成功"}),e.remove(),this.$request({url:this.$api.coupon.useUserCoupon,data:{user_coupon_id:this.couponId}}).then((function(e){0==e.code&&window.open(t.list.h5_use_befor_path,"_self")}))},toAfterUrl:function(){gio("track","kt_coupon",{kt_click_action:"9立即使用",kt_current_page_name:"优惠券详情",kt_coupon_id:this.list.ulp_id,kt_coupon_name:this.list.name,kt_target_path:this.list.h5_use_after_path,kt_coupon_type:1==this.list.cooperate_type?"2离线券":"1通用券"}),console.log(this.list.h5_use_after_path,"路径"),window.open(this.list.h5_use_after_path,"_self")},copyCode:function(){gio("track","kt_coupon",{kt_click_action:"14复制",kt_coupon_id:this.list.ulp_id,kt_coupon_name:this.list.name,kt_coupon_type:1==this.list.cooperate_type?"2离线券":"1通用券",kt_current_page_name:"优惠券详情"});var t=document.createElement("textarea");t.value=this.list.coupon_code,t.readOnly="readOnly",document.body.appendChild(t),t.select(),t.setSelectionRange(0,this.list.coupon_code.length),document.execCommand("copy"),uni.showToast({title:"复制成功"}),t.remove()},hShareAppMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$shareAppMessage({title:this.list.name,imageUrl:"",path:"/pages/coupon/details/details",params:{id:this.list.id}},t)},getList:function(t){var e=this;e.$showLoading({type:"global",text:"加载中..."});var i=e.$api.coupon.detail,a={coupon_id:t};2===this.type&&(i=e.$api.coupon.user_coupon_detail,a={user_coupon_id:t}),e.$request({url:i,data:a}).then((function(t){e.$hideLoading(),0===t.code?e.list=t.data.list:uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(){e.$hideLoading()}))},toGoods:function(){gio("track","kt_coupon",{kt_click_action:"9立即使用",kt_current_page_name:"优惠券详情",kt_coupon_id:this.list.ulp_id,kt_coupon_name:this.list.name,kt_coupon_type:1==this.list.cooperate_type?"2离线券":"1通用券"}),1==this.list.cooperate_type||(1==this.list.ulp_type?window.open(this.$storage.getStorageSync("_APP_CONFIG").youzan_config.h5_url):2==this.list.ulp_type&&window.open(this.$storage.getStorageSync("_APP_CONFIG").fuchuang_config.h5_url))},receive:function(t){var e=this;gio("track","kt_coupon",{kt_click_action:"6立即领取",kt_current_page_name:"优惠券详情",kt_coupon_id:this.list.id,kt_coupon_name:this.list.name,kt_coupon_type:1==this.list.cooperate_type?"2离线券":"1通用券"});var i=this;return 2!==this.type&&(!i.loading&&(i.loading=!0,uni.showLoading({title:"领取中..."}),void i.$request({url:1===i.type?i.$api.member.receive:i.$api.coupon.receive,data:{coupon_id:t}}).then((function(a){i.loading=!1,uni.hideLoading(),0===a.code?uni.showToast({title:a.msg,duration:1e3,mask:!0}):uni.showToast({title:a.msg,icon:"none",duration:1e3,mask:!0}),e.getList(t)})).catch((function(){uni.hideLoading(),i.$event.on(i.$const.EVENT_USER_LOGIN).then((function(){i.receive(t)}))}))))}},filters:{reservedNum:function(t){return Number(t)}}};e.default=u},ca53:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("app-layout",[i("v-uni-view",[i("app-details",{attrs:{"detail-list":t.list,"is-show-share":!0,type:t.type}})],1)],1)},n=[]},cb8b:function(t,e,i){var a=i("5f287");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("1a96a727",a,!0,{sourceMap:!1,shadowMode:!1})},d0ed:function(t,e,i){"use strict";i.r(e);var a=i("c322"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},d799:function(t,e,i){"use strict";i.r(e);var a=i("b357"),o=i("d0ed");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("250c");var s,r=i("f0c5"),c=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"3a6acaed",null,!1,a["a"],s);e["default"]=c.exports}}]);