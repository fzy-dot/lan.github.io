(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-share-add-add"],{1351:function(t,e,a){"use strict";var n=a("4ea4");a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("6b54"),a("87b3"),a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("53ca"));a("7f7f");var o=n(a("ade3")),d=a("2f62"),r=n(a("7d93"));function l(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=u(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,d=!0,r=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return d=t.done,t},e:function(t){r=!0,o=t},f:function(){try{d||null==a.return||a.return()}finally{if(r)throw o}}}}function u(t,e){if(t){if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){(0,o.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={data:function(){return{status:null,mallName:"",name:"",phone:"",parent_name:"",height:0,form:{},template_message:[],read:!1,protocol:!1}},computed:c({},(0,d.mapState)({mall:function(t){return t.mallConfig.mall},custom_setting:function(t){return t.mallConfig.share_setting_custom},is_show_parent_name:function(t){return t.mallConfig.mall.setting.is_show_parent_name},share_setting:function(t){return t.mallConfig.share_setting}})),components:{AppDiyForm:r.default},methods:{handleFormInput:function(t){var e=t.data,a=[];for(var n in e)a[n]={key:e[n].key,label:e[n].name,value:e[n].value,required:e[n].is_required};this.form=a},toRead:function(){this.read=!this.read},imageLoad:function(t){var e=t.detail.width,a=t.detail.height;this.height=a*(702/e)},subscribe:function(){var t=this,e=this,a=0;if(this.form.length>0){var n,i=l(this.form);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(1==o.required){if(!o.value)return uni.showToast({title:"请填写"+o.label,icon:"none",duration:1e3}),!1;if("img_upload"==o.key&&Array.isArray(o.value)){var d,r=l(o.value);try{for(r.s();!(d=r.n()).done;){var u=d.value;if(!u)return uni.showToast({title:"请填写"+o.label,icon:"none",duration:1e3}),!1}}catch(s){r.e(s)}finally{r.f()}}}}}catch(s){i.e(s)}finally{i.f()}}1==this.read?(a=1,e.name?e.phone?/0?(1)[0-9]{10}/.test(e.phone)?this.$subscribe(this.template_message).then((function(e){t.submit(a)})).catch((function(e){t.submit(a)})):uni.showToast({title:"请输入正确的手机号码",icon:"none",duration:1e3}):uni.showToast({title:"请输入手机号码",icon:"none",duration:1e3}):uni.showToast({title:"请输入真实姓名",icon:"none",duration:1e3})):uni.showToast({title:"请先查看分销协议并同意",icon:"none",duration:1e3})},submit:function(t){var e=this;uni.showLoading({title:"提交中..."});var a={name:e.name,mobile:e.phone,agree:t};1==e.share_setting.form_status&&(a.form=JSON.stringify(e.form)),e.$request({url:e.$api.share.apply,data:a,method:"post"}).then((function(t){e.$store.dispatch("mallConfig/actionResetConfig"),e.$hideLoading(),0==t.code?(uni.showToast({title:t.msg,duration:1e3}),setTimeout((function(){uni.navigateBack({delta:1})}),500)):0==e.share_setting.form_status&&"请填写表单"==t.msg?uni.showToast({title:"申请条件有所变化，请重新填写",icon:"none",duration:1e3}):uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(t){e.$hideLoading(),uni.showToast({title:response,icon:"none",duration:1e3})}))},handleFontSize:function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0}),WeixinJSBridge.on("menu:setfont",(function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0})}))},reSetting:function(){"object"==("undefined"===typeof WeixinJSBridge?"undefined":(0,i.default)(WeixinJSBridge))&&"function"==typeof WeixinJSBridge.invoke?this.handleFontSize():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",handleFontSize,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",handleFontSize),document.attachEvent("onWeixinJSBridgeReady",handleFontSize))}},onLoad:function(t){var e=this;this.$commonLoad.onload(t);var a=this;this.$showLoading({type:"global",text:"加载中..."}),null!=t.template_message&&(a.template_message=JSON.parse(t.template_message)),uni.setNavigationBarTitle({title:this.custom_setting.apply.share_apply.name?this.custom_setting.apply.share_apply.name:this.custom_setting.apply.share_apply.default}),this.$request({url:this.$api.user.user_info}).then((function(t){e.$hideLoading(),0===t.code&&(e.parent_name=t.data.identity.parent_name)})),this.$jwx.isWechat()&&this.reSetting()},onShow:function(){this.$store.dispatch("mallConfig/actionResetConfig")}};e.default=p},"23f3":function(t,e,a){"use strict";var n=a("41f9"),i=a.n(n);i.a},2821:function(t,e,a){"use strict";a.r(e);var n=a("f39e"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"41f9":function(t,e,a){var n=a("9d6d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("2a07b071",n,!0,{sourceMap:!1,shadowMode:!1})},"6b92":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-layout",[a("v-uni-view",{staticClass:"body"},[a("v-uni-image",{staticClass:"add-bg",attrs:{src:t.custom_setting.apply.apply_head_pic}}),a("v-uni-view",{staticClass:"add-form"},[a("v-uni-view",{staticClass:"add-default"},[a("v-uni-view",{staticClass:"add-info share-name dir-left-nowrap"},[a("v-uni-view",[t._v("欢迎加入")]),a("v-uni-view",{staticClass:"mall-name t-omit"},[t._v(t._s(t.mall.name))]),a("v-uni-view",[t._v("，请填写申请信息")])],1),t.is_show_parent_name?a("v-uni-view",{staticClass:"add-info"},[a("v-uni-view",{staticClass:"add-label"},[t._v("邀请人")]),a("v-uni-view",{staticClass:"share-user"},[a("v-uni-text",[t._v(t._s(t.parent_name))]),t._v("(请核对)")],1)],1):t._e(),a("v-uni-view",{staticClass:"add-info"},[a("v-uni-view",{staticClass:"add-label"},[a("v-uni-text",{staticStyle:{color:"#ff4544"}},[t._v("*")]),t._v("姓名")],1),a("v-uni-view",{staticClass:"add-input"},[a("v-uni-input",{attrs:{placeholder:"请填写真实姓名","placeholder-style":"color: #cdcdcd"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),a("v-uni-view",{staticClass:"add-info"},[a("v-uni-view",{staticClass:"add-label"},[a("v-uni-text",{staticStyle:{color:"#ff4544"}},[t._v("*")]),t._v("手机号码")],1),a("v-uni-view",{staticClass:"add-input"},[a("v-uni-input",{attrs:{type:"number",placeholder:"请填写手机号码","placeholder-style":"color: #cdcdcd"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1)],1),1==t.share_setting.form_status?a("v-uni-view",{staticClass:"add-default add-diy-form"},[a("app-diy-form",{attrs:{datePadding:0,itemHeight:66,showRequiredIcon:!0,labelPosition:"top",list:t.share_setting.form,labelFs28:!0},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.handleFormInput.apply(void 0,arguments)}}})],1):t._e(),a("v-uni-view",{staticClass:"add-default add-diy-form"},[a("v-uni-view",{staticClass:"add-info",staticStyle:{"font-size":"13px"}},[a("v-uni-view",{staticClass:"read",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toRead.apply(void 0,arguments)}}},[0==t.read?a("v-uni-image",{attrs:{src:"/static/image/icon/icon-uncheck.png"}}):a("v-uni-image",{class:["red-background"],attrs:{src:"/static/image/icon/icon-checkbox-checked.png"}})],1),t._v("我已经阅读并了解"),a("v-uni-text",{staticStyle:{color:"#014c8c"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.protocol=!0}}},[t._v("【"+t._s(t.custom_setting.apply.share_apply_pact.name?t.custom_setting.apply.share_apply_pact.name:t.custom_setting.apply.share_apply_pact.default)+"】")])],1)],1),a("v-uni-view",{staticClass:"submit"},[a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.subscribe.apply(void 0,arguments)}}},[a("v-uni-button",{style:{"background-color":""+t.custom_setting.apply.apply_btn_background,"border-radius":""+t.custom_setting.apply.apply_btn_round,color:""+t.custom_setting.apply.apply_btn_color}},[t._v(t._s(t.custom_setting.apply.apply_btn_title?t.custom_setting.apply.apply_btn_title:"申请成为分销商"))])],1)],1)],1),a("v-uni-view",{staticClass:"other"},[a("v-uni-image",{staticClass:"end-img",style:{height:t.height+"rpx"},attrs:{src:t.custom_setting.apply.apply_end_pic},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoad.apply(void 0,arguments)}}})],1),t.protocol?a("v-uni-view",{staticClass:"modal"},[a("v-uni-view",{staticClass:"protocol"},[a("v-uni-view",{staticClass:"protocol-name"},[t._v(t._s(t.custom_setting.apply.share_apply_pact.name?t.custom_setting.apply.share_apply_pact.name:t.custom_setting.apply.share_apply_pact.default))]),a("v-uni-view",{staticClass:"protocol-content"},[a("v-uni-text",[t._v(t._s(t.share_setting.agree))])],1),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.protocol=!1,t.read=!0}}},[a("v-uni-view",{staticClass:"read-over"},[t._v("我已阅读")])],1)],1)],1):t._e()],1)],1)},o=[]},"7d93":function(t,e,a){"use strict";a.r(e);var n=a("8236"),i=a("2821");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);var d,r=a("f0c5"),l=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"0e5df579",null,!1,n["a"],d);e["default"]=l.exports},8236:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view")},o=[]},"854e":function(t,e,a){"use strict";a.r(e);var n=a("6b92"),i=a("b711");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("23f3");var d,r=a("f0c5"),l=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"3993cf36",null,!1,n["a"],d);e["default"]=l.exports},"9d6d":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,'@charset "UTF-8";.text-center[data-v-3993cf36]{text-align:center}.font-weight[data-v-3993cf36]{font-weight:700}.page-width[data-v-3993cf36]{width:100%}.goods-hover-class[data-v-3993cf36]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-3993cf36]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-3993cf36]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-3993cf36]{width:100%}.u-hover-class[data-v-3993cf36]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-3993cf36]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.body[data-v-3993cf36]{\n  /* IOS禁止微信调整字体大小 */-webkit-text-size-adjust:100%!important;-ms-text-size-adjust:100%!important;text-size-adjust:100%!important;-moz-text-size-adjust:100%!important}.add-bg[data-v-3993cf36]{height:%?300?%;width:100%;display:block;margin-bottom:%?20?%;background-color:#f7f7f7}.add-form[data-v-3993cf36]{padding:0 %?24?%;font-size:%?30?%;color:#353535}.add-form .add-default[data-v-3993cf36]{background-color:#fff;border-radius:%?16?%;padding:0 %?10?% %?35?%;margin-bottom:%?20?%}.add-form .add-default.add-diy-form[data-v-3993cf36]{padding-bottom:0;padding:%?10?% %?24?%}.add-form .add-default.add-diy-form .add-info[data-v-3993cf36]{border-bottom:0;padding:%?24?% 0}.add-form .add-default .add-info[data-v-3993cf36]{width:100%;padding:%?10?% %?24?%;border-bottom:%?1?% solid #e2e2e2}.add-form .add-default .add-info .red-background[data-v-3993cf36]{background-color:#ff4544}.add-form .add-default .add-info .add-label[data-v-3993cf36]{height:%?45?%;line-height:%?45?%;font-size:%?28?%}.add-form .add-default .add-info .add-input[data-v-3993cf36]{height:%?75?%}.add-form .add-default .add-info .add-input uni-input[data-v-3993cf36]{height:%?65?%;padding-top:%?5?%}.add-form .add-default .add-info.share-name[data-v-3993cf36]{height:%?90?%;line-height:%?90?%;padding:0 %?10?%}.add-form .add-default .add-info.share-name .mall-name[data-v-3993cf36]{max-width:%?300?%;color:#ff4544}.add-form .add-default .add-info .share-user[data-v-3993cf36]{color:#666;height:%?75?%;line-height:%?75?%}.add-form .add-default .add-info .share-user > uni-text[data-v-3993cf36]{color:#ff4544}.add-form .add-default .add-info .read[data-v-3993cf36]{width:%?32?%;height:%?32?%;float:left;margin-right:%?10?%}.add-form .add-default .add-info .read uni-image[data-v-3993cf36]{height:100%;width:100%;display:block}.submit[data-v-3993cf36]{background-color:#f7f7f7;margin:0 %?-24?%;padding:%?24?%}.submit uni-button[data-v-3993cf36]{color:#fff;font-size:%?30?%;font-weight:700;height:%?80?%;border-radius:%?40?%;line-height:%?80?%}.other[data-v-3993cf36]{background-color:#fff;padding:0 %?24?%;color:#353535;font-size:%?30?%}.other .end-img[data-v-3993cf36]{width:100%}.modal[data-v-3993cf36]{position:fixed;top:0;left:0;right:0;height:100%;width:100%;z-index:99;background-color:rgba(0,0,0,.3)}.modal .protocol[data-v-3993cf36]{position:relative;z-index:99;background-color:#fff;width:80%;border-radius:%?20?%;margin:%?100?% auto}.modal .protocol .protocol-name[data-v-3993cf36]{height:%?100?%;text-align:center;line-height:%?100?%;color:#666}.modal .protocol .protocol-content[data-v-3993cf36]{padding:%?10?% %?20?%;height:%?720?%;overflow:auto;color:#353535}.modal .protocol .read-over[data-v-3993cf36]{text-align:center;height:%?100?%;line-height:%?100?%;background-color:#ff4544;color:#fff;font-size:%?30?%;border-bottom-right-radius:%?20?%;border-bottom-left-radius:%?20?%}body.?%PAGE?%[data-v-3993cf36]{background:#f7f7f7}',""])},b711:function(t,e,a){"use strict";a.r(e);var n=a("1351"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},f39e:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c5f6");var n={name:"app-diy-form",components:{},props:{sign:{default:null},datePadding:{type:String,default:"0 24rpx"},title:{type:String,default:null},backgroundColor:{default:"#ffffff"},backgroundImage:{default:null},backgroundPosition:{default:"center"},backgroundWidth:{default:100},backgroundHeight:{default:100},backgroundRepeat:{default:"no-repeat"},marginTop:{default:0},marginBottom:{default:0},paddingTop:{default:0},paddingBottom:{default:0},list:{type:Array,default:[]},showRequiredIcon:{type:Boolean,default:!1},itemPaddingX:{default:24},itemMarginY:{default:0},itemHeight:{type:Number,default:88},showItemBorder:{default:!0},labelPosition:{default:"left"},labelColor:{default:"#666666"},labelTextAlign:{default:"right"},showInputBorder:{type:Boolean,default:!1},inputBackground:{default:"#ffffff"},inputBorderColor:{default:"#c0c4cc"},inputTextColor:{default:"#666666"},inputPlaceholderColor:{default:"#bbbbbb"},inputRadius:{default:0},showSubmit:{type:Boolean,default:!1},submitUrl:{type:String,default:null},submitBtnText:{default:"提交"},submitBtnHeight:{default:80},submitBtnPadding:{default:24},submitBtnMargin:{default:40},submitBtnRadius:{default:40},submitBtnBackground:{default:"#ff4544"},submitBtnBorderColor:{default:"#ff4544"},submitBtnTextColor:{default:"#ffffff"},showScrollBtn:{default:!1},labelFs28:{default:!1},marginColor:{default:"#ffffff"},selectBoxColor:{default:"#ff4544"}},data:function(){return{}},computed:{},created:function(){}};e.default=n}}]);