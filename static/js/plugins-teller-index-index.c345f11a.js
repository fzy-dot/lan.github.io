(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-teller-index-index"],{"268c9":function(e,t,a){t=e.exports=a("24fb")(!1),t.push([e.i,'@charset "UTF-8";.text-center[data-v-76e0e362]{text-align:center}.font-weight[data-v-76e0e362]{font-weight:700}.page-width[data-v-76e0e362]{width:100%}.goods-hover-class[data-v-76e0e362]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-76e0e362]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-76e0e362]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-76e0e362]{width:100%}.u-hover-class[data-v-76e0e362]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-76e0e362]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.bg[data-v-76e0e362]{position:absolute;top:0;left:0;width:100%;height:100%;background:-webkit-gradient(linear,left top,left bottom,from(#495aff),to(#0ab6fe));background:-o-linear-gradient(top,#495aff,#0ab6fe);background:linear-gradient(180deg,#495aff,#0ab6fe)}.main[data-v-76e0e362]{margin:%?96?% auto;background-color:#fff;width:%?690?%;height:%?980?%;border-radius:%?16?%;padding-bottom:%?110?%;position:relative}.main uni-view[data-v-76e0e362]{margin:%?8?% 0;font-size:%?26?%}.main .avatar[data-v-76e0e362]{position:absolute;left:50%;top:%?-65?%;border-radius:50%;margin-left:%?-65?%;z-index:10;width:%?128?%;height:%?128?%;border:%?2?% solid #fff}.main .qr[data-v-76e0e362]{width:%?430?%;height:%?430?%;border-radius:%?16?%;border:%?2?% solid #e2e2e2;margin-top:%?38?%;margin-bottom:%?12?%}.main .balance[data-v-76e0e362]{position:absolute;bottom:%?56?%;background-color:#f0f0f0;height:%?120?%;width:100%;padding:0 %?19?%;color:#353535}.main .balance .icon[data-v-76e0e362]{width:%?72?%;height:%?72?%;border-radius:50%;background-color:#fff;margin-right:%?19?%}.main .balance .icon uni-image[data-v-76e0e362]{width:%?40?%;height:%?40?%}.main .balance .right[data-v-76e0e362]{width:%?12?%;height:%?22?%}body.?%PAGE?%[data-v-76e0e362]{background:#f7f7f7}',""])},"6fe3":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"bg"},[a("app-layout",{attrs:{haveBackground:e.haveBackground}},[e.userInfo?a("v-uni-view",{staticClass:"main dir-top-nowrap main-center cross-center"},[a("v-uni-image",{staticClass:"avatar",attrs:{src:e.userInfo.avatar}}),a("v-uni-view",[e._v("会员付款码")]),a("v-uni-view",{staticStyle:{color:"#ff4544"}},[e._v(e._s(e.pay_code))]),a("v-uni-image",{staticClass:"qr",attrs:{src:e.file_path}}),a("v-uni-view",{staticStyle:{color:"#999999"}},[e._v("5分钟过期，过期后自动刷新")]),a("v-uni-view",[e._v("请提供二维码给店员扫码即可进行支付")]),a("v-uni-view",{staticClass:"balance main-between cross-center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toBalance.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"dir-left-nowrap cross-center"},[a("v-uni-view",{staticClass:"icon main-center cross-center"},[a("v-uni-image",{attrs:{src:e.appImg.icon_balance}})],1),a("v-uni-view",[e._v("账户余额")])],1),a("v-uni-image",{staticClass:"right",attrs:{src:"/static/image/icon/arrow-right.png"}})],1)],1):e._e()],1)],1)},o=[]},"74b3":function(e,t,a){"use strict";var n=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("386d");var i=n(a("ade3")),o=a("2f62");function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={data:function(){return{haveBackground:!1,pay_code:"",file_path:"",expiry_date:"",check:null,reload:null}},computed:c({},(0,o.mapState)({userInfo:function(e){return e.user.info},appImg:function(e){return e.mallConfig.__wxapp_img.cash}})),onHide:function(){clearInterval(this.check),clearInterval(this.reload)},onUnload:function(){clearInterval(this.check),clearInterval(this.reload)},methods:{toBalance:function(){uni.navigateTo({url:"/pages/balance/balance"})},checkTime:function(){var e=this,t=Date.parse(new Date)/1e3,a=1e3*(e.expiry_date-t);this.reload=setTimeout((function(){e.getList()}),a)},getCode:function(e){var t=this,a=this;a.$request({url:a.$api.teller.search,data:{pay_code:e},method:"post"}).then((function(n){a.$hideLoading(),0==n.code&&t.userInfo&&(n.data.is_use?(clearInterval(t.check),clearInterval(t.reload),uni.navigateTo({url:"/plugins/teller/result/result?code="+e})):t.check=setTimeout((function(){a.getCode(e)}),5e3))})).catch((function(e){a.$hideLoading()}))},getList:function(){var e=this;e.$request({url:e.$api.teller.code}).then((function(t){e.$hideLoading(),0==t.code?(e.pay_code=t.data.pay_code,e.file_path=t.data.file_path,e.expiry_date=t.data.expiry_date,e.getCode(t.data.pay_code),e.checkTime()):uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(t){e.$hideLoading()}))}},onShow:function(e){this.$showLoading({type:"global",text:"加载中..."}),this.getList()}};t.default=d},"80d9":function(e,t,a){"use strict";var n=a("d8e55"),i=a.n(n);i.a},a5f8:function(e,t,a){"use strict";a.r(t);var n=a("6fe3"),i=a("c96a");for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("80d9");var r,c=a("f0c5"),d=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"76e0e362",null,!1,n["a"],r);t["default"]=d.exports},c96a:function(e,t,a){"use strict";a.r(t);var n=a("74b3"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},d8e55:function(e,t,a){var n=a("268c9");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("6772a4e6",n,!0,{sourceMap:!1,shadowMode:!1})}}]);