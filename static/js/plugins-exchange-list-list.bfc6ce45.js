(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-exchange-list-list"],{"0d03":function(t,a,e){var i=e("15b4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("56d5b859",i,!0,{sourceMap:!1,shadowMode:!1})},"15b4":function(t,a,e){a=t.exports=e("24fb")(!1),a.push([t.i,'@charset "UTF-8";.text-center[data-v-cb41035a]{text-align:center}.font-weight[data-v-cb41035a]{font-weight:700}.page-width[data-v-cb41035a]{width:100%}.goods-hover-class[data-v-cb41035a]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-cb41035a]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-cb41035a]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-cb41035a]{width:100%}.u-hover-class[data-v-cb41035a]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-cb41035a]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.jump-dialog[data-v-cb41035a]{position:fixed;bottom:%?120?%;right:%?24?%;width:%?100?%;height:%?100?%;border-radius:50%;background-color:rgba(0,0,0,.3);font-size:%?16?%;color:#fff;z-index:100}.jump-dialog.tabbarbool[data-v-cb41035a]{bottom:%?240?%}.jump-dialog uni-image[data-v-cb41035a]{width:%?54?%;height:%?54?%;margin-bottom:%?3?%;display:block}.goods[data-v-cb41035a]{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:0 %?24?%}.search[data-v-cb41035a]{height:%?88?%;padding:%?16?% %?26?%;background-color:#efeff4;position:fixed;top:0;left:0;right:0;z-index:10}.search .search-content[data-v-cb41035a]{background-color:#fff;height:%?56?%;border-radius:%?28?%}.search .search-content uni-image[data-v-cb41035a]{height:%?24?%;width:%?24?%}.search .search-content uni-text[data-v-cb41035a]{color:#b2b2b2;font-size:%?24?%;margin:0 %?5?%}.search-placeholder[data-v-cb41035a]{height:%?88?%}.item[data-v-cb41035a]{margin:%?24?% %?24?% 0;background-color:#fff;border-radius:%?16?%}.item .status[data-v-cb41035a]{padding:%?28?% %?30?%;border-bottom:%?2?% solid #e2e2e2}.item .status .item-cover[data-v-cb41035a]{width:%?140?%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:%?30?%}.item .status .item-name[data-v-cb41035a]{font-size:%?28?%;color:#353535}.item .item-time[data-v-cb41035a]{height:%?112?%;font-size:%?28?%;color:#666;padding:0 %?30?%}.item .item-time .rewards-submit[data-v-cb41035a]{height:%?68?%;line-height:%?68?%;text-align:center;padding:0 %?30?%;border-radius:%?40?%;color:#fff;font-size:%?28?%}.item .item-time .rewards-submit.over[data-v-cb41035a]{background-color:#f7f7f7;color:#999}body.?%PAGE?%[data-v-cb41035a]{background:#f7f7f7}',""])},"3da2":function(t,a,e){"use strict";e.r(a);var i=e("66c9"),n=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a},"4d1c":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("c5f6");var i={name:"app-tab-nav",props:{background:String,setTop:{type:[Number,String]},padding:{default:45,type:[Number,String]},setHeight:Number,placeHeight:Number,fontSize:Number,theme:{type:Object,default:function(){return{color:"#ff4544"}}},border:{default:!0,type:Boolean},shadow:{default:!0,type:Boolean},activeItem:{type:[Number,String]},tabList:Array,tabColor:{default:"#353535",type:String},paddingBottom:{default:0,type:[Number,String]},opacity:{default:1,type:[Number,String]}},methods:{handleClick:function(t){this.$emit("click",t)}}};a.default=i},"56c7":function(t,a,e){"use strict";var i=e("dc4e"),n=e.n(i);n.a},"5c6d":function(t,a,e){"use strict";var i=e("0d03"),n=e.n(i);n.a},"62a6":function(t,a,e){a=t.exports=e("24fb")(!1),a.push([t.i,'@charset "UTF-8";.text-center[data-v-916a7b8e]{text-align:center}.font-weight[data-v-916a7b8e]{font-weight:700}.page-width[data-v-916a7b8e]{width:100%}.goods-hover-class[data-v-916a7b8e]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-916a7b8e]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-916a7b8e]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-916a7b8e]{width:100%}.u-hover-class[data-v-916a7b8e]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-916a7b8e]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-no-goods[data-v-916a7b8e]{width:100%;height:%?400?%}.app-no-goods .icon[data-v-916a7b8e]{width:%?240?%;height:%?240?%}.app-no-goods .text[data-v-916a7b8e]{line-height:1;margin-top:%?25?%;font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#b7b8ba}body.?%PAGE?%[data-v-916a7b8e]{background:#f7f7f7}',""])},"66c9":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("c5f6");var i={name:"app-no-goods",props:{background:{type:String,default:function(){return"#ffffff"}},color:{type:String,default:function(){return"#666666"}},title:{type:String,default:function(){return"没有任何商品哦~"}},is_image:{type:Number,default:function(){return 0}}}};a.default=i},"6c82":function(t,a,e){"use strict";var i;e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return i}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("app-layout",[e("v-uni-view",{staticClass:"search",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goodsSearch.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"main-center search-content cross-center"},[e("v-uni-image",{attrs:{src:"/static/image/icon/icon-search.png"}}),e("v-uni-text",[t._v("搜索")])],1)],1),e("v-uni-view",{staticClass:"search-placeholder"}),e("app-tab-nav",{attrs:{setTop:88,border:!1,shadow:!1,height:100,tabList:t.tabList,padding:0,activeItem:t.activeTab,theme:t.getTheme},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.tabStatus.apply(void 0,arguments)}}}),"0"==t.activeTab?e("v-uni-view",{staticClass:"goods main-between"},[t._l(t.list,(function(a,i){return e("app-goods",{key:a.id,attrs:{showTag:!1,index:i,theme:t.getTheme,goods:a,showBuyBtn:!1,extra:a.sales,isIndex:!0,listStyle:2,c_border_top:16,c_border_bottom:16,padding:24}})})),0==t.list.length?e("v-uni-view",{staticStyle:{"padding-top":"30%",width:"100%"}},[e("app-no-goods",{attrs:{title:"暂无可购买的礼品卡",background:"#f7f7f7"}})],1):t._e()],2):t._e(),"1"==t.activeTab?e("v-uni-view",[t._l(t.list,(function(a,i){return e("v-uni-view",{key:i,staticClass:"item"},[e("v-uni-view",{staticClass:"dir-left-nowrap cross-center status"},[e("v-uni-view",{staticClass:"item-cover"},[e("app-image",{attrs:{"img-src":a.cover_pic,width:"140rpx",height:"140rpx","border-radius":"8rpx 8rpx 0 0"}})],1),e("v-uni-view",{staticClass:"t-omit-two item-name"},[t._v(t._s(a.name))])],1),e("v-uni-view",{staticClass:"item-time main-between cross-center"},[e("v-uni-view",[t._v("购买时间："+t._s(a.created_at))]),"unused"==a.status?e("v-uni-view",{staticClass:"rewards-submit",style:{"background-color":t.getTheme.background},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.apply(a)}}},[t._v("立即使用")]):"used"==a.status?e("v-uni-view",{staticClass:"rewards-submit over",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.apply(a)}}},[t._v("已使用")]):e("v-uni-view",{staticClass:"rewards-submit over",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.apply(a)}}},[t._v("已失效")])],1)],1)})),0==t.list.length?e("v-uni-view",{staticStyle:{"padding-top":"30%"}},[e("app-no-goods",{attrs:{title:"暂无已获得的礼品卡",background:"#f7f7f7"}})],1):t._e()],2):t._e(),1==t.setting.is_to_exchange?e("v-uni-view",{staticClass:"jump-dialog cross-center dir-top-nowrap main-center",class:[t.tabbarbool?"tabbarbool":""],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toIndex.apply(void 0,arguments)}}},[e("v-uni-image",{attrs:{src:t.setting.to_exchange_pic}}),e("v-uni-view",[t._v("兑换中心")])],1):t._e()],1)},o=[]},"76b6":function(t,a,e){"use strict";e.r(a);var i=e("8fe1"),n=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a},"7b5e":function(t,a,e){"use strict";var i;e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return i}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.opacity,expression:"opacity"}]},[e("v-uni-view",{class:[t.shadow?"main-between app-nav shadow":"main-between app-nav"],style:[{"line-height":(t.setHeight?t.setHeight:90)+"rpx","font-size":(t.fontSize?t.fontSize:28)+"rpx",height:(t.setHeight?t.setHeight:90)+"rpx",top:t.setTop>0?t.setTop+"rpx":"0",backgroundColor:""+(t.background?t.background:"#fff"),opacity:""+t.opacity}]},t._l(t.tabList,(function(a){return e("v-uni-view",{key:a.id,staticClass:"box-grow-1 nav-item",style:[{borderBottom:(t.border?1:0)+"rpx solid #e2e2e2"}],attrs:{"data-id":a.id,"data-name":a.name},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleClick.apply(void 0,arguments)}}},[e("v-uni-text",{class:[a.id==t.activeItem?"active-text":""],style:[{color:""+(a.id==t.activeItem?t.theme.color:t.tabColor),"border-color":""+(a.id==t.activeItem?t.theme.color:""),height:(t.setHeight?t.setHeight-t.paddingBottom:90-t.paddingBottom)+"rpx",padding:"0 "+t.padding+"rpx"}]},[t._v(t._s(a.name))])],1)})),1),e("v-uni-view",{style:[{height:(t.placeHeight?t.placeHeight:90)+"rpx"}]})],1)},o=[]},"7d70":function(t,a,e){"use strict";var i;e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return i}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"app-no-goods dir-top-nowrap main-center cross-center",style:{backgroundColor:t.background}},[0===t.is_image?e("v-uni-image",{staticClass:"icon",attrs:{src:"/static/image/no-goods.png"}}):1===t.is_image?e("v-uni-image",{staticClass:"icon",attrs:{src:"/static/image/order-empty.png"}}):t._e(),e("v-uni-text",{staticClass:"text",style:{color:t.color}},[t._v(t._s(t.title))])],1)},o=[]},"7fd0":function(t,a,e){"use strict";e.r(a);var i=e("7b5e"),n=e("86a7");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("56c7");var r,d=e("f0c5"),c=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"1fc36d2d",null,!1,i["a"],r);a["default"]=c.exports},8112:function(t,a,e){"use strict";e.r(a);var i=e("7d70"),n=e("3da2");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("b298");var r,d=e("f0c5"),c=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"916a7b8e",null,!1,i["a"],r);a["default"]=c.exports},"86a7":function(t,a,e){"use strict";e.r(a);var i=e("4d1c"),n=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a},"8fe1":function(t,a,e){"use strict";var i=e("4ea4");e("8e6e"),e("ac6a"),e("456d"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("6762"),e("2fdb"),e("28a5"),e("6b54"),e("87b3");var n=i(e("ade3")),o=i(e("7fd0")),r=i(e("6c9f")),d=i(e("8112")),c=i(e("6244")),s=i(e("ad05")),u=e("2f62");function f(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function l(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?f(Object(e),!0).forEach((function(a){(0,n.default)(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):f(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var g={name:"index",data:function(){return{tabbarbool:!1,tabList:[{id:0,name:"购买礼品卡"},{id:1,name:"我的礼品卡"}],code:"",activeTab:"0",list:[],setting:{},listStyle:!1,loading:!1,more:!1,dialog:!1,msg:"",page:1}},computed:l(l(l({},(0,u.mapState)({appImg:function(t){return t.mallConfig.__wxapp_img.mall},appSetting:function(t){return t.mallConfig.mall.setting},tabBarNavs:function(t){return t.mallConfig.navbar.navs},platform:function(t){return t.gConfig.systemInfo.platform}})),(0,u.mapGetters)("mallConfig",{getTheme:"getTheme"})),(0,u.mapGetters)("mallConfig",{getVideo:"getVideo"})),components:{"app-tab-nav":o.default,appPrice:r.default,appNoGoods:d.default,"u-mask":c.default,appGoods:s.default},watch:{tabBarNavs:{handler:function(){this.b()},immediate:!0}},onLoad:function(t){var a=this;this.$commonLoad.onload(t),t.tab>0&&(this.activeTab=t.tab.toString()),this.$showLoading({type:"global",text:"加载中..."}),this.$request({url:this.$api.exchange.setting}).then((function(t){0==t.code?(a.setting=t.data,a.getList()):uni.showToast({title:t.msg,icon:"none",duration:1e3})}))},onShow:function(){"1"==this.activeTab&&this.getList()},onReachBottom:function(){this.more&&(this.page++,this.getMore())},methods:{goodsSearch:function(){uni.navigateTo({url:"/pages/search/search?sign=exchange"})},b:function(){var t=void 0;t=window.location.hash.split("#")[1].split("?")[0];for(var a=0;a<this.tabBarNavs.length;a++)if(t.includes(this.tabBarNavs[a].url.split("?")[0]))return this.tabbarbool=!0;return this.tabbarbool=!1},toIndex:function(){uni.navigateTo({url:"/plugins/exchange/index/index"})},getMore:function(){var t=this,a=this;if(this.loading)return!1;this.loading=!0,this.more=!1,a.$request({url:"0"==a.activeTab?a.$api.exchange.list:a.$api.exchange.me_list,data:{page:this.page}}).then((function(e){a.$hideLoading(),uni.hideLoading(),t.loading=!1,0==e.code?(a.list=a.list.concat(e.data.list),e.data.list.length==e.data.pagination.pageSize&&(t.more=!0)):uni.showToast({title:e.msg,icon:"none",duration:1e3})})).catch((function(t){a.$hideLoading(),uni.hideLoading()}))},jump:function(t){t.video_url&&this.getVideo,uni.navigateTo({url:"/plugins/exchange/goods/goods?goods_id=".concat(t.id)})},apply:function(t){uni.navigateTo({url:"/plugins/exchange/gift/gift?code="+t.code})},tabStatus:function(t){if(this.loading)return!1;this.list=[],this.page=1,this.activeTab=t.currentTarget.dataset.id,uni.showLoading({mask:!0,title:"加载中..."}),this.getList()},getList:function(){var t=this,a=this;if(this.loading)return!1;this.loading=!0,this.page=1,this.more=!1,a.$request({url:"0"==a.activeTab?a.$api.exchange.list:a.$api.exchange.me_list}).then((function(e){a.$hideLoading(),uni.hideLoading(),t.loading=!1,0==e.code?(a.list=e.data.list,a.list.length==e.data.pagination.pageSize&&(t.more=!0)):uni.showToast({title:e.msg,icon:"none",duration:1e3})})).catch((function(t){a.$hideLoading(),uni.hideLoading()}))}}};a.default=g},b298:function(t,a,e){"use strict";var i=e("eba2"),n=e.n(i);n.a},c0a1:function(t,a,e){"use strict";e.r(a);var i=e("6c82"),n=e("76b6");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("5c6d");var r,d=e("f0c5"),c=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"cb41035a",null,!1,i["a"],r);a["default"]=c.exports},dc4e:function(t,a,e){var i=e("f221");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("1d1ffe7b",i,!0,{sourceMap:!1,shadowMode:!1})},eba2:function(t,a,e){var i=e("62a6");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("d216c10e",i,!0,{sourceMap:!1,shadowMode:!1})},f221:function(t,a,e){a=t.exports=e("24fb")(!1),a.push([t.i,'@charset "UTF-8";.text-center[data-v-1fc36d2d]{text-align:center}.font-weight[data-v-1fc36d2d]{font-weight:700}.page-width[data-v-1fc36d2d]{width:100%}.goods-hover-class[data-v-1fc36d2d]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-1fc36d2d]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-1fc36d2d]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-1fc36d2d]{width:100%}.u-hover-class[data-v-1fc36d2d]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-1fc36d2d]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-nav[data-v-1fc36d2d]{color:#353535;width:100%;position:fixed;left:0;background-color:#fff;z-index:11}.app-nav .nav-item[data-v-1fc36d2d]{text-align:center}.app-nav .nav-item uni-text[data-v-1fc36d2d]{display:inline-block}.app-nav .active-text[data-v-1fc36d2d]{color:#ff4544;border-bottom:%?4?% solid #ff4544}.app-nav.shadow[data-v-1fc36d2d]{-webkit-box-shadow:0 %?2?% %?10?% rgba(0,0,0,.06);box-shadow:0 %?2?% %?10?% rgba(0,0,0,.06)}.blue-m-text[data-v-1fc36d2d]{color:#446dfd}body.?%PAGE?%[data-v-1fc36d2d]{background:#f7f7f7}',""])}}]);