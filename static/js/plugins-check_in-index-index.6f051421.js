(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-check_in-index-index"],{1195:function(t,e,a){var i=a("19eb");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("02289e44",i,!0,{sourceMap:!1,shadowMode:!1})},"19eb":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,'@charset "UTF-8";.text-center[data-v-03b1acc0]{text-align:center}.font-weight[data-v-03b1acc0]{font-weight:700}.page-width[data-v-03b1acc0]{width:100%}.goods-hover-class[data-v-03b1acc0]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-03b1acc0]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-03b1acc0]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-03b1acc0]{width:100%}.u-hover-class[data-v-03b1acc0]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-03b1acc0]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.bg[data-v-03b1acc0]{width:100%;height:%?500?%;display:block}.tips[data-v-03b1acc0]{position:absolute;top:%?55?%;left:%?30?%;color:#fff;font-size:%?24?%}.icon[data-v-03b1acc0]{position:absolute;right:0;top:%?55?%}.icon.toIndex[data-v-03b1acc0]{top:%?119?%}.rules[data-v-03b1acc0]{height:%?48?%;line-height:%?46?%;width:%?144?%;text-align:center;padding:0;color:#fff;background-color:rgba(0,0,0,.3);font-size:%?24?%;border-top-left-radius:%?24?%;border-bottom-left-radius:%?24?%;border:%?2?% solid #fff;border-right:0}.check-in-btn[data-v-03b1acc0]{height:%?260?%;width:%?260?%;position:absolute;top:%?60?%;left:50%;margin-left:%?-130?%}.check-in-btn uni-image[data-v-03b1acc0]{height:%?260?%;width:%?260?%}.no-check-in[data-v-03b1acc0]{font-size:%?32?%;color:#fff;position:absolute;top:%?340?%;left:0;right:0;text-align:center}.always[data-v-03b1acc0]{font-size:%?28?%;color:#fff;position:absolute;top:%?390?%;left:0;right:0;text-align:center}.reward[data-v-03b1acc0]{margin:0 %?24?%;border-radius:%?14?%;padding:0 %?40?%;background-color:#fff}.reward.balance-reward[data-v-03b1acc0]{margin-top:%?24?%}.reward-item[data-v-03b1acc0]{height:%?150?%;border-top:%?1?% dashed #5997fc;color:#2c3c7e;font-size:%?26?%;position:relative}.reward-item.no-top[data-v-03b1acc0]{border-top:%?1?% dashed #fff!important}.reward.balance-reward .reward-item[data-v-03b1acc0]{border-top:%?1?% solid #fff}.reward-icon[data-v-03b1acc0]{float:left;height:%?72?%;width:%?72?%;margin-top:%?39?%;margin-right:%?24?%}.reward-title[data-v-03b1acc0]{margin-top:%?40?%}.reward-content[data-v-03b1acc0]{margin-top:%?-3?%}.reward-btn[data-v-03b1acc0]{position:absolute;right:%?40?%;top:%?47?%}.reward-btn uni-button[data-v-03b1acc0]{border-radius:%?28?%;width:%?150?%;height:%?56?%;line-height:%?56?%;color:#fff;font-size:%?26?%;background-color:#5997fc}.reward-btn uni-button[data-v-03b1acc0]::after{border:0}.reward-btn .over[data-v-03b1acc0]{background-color:#cdcdcd}.day[data-v-03b1acc0]{margin:%?24?%;background-color:#fff;border-radius:%?14?%;z-index:99;padding:%?40?% %?25?%;padding-top:0}.day-title[data-v-03b1acc0]{height:%?110?%}.day-title uni-image[data-v-03b1acc0]{display:block;margin-top:%?4?%;height:%?22?%;width:%?12?%}.date[data-v-03b1acc0]{color:#353535;font-size:%?28?%}.week[data-v-03b1acc0]{color:#999;height:%?64?%;border-bottom:%?1?% solid #e2e2e2;margin-bottom:%?16?%}.week uni-view[data-v-03b1acc0]{height:%?64?%;width:%?64?%;margin:0 %?15?%;line-height:%?64?%;text-align:center}.everyday[data-v-03b1acc0]{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.everyday .every[data-v-03b1acc0]{margin:0 %?15?% %?8?%;height:%?64?%;width:%?64?%;line-height:%?64?%;text-align:center;position:relative}.everyday .every uni-image[data-v-03b1acc0]{height:%?64?%;position:absolute;width:%?64?%;top:0;left:0;display:block}.every uni-view[data-v-03b1acc0]{line-height:%?64?%;position:absolute;height:%?64?%;width:%?64?%;top:0;left:0;z-index:5}.next[data-v-03b1acc0]{color:#999}.dialog[data-v-03b1acc0]{position:fixed;left:0;top:0;height:100%;width:100%;z-index:999;background-color:rgba(0,0,0,.3)}.success[data-v-03b1acc0]{position:fixed;top:%?350?%;left:0;right:0;width:%?630?%;margin:0 auto;background-color:#fff;border-radius:%?16?%;z-index:1000;padding-bottom:%?64?%}.success .success-img[data-v-03b1acc0]{height:%?450?%;width:%?630?%;margin-top:%?-250?%}.getPrice[data-v-03b1acc0]{height:%?40?%;line-height:%?40?%;color:#ff4544;font-size:%?44?%;margin-bottom:%?28?%}.success .getPrice uni-image[data-v-03b1acc0]{height:%?40?%;width:%?40?%;margin-right:%?16?%;display:block}.info[data-v-03b1acc0]{font-size:%?32?%;color:#353535;margin-bottom:%?44?%;text-align:center}.info uni-text[data-v-03b1acc0]{color:#ff4544}.success-btn[data-v-03b1acc0]{width:%?320?%;height:%?72?%;line-height:%?72?%;font-size:%?32?%;color:#fff;background-color:#ff4544;border-radius:%?36?%;margin:0 auto}.success-btn[data-v-03b1acc0]::after{border:0}.getRed[data-v-03b1acc0]{height:%?460?%;width:%?630?%;position:fixed;top:%?330?%;left:0;right:0;margin:0 auto;text-align:center;font-size:%?28?%;color:#ba7d44}.getRed-img[data-v-03b1acc0]{height:%?460?%;width:%?630?%}.getRed-title[data-v-03b1acc0]{position:fixed;text-align:center;left:0;width:100%;top:%?390?%}.getRed-price[data-v-03b1acc0]{color:#ff4544;position:fixed;text-align:center;left:0;width:100%;top:%?450?%}.getRed-price uni-text[data-v-03b1acc0]{font-family:Alibaba;font-size:%?68?%}.getRed-content[data-v-03b1acc0]{position:fixed;text-align:center;left:0;width:100%;top:%?540?%}.getRed-btn[data-v-03b1acc0]{position:fixed;top:%?640?%;left:0;right:0;margin:0 auto;width:%?320?%;height:%?72?%;color:#ff4544;font-size:%?32?%;line-height:%?72?%;border-radius:%?36?%;background:-webkit-gradient(linear,left top,left bottom,from(#ffe8bc),to(#ffcb7c));background:-o-linear-gradient(top,#ffe8bc,#ffcb7c);background:linear-gradient(180deg,#ffe8bc,#ffcb7c)}.getRed-btn[data-v-03b1acc0]::after{border:0}.close[data-v-03b1acc0]{position:fixed;top:%?870?%;height:%?30?%;width:%?30?%;left:50%;margin-left:%?-15?%;z-index:1000}.close uni-image[data-v-03b1acc0]{height:%?30?%;width:%?30?%}.get-close[data-v-03b1acc0]{top:%?800?%}.getRed-info[data-v-03b1acc0]{font-size:%?22?%;position:fixed;top:%?724?%;left:0;right:0;text-align:center;color:#ffcb7c}.other[data-v-03b1acc0]{background:-webkit-gradient(linear,left top,left bottom,from(#2a3a7c),to(#5b7ac7));background:-o-linear-gradient(top,#2a3a7c,#5b7ac7);background:linear-gradient(180deg,#2a3a7c,#5b7ac7);padding-bottom:%?40?%;position:absolute;top:%?500?%;left:0;width:100%}.toggle-btn[data-v-03b1acc0]{width:%?150?%;height:%?110?%}body.?%PAGE?%[data-v-03b1acc0]{background:#f7f7f7}',""])},"3f14":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return c})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-layout",{attrs:{overflow:!1}},[t.customize?a("v-uni-view",[a("v-uni-image",{staticClass:"bg",attrs:{"load-lazy":"true",src:t.customize.head_bg?t.customize.head_bg:t.checkImg.app_image.top_bg}}),1==t.config.is_remind?a("v-uni-view",{staticClass:"tips dir-left-nowrap cross-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSwitch.apply(void 0,arguments)}}},[a("v-uni-text",{style:{color:""+t.customize.remind_font}},[t._v("签到提醒")]),(t.user.is_remind,a("v-uni-switch",{staticStyle:{transform:"scale(0.7)"},attrs:{checked:1==t.user.is_remind},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.toSwitch.apply(void 0,arguments)}}}))],1):t._e(),a("v-uni-view",{staticClass:"icon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toRules.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"rules"},[t._v("签到规则")])],1),a("v-uni-view",{staticClass:"icon toIndex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toIndex.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"rules"},[t._v("回到首页")])],1),null==t.user.today_check_in?a("v-uni-view",{staticClass:"check-in-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.subscribe.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{"load-lazy":"true",src:t.customize.not_signed_icon?t.customize.not_signed_icon:t.checkImg.app_image.check_in}})],1):a("v-uni-view",{staticClass:"check-in-btn"},[a("v-uni-image",{attrs:{"load-lazy":"true",src:t.customize.signed_icon?t.customize.signed_icon:t.checkImg.app_image.over}})],1),null==t.user.today_check_in?a("v-uni-view",{staticClass:"no-check-in",style:{color:""+t.customize.daily_font}},[t._v("今日还未签到")]):a("v-uni-view",{staticClass:"no-check-in",style:{color:""+t.customize.daily_font}},[t._v("今日已签到")]),t.user.continue_day||0==t.user.continue_day?a("v-uni-view",{staticClass:"always",style:{color:""+t.customize.daily_font}},[t._v("已连续签到"+t._s(t.user.continue_day)+"天")]):t._e(),a("v-uni-view",{staticClass:"other",style:{background:"linear-gradient(to bottom,"+t.customize.end_bg+","+(1==t.customize.end_style?t.customize.end_gradient_bg:t.customize.end_bg)+")","min-height":""+t.other_height}},[t.config.continue.length>0?a("v-uni-view",{staticClass:"reward"},t._l(t.config.continue,(function(e,i){return a("v-uni-view",{key:i,class:["reward-item",e.day==t.config.continue[0].day?"no-top":""],style:{"border-color":""+t.customize.line_font}},["integral"==e.type?a("v-uni-image",{staticClass:"reward-icon",attrs:{"load-lazy":"true",src:t.customize.integral_icon?t.customize.integral_icon:"/static/image/integral.png"}}):t._e(),"balance"==e.type?a("v-uni-image",{staticClass:"reward-icon",attrs:{"load-lazy":"true",src:t.customize.balance_icon?t.customize.balance_icon:"/static/image/hongbao.png"}}):t._e(),a("v-uni-view",{staticClass:"reward-title"},[t._v("连续签到"+t._s(e.day)+"天")]),"integral"==e.type?a("v-uni-view",{staticClass:"reward-content"},[t._v("赠送"+t._s(e.number)+"积分")]):t._e(),"balance"==e.type?a("v-uni-view",{staticClass:"reward-content"},[t._v("赠送"+t._s(e.number)+"元余额红包")]):t._e(),e.check?a("v-uni-view",{staticClass:"reward-btn"},[a("v-uni-button",{staticClass:"over",style:{color:""+t.customize.prompt_font,backgroundColor:""+t.customize.btn_bg}},[t._v("已领取")])],1):t.user.continue_day>=e.day?a("v-uni-view",{staticClass:"reward-btn",attrs:{"data-id":"2"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.getAward(2,e.day)}}},[a("v-uni-button",{style:{color:""+t.customize.not_prompt_font,backgroundColor:""+t.customize.not_btn_bg}},[t._v("领取")])],1):t._e()],1)})),1):t._e(),t.config.total.length>0?a("v-uni-view",{staticClass:"reward balance-reward"},t._l(t.config.total,(function(e,i){return a("v-uni-view",{key:i,staticClass:"reward-item"},["integral"==e.type?a("v-uni-image",{staticClass:"reward-icon",attrs:{"load-lazy":"true",src:t.customize.integral_icon?t.customize.integral_icon:"/static/image/integral.png"}}):t._e(),"balance"==e.type?a("v-uni-image",{staticClass:"reward-icon",attrs:{"load-lazy":"true",src:t.customize.balance_icon?t.customize.balance_icon:"/static/image/hongbao.png"}}):t._e(),a("v-uni-view",{staticClass:"reward-title"},[t._v("累积签到"+t._s(e.day)+"天")]),"integral"==e.type?a("v-uni-view",{staticClass:"reward-content"},[t._v("赠送"+t._s(e.number)+"积分")]):t._e(),"balance"==e.type?a("v-uni-view",{staticClass:"reward-content"},[t._v("赠送"+t._s(e.number)+"元余额红包")]):t._e(),e.check?a("v-uni-view",{staticClass:"reward-btn"},[a("v-uni-button",{staticClass:"over"},[t._v("已领取")])],1):t._e(),t.user.total_day>=e.day&&!e.check?a("v-uni-view",{staticClass:"reward-btn",attrs:{"data-id":"3"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.getAward(3,e.day)}}},[a("v-uni-button",{style:{color:""+t.customize.not_prompt_font,backgroundColor:""+t.customize.not_btn_bg}},[t._v("领取")])],1):t._e()],1)})),1):t._e(),a("v-uni-view",{staticClass:"day"},[a("v-uni-view",{staticClass:"day-title main-center cross-center"},[a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.lose.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"toggle-btn main-center cross-center"},[a("v-uni-image",{attrs:{"load-lazy":"true",src:"/static/image/icon/arrow-left.png"}})],1)],1),a("v-uni-view",{staticClass:"date"},[a("v-uni-text",[t._v(t._s(t.year))]),a("v-uni-text",[t._v("年")]),a("v-uni-text",[t._v(t._s(t.month))]),a("v-uni-text",[t._v("月")])],1),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"toggle-btn main-center cross-center"},[a("v-uni-image",{attrs:{"load-lazy":"true",src:"/static/image/icon/arrow-right.png"}})],1)],1)],1),a("v-uni-view",{staticClass:"week main-between"},[a("v-uni-view",[t._v("日")]),a("v-uni-view",[t._v("一")]),a("v-uni-view",[t._v("二")]),a("v-uni-view",[t._v("三")]),a("v-uni-view",[t._v("四")]),a("v-uni-view",[t._v("五")]),a("v-uni-view",[t._v("六")])],1),a("v-uni-view",{staticClass:"everyday main-between"},t._l(t.everyday,(function(e,i){return a("v-uni-view",{key:i,staticClass:"every",staticStyle:{width:"28px"}},[e&&e.check?a("v-uni-image",{attrs:{"load-lazy":"true",src:t.customize.calendar_icon?t.customize.calendar_icon:"./../image/choose.png"}}):t._e(),e?a("v-uni-view",{class:[e&&e.date>t.now?"next":""]},[t._v(t._s(e.date))]):t._e()],1)})),1)],1)],1)],1):t._e(),t.success||t.getRed?a("v-uni-view",{staticClass:"dialog"},[t.success?a("v-uni-view",{staticClass:"success"},[t.success?a("v-uni-image",{staticClass:"success-img",attrs:{"load-lazy":"true",src:t.checkImg.app_image.success}}):a("v-uni-image",{staticClass:"success-img",attrs:{"load-lazy":"true",src:t.checkImg.app_image.get}}),a("v-uni-view",{staticClass:"getPrice main-center"},["integral"==t.result.type?a("v-uni-image",{attrs:{"load-lazy":"true",src:t.customize.integral_icon?t.customize.integral_icon:"/static/image/integral.png"}}):t._e(),a("v-uni-text",[t._v("+"+t._s(t.result.number))])],1),t.success?a("v-uni-view",{staticClass:"info"},[1==t.result.status?a("v-uni-text",[t._v("签到成功")]):t._e(),2==t.result.status?a("v-uni-text",[t._v("已连续签到")]):t._e(),3==t.result.status?a("v-uni-text",[t._v("已累积签到")]):t._e(),1!=t.result.status?a("v-uni-text",[t._v(t._s(t.result.day)+"天")]):t._e()],1):a("v-uni-view",{staticClass:"info"},[t._v("恭喜获得签到奖励")]),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[a("v-uni-button",{staticClass:"success-btn"},[t._v(t._s(t.success?"知道咯":"收下奖励"))])],1)],1):t._e(),t.getRed?a("v-uni-view",{staticClass:"getRed"},[a("v-uni-image",{staticClass:"getRed-img",attrs:{"load-lazy":"true",src:t.checkImg.app_image.getRed}}),a("v-uni-view",{staticClass:"getRed-title"},[t._v("恭喜获得签到奖励")]),a("v-uni-view",{staticClass:"getRed-price"},[a("v-uni-text",[t._v("+"+t._s(t.result.number))]),t._v("元")],1),a("v-uni-view",{staticClass:"getRed-content"},[t._v("余额红包")]),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[a("v-uni-button",{staticClass:"getRed-btn"},[t._v("收下奖励")])],1),a("v-uni-view",{staticClass:"getRed-info"},[1==t.result.status?a("v-uni-text",[t._v("已签到")]):t._e(),2==t.result.status?a("v-uni-text",[t._v("已连续签到")]):t._e(),3==t.result.status?a("v-uni-text",[t._v("已累积签到")]):t._e(),a("v-uni-text",[t._v(t._s(t.result.day))]),t._v("天")],1)],1):t._e(),a("v-uni-view",{class:["close",t.getRed?"get-close":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{"load-lazy":"true",src:t.mallImg.close}})],1)],1):t._e()],1)},c=[]},4513:function(t,e,a){"use strict";var i=a("1195"),n=a.n(i);n.a},afd2:function(t,e,a){"use strict";a.r(e);var i=a("c119"),n=a.n(i);for(var c in i)["default"].indexOf(c)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(c);e["default"]=n.a},c119:function(t,e,a){"use strict";var i=a("4ea4");a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("6b54"),a("87b3"),a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a481");var n=i(a("ade3")),c=a("2f62");function o(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=r(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){s=!0,c=t},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw c}}}}function r(t,e){if(t){if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={data:function(){return{month:1,year:1990,everyday:[],config:{total:[],continue:[]},user:{},result:{},other_height:"500rpx",now:1,noday:["","","","","","","",""],week:1,date:[],getRed:!1,customize:null,page_loading:!0,template_message:!1,success:!1}},computed:u({},(0,c.mapState)({userInfo:function(t){return t.user.info},mallImg:function(t){return t.mallConfig.__wxapp_img.mall},checkImg:function(t){return t.mallConfig.plugin.check_in}})),methods:{toRules:function(){uni.navigateTo({url:"/pages/rules/index?url=".concat(encodeURIComponent(this.$api.check_in.index),"&keys=").concat(JSON.stringify(["config","rule"]))})},toIndex:function(){uni.redirectTo({url:"/pages/index/index"})},getSetting:function(){var t=this;t.$request({url:t.$api.check_in.customize}).then((function(e){0==e.code?(t.customize=e.data.list,t.getList()):(t.$hideLoading(),uni.showToast({title:e.msg,icon:"none",duration:1e3}))})).catch((function(e){t.$hideLoading()}))},getList:function(){var t=this;t.$request({url:t.$api.check_in.index}).then((function(e){t.$hideLoading(),0==e.code?(t.config=e.data.config,t.user=e.data.check_in_user,t.template_message=e.data.template_message,t.getEveryday()):uni.showToast({title:e.msg,icon:"none",duration:1e3})})).catch((function(e){t.$hideLoading()}))},getEveryday:function(){var t=this,e=t.month,a=t.year,i=32,n=[];e<8&&e%2==0&&2!=e||e>7&&e%2==1?i=31:2==e&&(i=a%4==0&&a%100!=0?30:29);for(var c=1;c<i;c++)n.push({date:c,check:!1});for(var o=t.noday,r=t.week,s=0;s<r;s++)n.unshift(o[s]);if(n.length%7!=0)for(var d=7-n.length%7,u=0;u<d;u++)n.push(o[u]);t.everyday=n,t.getDay(a,e)},getDay:function(t,e){var a=this;a.$request({url:a.$api.check_in.sign_in_day,data:{month:e,year:t}}).then((function(t){if(a.$hideLoading(),0==t.code){var e,i=t.data.check_in_day,n=o(a.everyday);try{for(n.s();!(e=n.n()).done;){var c=e.value;if(c){c.check=!1;var r,s=o(i);try{for(s.s();!(r=s.n()).done;){var d=r.value;d==c.date&&(c.check=!0)}}catch(u){s.e(u)}finally{s.f()}}}}catch(u){n.e(u)}finally{n.f()}a.$forceUpdate()}else uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(t){a.$hideLoading()}))},lose:function(){var t=this.month-1,e=this.year,a=this.now;t<1&&(t=12,e--);var i=e+"-"+t+"-01",n=new Date(Date.parse(i.replace(/-/g,"/")));this.week=n.getDay();var c=new Date,o=c.getFullYear(),r=c.getMonth()+1;a=e==o?t>r?0:t<r?32:c.getDate():e>o?0:32,this.year=e,this.month=t,this.now=a,this.getEveryday()},add:function(){var t=this.month+1,e=this.year,a=this.now;t>12&&(t=1,e++);var i=e+"-"+t+"-01",n=new Date(Date.parse(i.replace(/-/g,"/")));this.week=n.getDay();var c=new Date,o=c.getFullYear(),r=c.getMonth()+1;a=e==o?t>r?0:t<r?32:c.getDate():e>o?0:32,this.year=e,this.month=t,this.now=a,this.getEveryday()},subscribe:function(){var t=this;this.$subscribe(this.template_message).then((function(e){t.getAward(1)})).catch((function(e){t.getAward(1)}))},getAward:function(t,e){var a=this;uni.showLoading({mask:!0,title:1==t?"签到中...":"领取中..."}),a.$request({url:a.$api.check_in.sign_in,data:{status:t,day:e||1}}).then((function(t){if(0==t.code){var e=t.data.queueId,i=t.data.token;a.checkInResult(e,i)}else uni.hideLoading(),uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(i){uni.hideLoading(),a.$event.on(a.$const.EVENT_USER_LOGIN).then((function(){a.$store.dispatch("user/info"),a.getAward(t,e)}))}))},checkInResult:function(t,e){var a=this;a.$request({url:a.$api.check_in.sign_in_result,data:{queueId:t,token:e}}).then((function(i){uni.hideLoading(),0==i.code?1==i.data.retry?a.checkInResult(t,e):(a.result=i.data,"integral"==a.result.type?a.success=!0:"balance"==a.result.type&&(a.getRed=!0)):uni.showToast({title:i.msg,icon:"none",duration:1e3})})).catch((function(t){uni.hideLoading()}))},changeSwitch:function(){0==this.user.is_remind&&this.$subscribe(this.template_message)},toSwitch:function(t){var e=this,a=this,i=0;t.detail.value&&(i=1),a.$request({url:a.$api.check_in.user,data:{is_remind:i}}).then((function(t){a.$hideLoading(),0==t.code?e.user.is_remind=i:uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(t){a.$hideLoading()}))},close:function(){this.success=!1,this.getRed=!1,this.getList()}},onLoad:function(){this.$commonLoad.onload();var t=this;wx.getSystemInfo({success:function(e,a){t.other_height=2*e.windowHeight-500+"rpx"}});var e=new Date;t.year=e.getFullYear(),t.month=e.getMonth()+1,t.now=e.getDate();var a=t.year+"-"+t.month+"-01",i=new Date(Date.parse(a.replace(/-/g,"/")));t.week=i.getDay(),t.$showLoading({type:"global",text:"加载中..."}),t.getSetting()}};e.default=l},f4ec:function(t,e,a){"use strict";a.r(e);var i=a("3f14"),n=a("afd2");for(var c in n)["default"].indexOf(c)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(c);a("4513");var o,r=a("f0c5"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"03b1acc0",null,!1,i["a"],o);e["default"]=s.exports}}]);