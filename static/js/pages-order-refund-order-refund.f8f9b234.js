(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-refund-order-refund"],{"1d88":function(e,t,a){"use strict";a.r(t);var i=a("595d"),n=a("8bf5");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("2114");var r,c=a("f0c5"),s=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"396bafa3",null,!1,i["a"],r);t["default"]=s.exports},2114:function(e,t,a){"use strict";var i=a("3206"),n=a.n(i);n.a},3206:function(e,t,a){var i=a("5756");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("ed89d45c",i,!0,{sourceMap:!1,shadowMode:!1})},4128:function(e,t,a){"use strict";a.r(t);var i=a("5221"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"484e":function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("app-layout",[e.isShow?a("v-uni-view",[0==e.orderDetail.cancel_status?a("v-uni-view",{staticClass:"box"},[a("v-uni-view",{staticClass:"goods-info"},e._l(e.orderDetail.detail,(function(t,i){return a("v-uni-view",{key:i},[a("app-jump-button",{attrs:{url:t.goods_info.page_url}},[a("app-order-goods-info",{attrs:{goods:t.goods_info,"is-last-one":e.orderDetail.detail.length-1!==i,"plugin-data":e.orderDetail.plugin_data,"plugin-index":i}})],1)],1)})),1),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"content-item"},[a("span",{staticClass:"label"},[e._v("退款原因")]),a("v-uni-view",{staticClass:"select-box",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cause.visible=!0}}},[a("span",{staticClass:"select-label",class:{active:e.form.cause,"no-active":!e.form.cause}},[e._v(e._s(e.form.cause?e.cause.list[e.cause.index]:"请选择"))]),a("v-uni-image",{staticClass:"arrow-right",attrs:{src:"/static/image/icon/arrow-right.png"}})],1)],1),a("v-uni-view",{staticClass:"content-item"},[a("span",{staticClass:"label"},[e._v("退款金额")]),a("v-uni-input",{staticClass:"text price-text",attrs:{placeholder:"最多可退款"+e.orderDetail.refund_price_text,disabled:"","placeholder-style":"color:#999999;font-size:28rpx;"},model:{value:e.orderDetail.refund_price_text,callback:function(t){e.$set(e.orderDetail,"refund_price_text",t)},expression:"orderDetail.refund_price_text"}})],1),a("v-uni-view",{staticClass:"content-item"},[a("span",{staticClass:"label"},[e._v("备注信息")]),a("v-uni-input",{staticClass:"text",attrs:{placeholder:"最多可填200个字","placeholder-style":"color:#999999;font-size:28rpx;"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("v-uni-view",{staticClass:"content-item"},[a("span",{staticClass:"label"},[e._v("联系方式")]),a("v-uni-input",{staticClass:"text",attrs:{placeholder:"请填写联系方式，便于卖家联系你 ","placeholder-style":"color:#999999;font-size:28rpx;",type:"number"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1)],1),a("v-uni-view",{staticClass:"upload-box"},[a("v-uni-view",{staticClass:"label"},[e._v("上传凭证")]),a("app-upload-image",{attrs:{"max-num":e.maxNum,"background-color":"#fff"},on:{"image-event":function(t){arguments[0]=t=e.$handleEvent(t),e.imageEvent.apply(void 0,arguments)}}})],1)],1):a("v-uni-view",[a("app-order-banner",{attrs:{refund:"待商家审核",title:"待商家审核"}}),a("v-uni-view",{staticClass:"platform"},[e._v(e._s(e.orderDetail.platform))]),a("v-uni-view",{staticClass:"goods-box"},e._l(e.orderDetail.detail,(function(e,t){return a("v-uni-view",{key:t},[a("app-jump-button",{attrs:{url:e.goods_info.page_url}},[a("app-order-goods-info",{staticStyle:{width:"100%"},attrs:{goods:e.goods_info}})],1)],1)})),1),a("v-uni-view",{staticClass:"preferential-box dir-top-nowrap"},[e.orderDetail.cancel_data.cause?a("v-uni-view",{staticClass:"dir-left-nowrap item cross-center"},[a("v-uni-view",{staticClass:"label box-grow-0"},[e._v("退款原因:")]),a("v-uni-view",{staticClass:"t-small-color box-grow-1"},[e._v(e._s(e.orderDetail.cancel_data.cause))])],1):e._e(),a("v-uni-view",{staticClass:"dir-left-nowrap item cross-center"},[a("v-uni-view",{staticClass:"label box-grow-0"},[e._v("退款金额:")]),a("v-uni-view",{staticClass:"t-small-color box-grow-1 total_pay_price"},[e._v("￥"+e._s(e.orderDetail.total_pay_price))])],1),e.orderDetail.cancel_data.remark?a("v-uni-view",{staticClass:"dir-left-nowrap item cross-center"},[a("v-uni-view",{staticClass:"label box-grow-0"},[e._v("备注信息:")]),a("v-uni-view",{staticClass:"t-small-color box-grow-1 text"},[e._v(e._s(e.orderDetail.cancel_data.remark))])],1):e._e(),e.orderDetail.cancel_data.mobile?a("v-uni-view",{staticClass:"dir-left-nowrap item cross-center"},[a("v-uni-view",{staticClass:"label box-grow-0"},[e._v("联系方式:")]),a("v-uni-view",{staticClass:"t-small-color box-grow-1 text"},[e._v(e._s(e.orderDetail.cancel_data.mobile))])],1):e._e(),e.orderDetail.cancel_data.image_list.length>0?a("v-uni-view",{staticClass:"dir-top-nowrap"},[a("v-uni-view",{staticClass:"image-label"},[e._v("图片凭证:")]),a("v-uni-view",{staticClass:"flex-wrap"},e._l(e.orderDetail.cancel_data.image_list,(function(t,i){return a("v-uni-image",{key:i,staticClass:"picture",attrs:{src:t,mode:"aspectFill"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewImage(i)}}})})),1)],1):e._e()],1)],1),a("v-uni-view",{staticStyle:{height:"80rpx","margin-top":"80rpx"}}),a("v-uni-view",{staticClass:"btn-box"},[2==e.orderDetail.cancel_status?a("v-uni-view",{staticClass:"btn main-center cross-center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelApply.apply(void 0,arguments)}}},[e._v("撤销申请")]):a("v-uni-view",{staticClass:"btn main-center cross-center",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.formSubmit.apply(void 0,arguments)}}},[e._v("提交")])],1),a("app-select",{attrs:{title:"退款原因","is-show":e.cause.visible,value:e.cause.index,list:e.cause.list},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickerChange.apply(void 0,arguments)}}})],1):e._e()],1)},o=[]},5221:function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("4e01")),o=i(a("798e")),r=i(a("1d88")),c=i(a("477f")),s={components:{appOrderGoodsInfo:n.default,appUploadImage:o.default,appOrderBanner:r.default,"app-select":c.default},data:function(){return{orderDetail:{},form:{image_list:[],remark:"",mobile:"",cause:""},maxNum:6,cause:{list:[],visible:!1,index:1},isShow:!1}},methods:{getOrderDetail:function(){var e=this;e.$showLoading(),e.$request({url:e.$api.order.detail,data:{id:e.order_id}}).then((function(t){e.$hideLoading(),e.isShow=!0,0===t.code?(e.orderDetail=t.data.detail,e.setPageTitle()):uni.showModal({title:"",content:t.msg,showCancel:!1})})).catch((function(){e.$hideLoading()}))},formSubmit:function(){var e=this;e.form.cause?uni.showModal({title:"提示",content:"确认申请退款？",success:function(t){t.confirm&&e.$subscribe(e.orderDetail.template_message_list).then((function(t){e.cancelAction()})).catch((function(t){e.cancelAction()}))}}):uni.showModal({title:"",content:"请选择退款原因",showCancel:!1})},imageEvent:function(e){this.form.image_list=e.imageList},bindPickerChange:function(e){e.is_modal_confirm||(this.cause.index=e.index,this.form.cause=this.cause.list[this.cause.index]),this.cause.visible=!1},cancelAction:function(){var e=this;uni.showLoading({title:"取消中"}),e.$request({url:e.$api.order.cancel,data:{id:e.orderDetail.id,cancel_data:JSON.stringify(e.form)}}).then((function(t){uni.hideLoading(),0===t.code?"advance"===e.sign?e.$request({url:e.$api.advance.order_detail,method:"get",data:{id:e.order_id}}).then((function(t){0===t.code?e.orderDetail=t.data.detail:uni.showModal({title:"",content:t.msg,showCancel:!1})})):e.getOrderDetail():uni.showModal({title:"",content:t.msg,showCancel:!1})})).catch((function(){uni.hideLoading()}))},cancelCauseList:function(){var e=this;e.$request({url:e.$api.order.cancel_cause_list}).then((function(t){0===t.code?e.cause.list=t.data.list:uni.showModal({title:"",content:t.msg,showCancel:!1})})).catch((function(){e.$hideLoading()}))},cancelApply:function(){var e=this;uni.showLoading({title:"取消中"}),e.$request({url:e.$api.order.cancel_apply,method:"post",data:{id:e.order_id}}).then((function(e){uni.hideLoading(),0===e.code?uni.navigateBack():uni.showModal({title:"",content:e.msg,showCancel:!1})})).catch((function(){uni.hideLoading()}))},setPageTitle:function(){var e="申请退款";2==this.orderDetail.cancel_status&&(e="订单退款"),uni.setNavigationBarTitle({title:e})},previewImage:function(e){var t=this.orderDetail.cancel_data.image_list;uni.previewImage({current:t[e],urls:t})}},onLoad:function(e){this.$commonLoad.onload(e),this.order_id=e.id,this.getOrderDetail(),this.cancelCauseList()}};t.default=s},"54e9":function(e,t,a){"use strict";var i=a("fd06"),n=a.n(i);n.a},5756:function(e,t,a){t=e.exports=a("24fb")(!1),t.push([e.i,'@charset "UTF-8";.text-center[data-v-396bafa3]{text-align:center}.font-weight[data-v-396bafa3]{font-weight:700}.page-width[data-v-396bafa3]{width:100%}.goods-hover-class[data-v-396bafa3]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-396bafa3]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-396bafa3]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-396bafa3]{width:100%}.u-hover-class[data-v-396bafa3]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-396bafa3]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.order-status-box[data-v-396bafa3]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.text[data-v-396bafa3]{z-index:1;color:#fff;height:%?32?%;line-height:%?32?%;font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#333}.text.refund[data-v-396bafa3]{padding-left:%?80?%}.text uni-image[data-v-396bafa3]{width:%?32?%;height:%?32?%;margin-right:%?16?%}.hint[data-v-396bafa3]{z-index:1;margin-top:%?16?%;color:#333;font-size:%?24?%}.confirm-time[data-v-396bafa3]{font-size:%?26?%;margin-top:%?12?%;margin-bottom:%?12?%}body.?%PAGE?%[data-v-396bafa3]{background:#f7f7f7}',""])},"595d":function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"app-order-banner order-status-box",staticStyle:{padding:"0 32rpx"},style:e.titleStyle},[a("v-uni-view",{staticClass:"text cross-center dir-top-nowrap"},[a("v-uni-view",{class:e.refund?"dir-left-nowrap refund":"main-center"},[0!=e.confirm||e.refund?1!=e.confirm||e.refund?e._e():a("v-uni-image",{attrs:{src:"https://kaytuneneimai.oss-cn-shanghai.aliyuncs.com/uploads/mall1/20230301/68d531d65716bf1be6fcbd8a8de24e63.png"}}):a("v-uni-image",{attrs:{src:"https://kaytuneneimai.oss-cn-shanghai.aliyuncs.com/uploads/mall1/20230301/88fac18d96d7a0faf76830acfb76f6c2.png"}}),a("v-uni-view",[e._v(e._s(e.title))])],1),1==e.order.is_confirm?a("v-uni-view",{staticClass:"confirm-time"},[e._v(e._s(e.order.confirm_time)+" "+e._s(1==e.order.send_type?"核销":"收货"))]):e._e()],1),e.hint?a("v-uni-view",{staticClass:"hint main-center cross-center"},[e._v(e._s(e.hint))]):e._e()],1)},o=[]},"8bf5":function(e,t,a){"use strict";a.r(t);var i=a("c8bf"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},a64f:function(e,t,a){t=e.exports=a("24fb")(!1),t.push([e.i,'@charset "UTF-8";.text-center[data-v-fab3a3ec]{text-align:center}.font-weight[data-v-fab3a3ec]{font-weight:700}.page-width[data-v-fab3a3ec]{width:100%}.goods-hover-class[data-v-fab3a3ec]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-fab3a3ec]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-fab3a3ec]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-fab3a3ec]{width:100%}.u-hover-class[data-v-fab3a3ec]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-fab3a3ec]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.box[data-v-fab3a3ec]{padding:%?24?%;width:100%}.box .goods-info[data-v-fab3a3ec]{background:#fff;border-radius:%?16?%;padding:%?28?%}.box .content[data-v-fab3a3ec]{margin-top:%?24?%;padding:0 %?28?%;background:#fff;border-radius:%?16?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.box .content .content-item[data-v-fab3a3ec]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:%?88?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-bottom:%?1?% solid #e2e2e2}.box .content .content-item .label[data-v-fab3a3ec]{font-size:%?28?%;color:#353535;width:%?152?%}.box .content .content-item .text[data-v-fab3a3ec]{color:#353535;font-size:%?28?%;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1}.box .content .content-item .price-text[data-v-fab3a3ec]{color:#ff4544}.box .content .content-item[data-v-fab3a3ec]:last-child{border-bottom:0}.box .content .select-box[data-v-fab3a3ec]{text-align:right;width:100%}.box .content .select-box .no-active[data-v-fab3a3ec]{color:#999}.box .content .select-box .active[data-v-fab3a3ec]{color:#353535}.box .content .select-box .select-label[data-v-fab3a3ec]{font-size:%?28?%}.box .content .select-box .arrow-right[data-v-fab3a3ec]{width:%?12?%;height:%?22?%;margin-left:%?16?%}.box .upload-box[data-v-fab3a3ec]{background:#fff;border-radius:%?16?%;padding:%?28?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-top:%?24?%}.box .upload-box .label[data-v-fab3a3ec]{font-size:%?28?%;color:#353535;margin-bottom:%?20?%}.btn-box[data-v-fab3a3ec]{position:fixed;bottom:0;width:100%;padding:%?24?%;background:#f7f7f7;z-index:999}.btn-box .btn[data-v-fab3a3ec]{border-radius:%?40?%;height:%?80?%;background:#ff4544;padding:%?24?% 0;color:#fff;font-size:%?32?%}.shade-box[data-v-fab3a3ec]{width:100%;height:100vh;background-color:rgba(0,0,0,.3);position:absolute;top:0}.shade-box .list[data-v-fab3a3ec]{position:absolute;bottom:0;width:100%;background:#fff;border-top-left-radius:%?16?%;border-top-right-radius:%?16?%;overflow:hidden}.shade-box .list .title[data-v-fab3a3ec]{height:%?100?%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-bottom:%?1?% solid #e2e2e2}.platform[data-v-fab3a3ec]{background:#fff;border-bottom:%?1?% solid #e2e2e2;padding:%?20?% %?20?%;margin-top:%?20?%}.goods-box[data-v-fab3a3ec]{background:#fff;padding:%?32?% %?24?%}.preferential-box[data-v-fab3a3ec]{background:#fff;padding:%?32?% %?24?%;margin-top:%?20?%}.preferential-box .item[data-v-fab3a3ec]{margin:%?12?% %?15?% %?12?% 0;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.preferential-box .picture[data-v-fab3a3ec]{width:%?160?%;height:%?160?%;margin-right:%?14?%;margin-bottom:%?14?%}.preferential-box .label[data-v-fab3a3ec]{margin-right:%?15?%}.preferential-box .image-label[data-v-fab3a3ec]{margin:%?12?% 0}.preferential-box .text[data-v-fab3a3ec]{word-break:break-all}.preferential-box .total_pay_price[data-v-fab3a3ec]{color:#ff4544}body.?%PAGE?%[data-v-fab3a3ec]{background:#f7f7f7}',""])},c8bf:function(e,t,a){"use strict";var i=a("4ea4");a("8e6e"),a("ac6a"),a("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("ade3")),o=a("2f62");function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={name:"app-order-banner",data:function(){return{newPicUrl:""}},props:{title:{type:String,value:""},confirm:{type:String,value:"0"},picUrl:{type:String,value:""},hint:{type:String,value:""},refund:Boolean,order:{type:Object,default:function(){return{}}}},computed:c(c({},(0,o.mapGetters)("mallConfig",{getTheme:"getTheme"})),{},{titleStyle:function(){var e="";if(this.refund)e+="background-image: url(".concat(this.newPicUrl,");background-size: 100% 100%;height: 120rpx");else{var t=1==this.order.is_confirm?"396rpx":"372rpx";e+="background: linear-gradient(to bottom, #e6ecf5, ".concat(this.getTheme.background_t,");padding-bottom: ").concat(this.hint?"202rpx":"276rpx",";height: ").concat(t,";")}return e}}),created:function(){this.newPicUrl=this.$store.state.mallConfig.__wxapp_img.mall.order.status_bar}};t.default=s},f9c0:function(e,t,a){"use strict";a.r(t);var i=a("484e"),n=a("4128");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("54e9");var r,c=a("f0c5"),s=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"fab3a3ec",null,!1,i["a"],r);t["default"]=s.exports},fd06:function(e,t,a){var i=a("a64f");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("4c0a0fba",i,!0,{sourceMap:!1,shadowMode:!1})}}]);