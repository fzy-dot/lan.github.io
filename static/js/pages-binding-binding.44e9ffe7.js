(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-binding-binding"],{"27f4":function(n,t,e){"use strict";var i=e("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(e("4ee3")),o={name:"binding",data:function(){return{bind:!1,phone:""}},onLoad:function(){var n=this;this.$commonLoad.onload(),this.$request({url:this.$api.user.user_info}).then((function(t){0===t.code&&""!==t.data.mobile&&(n.bind=!0,n.phone=t.data.mobile)}))},methods:{bindPhone:function(n){this.bind=n}},components:{"app-phone-binding":a.default}};t.default=o},"3d21":function(n,t,e){"use strict";var i=e("4ea4");e("8e6e"),e("ac6a"),e("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(e("ade3")),o=e("2f62");function d(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function r(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?d(Object(e),!0).forEach((function(t){(0,a.default)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var p={name:"app-phone-binding",data:function(){return{code:"",value:"",activeIndex:2,timeNum:60,timeIng:0,phoneNumber:null,verificationCode:null,isSend:!1}},props:{bind:{type:Boolean},phone:{type:String}},computed:r({},(0,o.mapState)({wxapp_img:function(n){return n.mallConfig.__wxapp_img},is_manual_mobile_auth:function(n){return n.mallConfig.mall.setting.is_manual_mobile_auth}})),created:function(){},methods:{getPhoneNumber:function(n){var t=this;if("getPhoneNumber:fail user deny"!==n.detail.errMsg&&this.code){var e=this;this.$request({method:"post",url:e.$api.phone.binding,data:{encryptedData:n.detail.encryptedData,iv:n.detail.iv,code:e.code}}).then((function(n){t.value=n.data.mobile}))}},bindPhone:function(n,t){var e=this;if(1===t){if(""===this.value)return;this.$emit("click",n)}else{if(null===this.verificationCode)return;this.$request({url:this.$api.phone.binding,method:"post",data:{mobile:this.phoneNumber,mobile_code:this.verificationCode}}).then((function(t){0===t.code?(e.$emit("click",n),e.phone=e.phoneNumber):1===t.code&&uni.showModal({title:"提示",content:t.msg})}))}},change:function(){var n=this;clearInterval(this.timeIng),this.timeIng=setInterval((function(){n.timeNum--,0===n.timeNum&&(clearInterval(n.timeIng),n.isSend=!1)}),1e3)},clearPhone:function(n){this.$emit("click",n)},obtain:function(){var n=this;null!==this.phoneNumber&&(this.timeNum=60,this.$request({url:this.$api.phone.code,data:{mobile:this.phoneNumber}}).then((function(t){0===t.code?(n.change(),uni.showToast({title:t.msg,icon:"none",duration:1e3}),n.isSend=!0):1===t.code&&uni.showModal({title:"提示",content:t.msg})})))},setActive:function(n){this.activeIndex=n}},beforeDestroy:function(){clearInterval(this.timeIng)}};t.default=p},"4ee3":function(n,t,e){"use strict";e.r(t);var i=e("8861"),a=e("a787");for(var o in a)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return a[n]}))}(o);e("ddad");var d,r=e("f0c5"),p=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"03b53eda",null,!1,i["a"],d);t["default"]=p.exports},"6d6a":function(n,t,e){t=n.exports=e("24fb")(!1),t.push([n.i,'@charset "UTF-8";.text-center[data-v-03b53eda]{text-align:center}.font-weight[data-v-03b53eda]{font-weight:700}.page-width[data-v-03b53eda]{width:100%}.goods-hover-class[data-v-03b53eda]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-03b53eda]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-03b53eda]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-03b53eda]{width:100%}.u-hover-class[data-v-03b53eda]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-03b53eda]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.app-phone-binding[data-v-03b53eda]{position:absolute;height:100%;width:100%;background-color:#f7f7f7}.app-phone-binding .app-unbound[data-v-03b53eda]{width:100%;background-color:#f7f7f7}.app-phone-binding .app-unbound .header[data-v-03b53eda]{width:100%;height:%?86?%;background-color:#fff;border-bottom:%?1?% solid #e2e2e2;text-align:center;margin-bottom:%?8?%}.app-phone-binding .app-unbound .header .box-grow-1 uni-text[data-v-03b53eda]{display:inline-block;height:%?84?%;line-height:%?84?%;border-bottom-color:rgba(0,0,0,0);border-bottom-style:solid;border-bottom-width:%?2?%;color:#353535;font-size:%?28?%}.app-phone-binding .app-unbound .header .box-grow-1 .active-index[data-v-03b53eda]{border-bottom-color:#ff4544;color:#ff4544}.app-phone-binding .app-unbound .content[data-v-03b53eda]{width:100%;height:%?110?%;background-color:#fff;padding:%?10?% 0;-webkit-box-sizing:border-box;box-sizing:border-box}.app-phone-binding .app-unbound .content .input-view[data-v-03b53eda]{margin-left:%?24?%;background-color:#fff;height:%?80?%;width:%?726?%}.app-phone-binding .app-unbound .content .input-view .input[data-v-03b53eda]{height:%?80?%;width:%?516?%;line-height:%?80?%;background-color:#f7f7f7;padding-left:%?24?%;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:%?28?%;color:#999;margin-right:%?16?%}.app-phone-binding .app-unbound .content .input-view .input-value[data-v-03b53eda]{color:#353535}.app-phone-binding .app-unbound .content .input-view .line[data-v-03b53eda]{width:%?1?%;height:%?36?%;background-color:#e2e2e2}.app-phone-binding .app-unbound .content .input-view .button[data-v-03b53eda]{width:%?194?%;height:%?80?%;line-height:%?80?%;color:#ff4544;font-size:%?28?%;background-color:#fff;border:none;border-radius:0;text-align:center;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.app-phone-binding .app-unbound .content .manual-input[data-v-03b53eda]{width:100%;height:%?200?%;background-color:#fff}.app-phone-binding .app-unbound .content .manual-input .top[data-v-03b53eda]{height:%?100?%;font-size:%?28?%;border-bottom:%?1?% solid #e2e2e2}.app-phone-binding .app-unbound .content .manual-input .top > uni-input[data-v-03b53eda]{width:%?710?%;height:%?60?%;padding-left:%?40?%;-webkit-box-sizing:border-box;box-sizing:border-box}.app-phone-binding .app-unbound .content .manual-input .bottom[data-v-03b53eda]{height:%?100?%}.app-phone-binding .app-unbound .content .manual-input .bottom > uni-input[data-v-03b53eda]{width:%?529?%;height:%?60?%;padding-left:%?40?%;font-size:%?28?%;-webkit-box-sizing:border-box;box-sizing:border-box}.app-phone-binding .app-unbound .content .manual-input .bottom .line[data-v-03b53eda]{width:%?1?%;height:%?32?%;background-color:#e2e2e2}.app-phone-binding .app-unbound .content .manual-input .bottom .btn[data-v-03b53eda]{height:%?100?%;line-height:%?100?%;width:%?220?%;font-size:%?28?%;text-align:center;color:#ff4544}.app-phone-binding .app-unbound .content .sure-button[data-v-03b53eda]{width:%?702?%;height:%?88?%;line-height:%?88?%;text-align:center;margin:%?80?% %?20?% 0 %?24?%;background-color:#ff4544;color:#fff;font-size:%?32?%;border-radius:%?44?%}.app-phone-binding .app-bound[data-v-03b53eda]{width:%?750?%}.app-phone-binding .app-bound .app-image[data-v-03b53eda]{width:%?288?%;height:%?288?%;margin:%?64?% %?0?% %?56?% %?0?%}.app-phone-binding .app-bound .app-phone-text[data-v-03b53eda]{text-align:center;color:#666;font-size:%?30?%;margin-bottom:%?60?%}.app-phone-binding .app-bound .app-phone-text .app-hone[data-v-03b53eda]{margin-top:%?15?%}.app-phone-binding .app-bound .app-phone-text .app-button[data-v-03b53eda]{height:100%;border:none;font-size:%?26?%;color:#ff4544;padding:0 0;margin-top:%?64?%;margin-left:%?24?%;margin-right:%?24?%}.app-phone-binding .app-bound .app-phone-text .app-button[data-v-03b53eda]:after{display:none}body.?%PAGE?%[data-v-03b53eda]{background:#f7f7f7}',""])},8305:function(n,t,e){"use strict";var i;e.d(t,"b",(function(){return a})),e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){return i}));var a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("app-layout",[e("app-phone-binding",{attrs:{bind:n.bind,phone:n.phone},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.bindPhone.apply(void 0,arguments)}}})],1)},o=[]},8861:function(n,t,e){"use strict";var i;e.d(t,"b",(function(){return a})),e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){return i}));var a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",{staticClass:"app-phone-binding"},[n.bind?e("v-uni-view",{staticClass:"app-bound dir-top-nowrap cross-center"},[e("v-uni-image",{staticClass:"app-image",attrs:{src:n.wxapp_img.mall.binding}}),e("v-uni-view",{staticClass:"app-phone-text dir-top-nowrap"},[e("v-uni-text",[n._v("已绑定手机")]),e("v-uni-text",{staticClass:"app-hone"},[n._v(n._s(n.phone))])],1),e("v-uni-view",{staticClass:"app-button"},[e("app-button",{attrs:{type:"important",round:!0,background:"#ff4544",height:"88",width:"700",fontSize:"32"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.clearPhone(!1)}}},[n._v("更换绑定")])],1)],1):[e("v-uni-view",{staticClass:"app-unbound"},[e("v-uni-view",{staticClass:"content"},[2===n.activeIndex?e("v-uni-view",{staticClass:"manual-input dir-top-nowrap"},[e("v-uni-view",{staticClass:"top cross-center"},[e("v-uni-input",{attrs:{type:"number",placeholder:"输入手机号"},model:{value:n.phoneNumber,callback:function(t){n.phoneNumber=t},expression:"phoneNumber"}})],1),e("v-uni-view",{staticClass:"bottom dir-left-nowrap cross-center"},[e("v-uni-input",{attrs:{type:"number",placeholder:"输入验证码"},model:{value:n.verificationCode,callback:function(t){n.verificationCode=t},expression:"verificationCode"}}),e("v-uni-view",{staticClass:"line"}),n.isSend?e("v-uni-view",{staticClass:"btn"},[n._v("重新发送"+n._s(n.timeNum)+"S")]):e("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.obtain.apply(void 0,arguments)}}},[n._v("获取验证码")])],1)],1):n._e(),e("v-uni-view",{staticClass:"sure-button",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.bindPhone(!0,n.activeIndex)}}},[n._v("确认")])],1)],1)]],2)},o=[]},"958d":function(n,t,e){"use strict";e.r(t);var i=e("8305"),a=e("fdff");for(var o in a)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return a[n]}))}(o);var d,r=e("f0c5"),p=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],d);t["default"]=p.exports},a787:function(n,t,e){"use strict";e.r(t);var i=e("3d21"),a=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return i[n]}))}(o);t["default"]=a.a},ddad:function(n,t,e){"use strict";var i=e("f88b"),a=e.n(i);a.a},f88b:function(n,t,e){var i=e("6d6a");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var a=e("4f06").default;a("6d37236f",i,!0,{sourceMap:!1,shadowMode:!1})},fdff:function(n,t,e){"use strict";e.r(t);var i=e("27f4"),a=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(n){e.d(t,n,(function(){return i[n]}))}(o);t["default"]=a.a}}]);