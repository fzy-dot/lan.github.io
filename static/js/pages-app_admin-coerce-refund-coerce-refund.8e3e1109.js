(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-app_admin-coerce-refund-coerce-refund"],{3924:function(t,i,e){"use strict";e.r(i);var o=e("aba4"),a=e("3f30");for(var n in a)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(n);e("9330");var s,c=e("f0c5"),d=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,"b143183c",null,!1,o["a"],s);i["default"]=d.exports},"3f30":function(t,i,e){"use strict";e.r(i);var o=e("52d2"),a=e.n(o);for(var n in o)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(n);i["default"]=a.a},"52d2":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("20d6");var o={data:function(){return{coerce_list:[],checked:0,goods_status:"",cause:"",refund_price:"",remark:"",dialog:!1,iphone_x:!1,pick_type:"",list:[],goods_status_list:[{label:"未收货",value:"未收货"},{label:"已收货",value:"已收货"}],cause_list:[{label:"质量问题",value:"质量问题"},{label:"拍错/多拍/不喜欢",value:"拍错/多拍/不喜欢"},{label:"商品描述不符",value:"商品描述不符"},{label:"假货",value:"假货"},{label:"商家发错货",value:"商家发错货"},{label:"商品破损/少件",value:"商品破损/少件"},{label:"其它",value:"其它"}],newIndex:0,chooseIndex:[0]}},onLoad:function(t){this.$commonLoad.onload(t),t.id&&(this.getList(t.id),this.iphone_x=this.$utils.checkIphone())},methods:{getList:function(t){var i=this;uni.showLoading({mask:!0,title:"加载中..."}),this.$request({url:this.$api.app_admin.detail,data:{order_id:t},method:"post"}).then((function(t){uni.hideLoading(),0==t.code?(i.coerce_list=t.data.order.coerce_list.filter((function(t){return!t.is_refund})),console.log("coerce_list",i.coerce_list)):uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(t){uni.hideLoading()}))},toPick:function(t){var i=this;this.pick_type=t,this.chooseIndex[0]=0,"goods_status"===t?(this.list=JSON.parse(JSON.stringify(this.goods_status_list)),this.goods_status&&(this.chooseIndex[0]=this.goods_status_list.findIndex((function(t){return t.value===i.goods_status})))):(this.list=JSON.parse(JSON.stringify(this.cause_list)),this.cause&&(this.chooseIndex[0]=this.cause_list.findIndex((function(t){return t.value===i.cause})))),this.newIndex=this.chooseIndex[0],setTimeout((function(){i.dialog=!i.dialog}))},bindChange:function(t){this.newIndex=t.detail.value[0]},closeDialog:function(t){1==t&&("goods_status"===this.pick_type?this.goods_status=this.goods_status_list[this.newIndex].value:this.cause=this.cause_list[this.newIndex].value),this.dialog=!this.dialog},confirm:function(){var t=this.coerce_list[this.checked],i=t.order_id,e=t.order_detail_id,o={order_id:i,order_detail_id:e,goods_status:this.goods_status,cause:this.cause,refund_price:this.refund_price,remark:this.remark};uni.showLoading({mask:!0,title:"加载中..."}),this.$request({url:this.$api.app_admin.coerce_refund,data:o,method:"post"}).then((function(t){uni.hideLoading(),0===t.code?(uni.showToast({title:t.msg,duration:1e3,icon:"success",mask:!1}),setTimeout((function(){uni.navigateBack()}),500)):uni.showToast({title:t.msg,icon:"none"})})).catch((function(t){uni.hideLoading(),uni.showToast({title:t,icon:"none"})}))}}};i.default=o},"588b":function(t,i,e){var o=e("a2e9");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("4f06").default;a("63b91a8b",o,!0,{sourceMap:!1,shadowMode:!1})},9330:function(t,i,e){"use strict";var o=e("588b"),a=e.n(o);a.a},a2e9:function(t,i,e){i=t.exports=e("24fb")(!1),i.push([t.i,'@charset "UTF-8";.text-center[data-v-b143183c]{text-align:center}.font-weight[data-v-b143183c]{font-weight:700}.page-width[data-v-b143183c]{width:100%}.goods-hover-class[data-v-b143183c]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-b143183c]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-b143183c]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-b143183c]{width:100%}.u-hover-class[data-v-b143183c]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-b143183c]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.box[data-v-b143183c]{padding:%?20?% %?24?% %?132?% %?24?%;font-size:%?28?%;color:#333}.box .goods-list[data-v-b143183c]{padding:%?25?% %?20?% %?14?% %?20?%;border-radius:%?16?%;background-color:#fff}.box .goods-list .goods-item[data-v-b143183c]{margin-bottom:%?20?%;color:#333}.box .goods-list .goods-item .left-icon[data-v-b143183c]{width:%?40?%;height:%?40?%}.box .goods-list .goods-item .good[data-v-b143183c]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.box .goods-list .goods-item .good .good-img-area[data-v-b143183c]{position:relative;margin:0 %?20?%}.box .goods-list .goods-item .good .good-img-area .good-img[data-v-b143183c]{display:block;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:%?156?%;height:%?156?%}.box .goods-list .goods-item .good .good-img-area .corner-icon[data-v-b143183c]{position:absolute;right:%?0?%;bottom:%?0?%;width:%?82?%;height:%?82?%}.box .goods-list .goods-item .good .good-info[data-v-b143183c]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.box .goods-list .goods-item .good .good-info .price[data-v-b143183c]{text-align:right;font-size:%?24?%}.box .content[data-v-b143183c]{padding:0 %?24?%;margin-top:%?20?%;border-radius:%?16?%;background-color:#fff}.box .content .input-item[data-v-b143183c]{border-top:%?1?% solid rgba(0,0,0,.1);padding:%?20?% 0}.box .content .input-item .label[data-v-b143183c]{width:%?140?%;font-weight:500}.box .content .input-item .to-more[data-v-b143183c]{width:%?19?%;height:%?28?%;margin-left:%?20?%}.box .content .input-item .refund-price[data-v-b143183c]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:#ff4544}.box .content .input-item .textarea[data-v-b143183c]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:%?190?%;padding-top:%?5?%}.box .content .input-item[data-v-b143183c]:first-of-type{border-top:0}.dialog[data-v-b143183c]{position:fixed;height:100%;width:100%;bottom:0;left:0;z-index:10;background-color:rgba(0,0,0,.3)}.dialog .picker-list[data-v-b143183c]{background-color:#fff;padding-top:%?20?%;position:fixed;bottom:0;left:0;width:100%}.dialog .picker-list .picker-header[data-v-b143183c]{padding:0 %?24?%;color:#446dfd;font-size:%?32?%}.dialog .picker-list .pick[data-v-b143183c]{width:100%;height:%?440?%}.dialog .picker-list .picker-view[data-v-b143183c]{line-height:34px;height:34px;font-size:%?32?%;text-align:center}.dialog .picker-list.iphone_x[data-v-b143183c]{bottom:%?96?%}.bottom[data-v-b143183c]{z-index:1;position:fixed;left:0;bottom:0;width:100vw;background-color:#fff;-webkit-box-shadow:0 %?-1?% 0 0 rgba(0,0,0,.1);box-shadow:0 %?-1?% 0 0 rgba(0,0,0,.1)}.bottom .confirm-btn[data-v-b143183c]{width:%?702?%;height:%?80?%;background:#426dfc;border-radius:%?40?%;font-weight:500;font-size:%?28?%;color:#fff}body.?%PAGE?%[data-v-b143183c]{background:#f7f7f7}',""])},aba4:function(t,i,e){"use strict";var o;e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return o}));var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("app-layout",[t.coerce_list.length>0?e("v-uni-view",{staticClass:"safe-area-inset-bottom"},[e("v-uni-view",{staticClass:"box"},[e("v-uni-view",{staticClass:"goods-list"},t._l(t.coerce_list,(function(i,o){return e("v-uni-view",{key:i.order_detail_id,staticClass:"dir-left-nowrap cross-center goods-item"},[t.coerce_list.length>=2?[t.checked===o?e("v-uni-image",{staticClass:"left-icon",staticStyle:{"background-color":"#426DFC"},attrs:{src:"/static/image/icon/icon-checkbox-checked.png"}}):e("v-uni-image",{staticClass:"left-icon",attrs:{src:"/static/image/icon/icon-uncheck.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checked=o}}})]:t._e(),e("v-uni-view",{staticClass:"dir-left-nowrap good"},[e("v-uni-view",{staticClass:"good-img-area"},[e("v-uni-image",{staticClass:"good-img",attrs:{src:i.cover_pic}}),i.corner_icon?e("v-uni-image",{staticClass:"corner-icon",attrs:{src:i.corner_icon}}):t._e()],1),e("v-uni-view",{staticClass:"good-info dir-top-nowrap main-between"},[e("v-uni-view",{staticClass:"t-omit-two"},[t._v(t._s(i.name))]),e("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(i.total_price))])],1)],1)],2)})),1),e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"input-item dir-left-nowrap main-between"},[e("v-uni-view",{staticClass:"label"},[t._v("货物状态")]),e("v-uni-view",{staticClass:"dir-left-nowrap cross-center",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toPick("goods_status")}}},[t.goods_status?e("v-uni-text",[t._v(t._s(t.goods_status))]):e("v-uni-text",{staticStyle:{color:"#999999"}},[t._v("请选择")]),e("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}})],1)],1),e("v-uni-view",{staticClass:"input-item dir-left-nowrap main-between"},[e("v-uni-view",{staticClass:"label"},[t._v("退款原因")]),e("v-uni-view",{staticClass:"dir-left-nowrap cross-center",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toPick("cause")}}},[t.cause?e("v-uni-text",[t._v(t._s(t.cause))]):e("v-uni-text",{staticStyle:{color:"#999999"}},[t._v("请选择")]),e("v-uni-image",{staticClass:"to-more",attrs:{src:"/static/image/icon/arrow-right.png"}})],1)],1),e("v-uni-view",{staticClass:"input-item cross-center"},[e("v-uni-text",{staticClass:"label"},[t._v("退款金额")]),e("v-uni-view",{staticClass:"refund-price dir-left-nowrap"},[t.refund_price?e("v-uni-text",[t._v("￥")]):t._e(),e("v-uni-input",{staticClass:"input",attrs:{placeholder:"最多可退款"+t.coerce_list[t.checked].total_price,"placeholder-style":"color:#999999;",type:"digit"},model:{value:t.refund_price,callback:function(i){t.refund_price=i},expression:"refund_price"}})],1)],1),e("v-uni-view",{staticClass:"input-item dir-left-nowrap"},[e("v-uni-view",{staticClass:"label"},[t._v("备注信息")]),e("v-uni-textarea",{staticClass:"textarea",attrs:{maxlength:"200",placeholder:"最多可填200字","placeholder-style":"color:#999999;"},model:{value:t.remark,callback:function(i){t.remark=i},expression:"remark"}})],1)],1)],1),t.dialog?e("v-uni-view",{staticClass:"dialog"},[e("v-uni-view",{class:["picker-list",t.iphone_x?"iphone_x":""]},[e("v-uni-view",{staticClass:"main-between picker-header"},[e("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closeDialog(2)}}},[t._v("取消")]),e("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closeDialog(1)}}},[t._v("确定")])],1),e("v-uni-picker-view",{staticClass:"pick",attrs:{value:t.chooseIndex,"indicator-style":"height: 34px;"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.bindChange.apply(void 0,arguments)}}},[e("v-uni-picker-view-column",t._l(t.list,(function(i,o){return e("v-uni-view",{key:o,staticClass:"picker-view t-omit",style:{color:t.newIndex==o?"#446dfd":t.newIndex==o+1||t.newIndex==o-1?"#999999":t.newIndex==o+2||t.newIndex==o-2?"#cdcdcd":""}},[t._v(t._s(i.label))])})),1)],1)],1)],1):t._e(),e("v-uni-view",{staticClass:"bottom safe-area-inset-bottom main-center cross-center"},[e("v-uni-view",{staticStyle:{padding:"16rpx 24rpx"}},[e("v-uni-button",{staticClass:"confirm-btn main-center cross-center",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.confirm.apply(void 0,arguments)}}},[t._v("确认")])],1)],1)],1):t._e()],1)},n=[]}}]);