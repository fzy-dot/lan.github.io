(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-index-index"],{"03b8":function(t,e,o){"use strict";o.r(e);var r=o("c49d6"),a=o("bc12");for(var i in a)["default"].indexOf(i)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(i);o("e4bc");var n,s=o("f0c5"),c=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"61947a50",null,!1,r["a"],n);e["default"]=c.exports},"2b70":function(t,e,o){var r=o("b27a");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=o("4f06").default;a("56f87e04",r,!0,{sourceMap:!1,shadowMode:!1})},aa89:function(t,e,o){"use strict";var r=o("4ea4");o("8e6e"),o("ac6a"),o("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("7f7f");var a=r(o("ade3")),i=o("2f62"),n=r(o("ad05"));function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){(0,a.default)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var l={components:{appGoods:n.default},data:function(){return{detail:{rules:"",config:{btnTextColor:"",background:""}},list:[],nextList:[],goods:[],first:!1,haveBackground:!1,coupon:[],balance:0,loading:!1,member_pic_url:null,nextMember:{money:0},recharge:!1,current:"wechat",prop:0,page_loading:!0,level:0,customer:{bg_setting:{backgroundColor:""},normal:{btnTextColor:"",background:""},upgrade:{btnTextColor:"",background:""},coupon:{type:"",background:""},progress:{background:""}},couponPage:1,coupon_no_more:!1}},name:"index",computed:c(c({},(0,i.mapState)({tabBarNavs:function(t){return t.mallConfig.navbar.navs},userInfo:function(t){return t.user.info},memberImg:function(t){return t.mallConfig.__wxapp_img.member},couponImg:function(t){return t.mallConfig.__wxapp_img.coupon}})),{},{backgroundStyle:function(){var t="background-color: ".concat(this.customer.bg_setting.backgroundColor,";");return this.customer.bg_setting.showImg&&(t+="background-image: url('".concat(this.customer.bg_setting.backgroundPicUrl,"');"),t+="background-size: ".concat(this.customer.bg_setting.backgroundWidth,"% ").concat(this.customer.bg_setting.backgroundHeight,"%;"),t+="background-repeat: ".concat(this.customer.bg_setting.repeatText,";"),t+="background-position: ".concat(this.customer.bg_setting.positionText,";")),t},normalStyle:function(){var t="";t=this.detail?this.detail.config:this.customer.normal;var e="",o="border: none",r="color: ".concat(t.btnTextColor,";border-radius: 44rpx;padding: 6rpx 18rpx;font-size: 24rpx;");return"color"===t.cardType?(e="purity"===t.cardColorType?"background-color: ".concat(t.cardColorStart):"background-image: linear-gradient(".concat(t.cardColorDegree,"deg, ").concat(t.cardColorStart,", ").concat(t.cardColorEnd,")"),o="border: 2rpx solid ".concat(t.cardBorderColor,";")):e="background-image: url('".concat(t.cardPic,"')"),"border"===t.btnType?r+="border: 2rpx solid ".concat(t.btnColor,";"):r+="background: ".concat(t.btnColor),{name:"color: ".concat(t.nameColor,"; font-size: 32rpx"),level:"color: ".concat(t.levelColor,"; margin-left: 5rpx"),progress:{background:"background: ".concat(t.progressColor+"40",";"),fill:"background: ".concat(t.progressColor,"; width: ").concat(this.prop,"%; height: 100%;")},consume:"color: ".concat(t.consumeColor,";"),card:e,border:o,balance:"color: ".concat(t.balanceColor,";font-size: 46rpx"),balanceText:"color: ".concat(t.balanceTextColor,"; font-size: 28rpx;"),btn:r,cardB:"background-image: url('".concat(t.cardB,"');"),rule:"border: 2rpx solid ".concat(t.ruleBorderColor,"; color: ").concat(t.ruleColor,";border-radius: 56rpx 0 0 56rpx; padding: 8rpx 28rpx")}},memberRights:function(){return this.detail?{title:this.detail.name+"会员特权",rights:this.detail.rights,color:this.detail.rights_color}:this.nextMember?{title:"升级会员，享专属特权",rights:this.nextMember.rights,color:this.nextMember.rights_color}:null},upgradeStyle:function(){var t=this.customer.upgrade,e="padding: 8rpx 30rpx; border-radius: 34rpx; color: ".concat(t.btnTextColor,";");"border"===t.btnType?e+="border: 2rpx solid ".concat(t.btnColor,";"):e+="background: ".concat(t.btnColor,";");var o="background: ".concat(t.background,";"),r="";return this.nextList.length>1?(o+="border-radius: 0 0 16rpx 16rpx;",r="16rpx 16rpx 0 0;"):(o+="border-radius: 0 16rpx 16rpx 0;",r="16rpx 0 0 16rpx;"),{background:o,btn:e,imgRadius:r}},couponStyle:function(){return"color"===this.customer.coupon.type?"background: ".concat(this.customer.coupon.background):"background-image: url('".concat(this.customer.coupon.pic,"')")},couponDisabledStyle:function(){return"background: #E4E4E4;color: #A6A6A6"},showProgress:function(){return this.nextMember&&1==this.nextMember.auto_update&&this.nextMember.money>0}}),methods:{receive:function(t,e){var o=this,r=this;if(t.user_count>0||r.loading)return!1;r.loading=!0,uni.showLoading({mask:!0,title:"领取中..."}),r.$request({url:r.$api.member.receive,data:{coupon_id:t.id}}).then((function(t){r.loading=!1,uni.hideLoading(),0===t.code?(uni.showToast({title:t.msg,duration:1e3}),r.coupon[e].user_count=0===t.data.rest?1:0,o.couponPage=1,o.getCoupon()):uni.showToast({title:t.msg,icon:"none",duration:1e3})})).catch((function(){uni.hideLoading(),r.$event.on(r.$const.EVENT_USER_LOGIN).then((function(){r.receive(t,e)}))}))},toCoupon:function(t){uni.navigateTo({url:"/pages/coupon/details/details-no-share?is_member=1&id="+t})},toGoods:function(t){t?uni.navigateTo({url:"/pages/goods/goods?id="+t}):uni.navigateTo({url:"/pages/member/goods/goods?id="+this.detail.id})},toDetail:function(){uni.navigateTo({url:"/pages/member/detail/detail?level="+this.level+"&prop="+this.prop})},toMore:function(t){var e="/pages/member/upgrade/upgrade?level="+this.level;t>0&&(e+="&other="+t),uni.navigateTo({url:e})},toRules:function(){uni.navigateTo({url:"/pages/rules/index?url=".concat(encodeURIComponent(this.$api.member.index),"&keys=").concat(JSON.stringify(["mall_member","rules"]))})},toRecharge:function(){uni.navigateTo({url:"/pages/balance/recharge"})},getList:function(){var t=this;t.$request({url:t.$api.member.index,method:"get"}).then((function(e){t.$hideLoading(),t.$store.dispatch("user/info"),0==e.code?(t.list=e.data,t.detail=t.list.mall_member,t.goods=t.list.member_goods,t.nextMember=t.list.next_consume_upgrade_member,t.member_pic_url=t.list.member_pic_url,t.nextList=t.list.next_mall_member,t.customer=t.list.customer,t.recharge&&(t.balance=t.list.user_info.balance),null!=t.detail&&(t.level=t.detail.level),t.nextMember&&1==t.nextMember.auto_update&&t.nextMember.money>0&&(t.prop=t.list.consumption_money/t.nextMember.money*100,t.prop>100&&(t.prop=100))):uni.showToast({title:e.msg,icon:"none",duration:1e3})})).catch((function(e){t.$hideLoading(),t.$event.on(t.$const.EVENT_USER_LOGIN).then((function(){t.getList(),t.getCoupon()}))}))},getCoupon:function(){var t=this;this.$request({url:this.$api.member.coupon,method:"get",data:{page:this.couponPage}}).then((function(e){0==e.code&&(t.coupon_no_more=0==e.data.list.length,1==t.couponPage?t.coupon=e.data.list:t.coupon=t.coupon.concat(e.data.list))})).catch((function(t){}))},couponMore:function(){if(this.coupon_no_more)return!0;this.couponPage++,this.getCoupon()}},onLoad:function(){this.$commonLoad.onload();var t=this;t.$showLoading({type:"global",text:"加载中..."}),t.$request({url:t.$api.recharge.setting,method:"get"}).then((function(e){0==e.code?1==e.data.setting.status&&(t.recharge=!0):uni.showToast({title:e.msg,icon:"none",duration:1e3})})).catch((function(e){t.$hideLoading()}))},onShow:function(){this.getList(),this.getCoupon()}};e.default=l},b27a:function(t,e,o){e=t.exports=o("24fb")(!1),e.push([t.i,'@charset "UTF-8";.text-center[data-v-61947a50]{text-align:center}.font-weight[data-v-61947a50]{font-weight:700}.page-width[data-v-61947a50]{width:100%}.goods-hover-class[data-v-61947a50]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-61947a50]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-61947a50]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-61947a50]{width:100%}.u-hover-class[data-v-61947a50]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-61947a50]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.member-index[data-v-61947a50]{width:100%;height:100vh;overflow:auto;padding-bottom:%?70?%}.font-24[data-v-61947a50]{font-size:%?24?%}.user[data-v-61947a50]{margin-top:%?41?%;margin-left:%?24?%}.user .avatar[data-v-61947a50]{border-radius:50%;overflow:hidden}.progress[data-v-61947a50]{width:%?450?%;height:%?8?%;margin-bottom:%?6?%;border-radius:%?8?%;overflow:hidden}.normal[data-v-61947a50]{margin-right:%?24?%}.normal .right[data-v-61947a50]{margin-left:%?20?%}.normal .level[data-v-61947a50]{margin-bottom:%?16?%;font-size:%?22?%}.normal.card[data-v-61947a50]{width:calc(100% - %?24?% - %?24?%);height:%?234?%;border-radius:%?16?%;margin-top:%?32?%;margin-left:%?24?%}.normal .border-card[data-v-61947a50]{border-radius:%?14?%;padding:0 %?22?%;height:100%}.card-b[data-v-61947a50]{height:100%;width:100%;padding:%?18?%}.member .avatar[data-v-61947a50]{border:%?10?% solid;margin-left:%?24?%}.member.card[data-v-61947a50]{width:calc(100% - %?24?%);border-radius:%?16?% 0 0 %?16?%;margin-top:%?-26?%;margin-left:%?24?%}.member .border-card[data-v-61947a50]{border-radius:%?14?% 0 0 %?14?%;padding:%?48?%;height:100%}.member .level[data-v-61947a50]{font-size:%?44?%}.member .progress[data-v-61947a50]{margin-top:%?20?%}.member .card-b[data-v-61947a50]{border-right:none;padding-right:0;background-size:100% %?340?%;background-position:top;background-repeat:no-repeat}.member-info[data-v-61947a50]{padding-bottom:%?36?%;border-radius:%?16?%;margin:%?30?% %?24?% 0 %?24?%}.member-info .rights-item[data-v-61947a50]{width:33.33%;margin-top:%?36?%}.title[data-v-61947a50]{margin:%?40?% 0 %?30?% 0;padding:0 %?24?%}.upgrade-item[data-v-61947a50]{padding:%?12?% 0 %?30?% 0}.coupon[data-v-61947a50]{padding:0 %?24?%;overflow:auto}.coupon .coupon-item[data-v-61947a50]{border-radius:%?16?% %?16?% 0 0;position:relative;text-align:center;width:%?232?%;height:%?236?%;margin-right:%?24?%}.coupon .coupon-radius[data-v-61947a50]{position:absolute;height:%?24?%;width:%?24?%;border-radius:%?24?%}.coupon .coupon-left[data-v-61947a50]{top:%?160?%;left:%?-12?%}.coupon .coupon-right[data-v-61947a50]{top:%?160?%;right:%?-12?%}.coupon .coupon-top[data-v-61947a50]{left:%?530?%;top:%?-12?%}.coupon .coupon-bottom[data-v-61947a50]{left:%?530?%;bottom:%?-12?%}.coupon .coupon-border[data-v-61947a50]{position:absolute;right:%?12?%;top:%?170?%;height:%?2?%;width:100%;border-bottom:%?2?% dashed}.coupon .coupon-border-x[data-v-61947a50]{position:absolute;left:%?542?%;top:0;width:%?2?%;height:100%;border-right:%?2?% dashed}.coupon .coupon-btn[data-v-61947a50]{width:%?160?%;padding:%?16?% %?60?%}.coupon .coupon-item-left[data-v-61947a50]{padding-left:%?68?%;padding-right:%?50?%}.coupon .coupon-one[data-v-61947a50]{border-radius:%?16?%;position:relative;width:%?702?%;height:%?232?%}.coupon .coupon-two[data-v-61947a50]{border-radius:%?16?%;position:relative;width:%?394?%;height:%?232?%;text-align:center;margin-right:%?30?%}.coupon .coupon-two .coupon-border-x[data-v-61947a50]{left:%?266?%}.coupon .coupon-two .coupon-top[data-v-61947a50]{left:%?254?%}.coupon .coupon-two .coupon-bottom[data-v-61947a50]{left:%?254?%}.coupon .coupon-two .coupon-btn[data-v-61947a50]{width:%?128?%;padding:%?16?% %?44?%}.coupon .coupon-two .coupon-item-left[data-v-61947a50]{padding-left:%?15?%;padding-right:%?15?%}.goods-more[data-v-61947a50]{padding:%?66?% %?20?% 0 %?20?%}.upgrade-one[data-v-61947a50]{margin:0 %?24?%}.upgrade-one .tip-text[data-v-61947a50]{margin:%?8?% 0}.upgrade-more[data-v-61947a50]{margin-right:%?30?%}.upgrade-more[data-v-61947a50]:first-child{margin-left:%?24?%}.upgrade-more[data-v-61947a50]:last-child{padding-right:%?24?%}.upgrade-more .tip-text[data-v-61947a50]{margin:%?16?% 0 %?24?% 0}body.?%PAGE?%[data-v-61947a50]{background:#f7f7f7}',""])},bc12:function(t,e,o){"use strict";o.r(e);var r=o("aa89"),a=o.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){o.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},c49d6:function(t,e,o){"use strict";var r;o.d(e,"b",(function(){return a})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("app-layout",{attrs:{haveBackground:!1}},[t.userInfo?o("v-uni-view",{staticClass:"member-index",style:t.backgroundStyle},[t.detail?[o("v-uni-view",{staticClass:"member user dir-left-nowrap cross-center"},[o("v-uni-view",{staticClass:"box-grow-0 avatar"},[o("app-image",{attrs:{"img-src":t.userInfo.options.avatar,borderRadius:"50%",width:"130rpx",height:"130rpx"}})],1),o("v-uni-view",{staticClass:"box-grow-1",staticStyle:{"margin-bottom":"24rpx","margin-left":"16rpx"},style:t.normalStyle.name},[o("v-uni-view",[t._v(t._s(t.userInfo.nickname))]),t.recharge||t.showProgress?t._e():o("v-uni-view",{staticClass:"dir-left-nowrap cross-center",staticStyle:{"font-size":"22rpx"}},[o("app-image",{attrs:{"img-src":t.member_pic_url,width:"24rpx",height:"24rpx"}}),o("v-uni-view",{style:t.normalStyle.level},[t._v(t._s(t.detail.name))])],1)],1),o("v-uni-view",{staticClass:"box-grow-0",staticStyle:{"margin-bottom":"24rpx"},style:t.normalStyle.rule,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toRules.apply(void 0,arguments)}}},[t._v("会员规则")])],1),t.recharge||t.showProgress?o("v-uni-view",{staticClass:"member card",style:t.normalStyle.card},[o("v-uni-view",{staticClass:"card-b background-image",style:t.normalStyle.cardB},[o("v-uni-view",{staticClass:"border-card",style:t.normalStyle.border},[t.recharge?[o("v-uni-view",{staticClass:"dir-left-nowrap cross-center"},[o("v-uni-view",{staticClass:"box-grow-1",style:t.normalStyle.balance},[t._v("¥"+t._s(t.balance))]),o("v-uni-view",{staticClass:"box-grow-0",style:t.normalStyle.btn,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toRecharge.apply(void 0,arguments)}}},[t._v("去充值")])],1),o("v-uni-view",{staticStyle:{"margin-bottom":"50rpx"},style:t.normalStyle.balanceText},[t._v("账户余额")])]:t._e(),o("v-uni-view",{staticClass:"dir-left-nowrap cross-center level"},[o("app-image",{attrs:{"img-src":t.member_pic_url,width:"44rpx",height:"44rpx"}}),o("v-uni-view",{staticClass:"box-grow-1 t-omit",style:t.normalStyle.level},[t._v(t._s(t.detail.name))]),t.showProgress?[o("v-uni-view",{staticClass:"box-grow-0",staticStyle:{"font-size":"24rpx"},style:t.normalStyle.consume},[t._v("消费￥"+t._s(null!==t.list?t.list.consumption_money:"0")+"/￥"+t._s(t.nextMember.money))])]:t._e()],2),t.showProgress?[o("v-uni-view",{staticClass:"progress",staticStyle:{width:"100%"},style:t.normalStyle.progress.background},[o("v-uni-view",{style:t.normalStyle.progress.fill})],1)]:t._e()],2)],1)],1):t._e()]:[o("v-uni-view",{staticClass:"normal user dir-left-nowrap cross-center"},[o("v-uni-view",{staticClass:"box-grow-0 avatar"},[o("app-image",{attrs:{"img-src":t.userInfo.options.avatar,borderRadius:"50%",width:"130rpx",height:"130rpx"}})],1),o("v-uni-view",{staticClass:"box-grow-1 right"},[o("v-uni-view",{style:t.normalStyle.name},[t._v(t._s(t.userInfo.nickname))]),o("v-uni-view",{staticClass:"dir-left-nowrap cross-center level"},[o("app-image",{attrs:{"img-src":t.customer.normal.levelPic,width:"24rpx",height:"24rpx"}}),o("v-uni-view",{style:t.normalStyle.level},[t._v(t._s(t.customer.normal.level))])],1),t.showProgress?[o("v-uni-view",{staticClass:"progress",style:t.normalStyle.progress.background},[o("v-uni-view",{style:t.normalStyle.progress.fill})],1),o("v-uni-view",{staticStyle:{"font-size":"20rpx"},style:t.normalStyle.consume},[t._v("消费￥"+t._s(null!==t.list?t.list.consumption_money:"0")+"/￥"+t._s(t.nextMember.money))])]:t._e()],2)],1),t.recharge?o("v-uni-view",{staticClass:"normal card",style:t.normalStyle.card},[o("v-uni-view",{staticClass:"card-b background-image",style:t.normalStyle.cardB},[o("v-uni-view",{staticClass:"dir-left-nowrap cross-center border-card",style:t.normalStyle.border},[o("v-uni-view",{staticClass:"box-grow-1"},[o("v-uni-view",{style:t.normalStyle.balance},[t._v("¥"+t._s(t.balance))]),o("v-uni-view",{style:t.normalStyle.balanceText},[t._v("账户余额")])],1),o("v-uni-view",{staticClass:"box-grow-0",style:t.normalStyle.btn,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toRecharge.apply(void 0,arguments)}}},[t._v("去充值")])],1)],1)],1):t._e()],t.memberRights&&t.memberRights.rights.length>0?[o("v-uni-view",{staticClass:"dir-left-nowrap cross-center main-center title",style:{color:t.customer.title.color}},[o("app-image",{attrs:{"img-src":t.customer.title.leftPic,width:"60rpx",height:"40rpx"}}),o("v-uni-view",{staticClass:"t-omit",staticStyle:{margin:"0 20rpx"}},[t._v(t._s(t.detail?t.detail.name+"会员特权":"升级会员，享专属特权"))]),o("app-image",{attrs:{"img-src":t.customer.title.rightPic,width:"60rpx",height:"40rpx"}})],1),o("v-uni-view",{staticClass:"member-info dir-left-wrap",style:{backgroundColor:t.customer.background.color,color:t.memberRights.color},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail.apply(void 0,arguments)}}},t._l(t.memberRights.rights,(function(e){return o("v-uni-view",{key:e.id,staticClass:"rights-item dir-top-nowrap main-center cross-center"},[o("app-image",{attrs:{"img-src":e.pic_url,width:"100rpx",height:"100rpx"}}),o("v-uni-view",{staticClass:"t-omit",staticStyle:{"margin-top":"20rpx"}},[t._v(t._s(e.title))])],1)})),1)]:t._e(),t.nextList&&t.nextList.length>0?[o("v-uni-view",{staticClass:"dir-left-nowrap cross-center main-center title",style:{color:t.customer.title.color}},[o("app-image",{attrs:{"img-src":t.customer.title.leftPic,width:"60rpx",height:"40rpx"}}),o("v-uni-view",{staticClass:"t-omit",staticStyle:{margin:"0 20rpx"}},[t._v("升级会员")]),o("app-image",{attrs:{"img-src":t.customer.title.rightPic,width:"60rpx",height:"40rpx"}})],1),o("v-uni-view",{staticClass:"dir-left-nowrap",staticStyle:{overflow:"auto"}},t._l(t.nextList,(function(e,r){return o("v-uni-view",{key:r,class:1===t.nextList.length?"dir-left-nowrap cross-center upgrade-one":"upgrade-more",staticStyle:{width:"100%"}},[o("app-image",{attrs:{"img-src":e.bg_pic_url,width:"420rpx",height:"210rpx",borderRadius:t.upgradeStyle.imgRadius}}),o("v-uni-view",{staticClass:"box-grow-1 dir-top-nowrap main-center cross-center upgrade-item font-24",style:t.upgradeStyle.background},[o("v-uni-view",{staticClass:"t-omit",staticStyle:{"font-size":"30rpx"},style:{color:t.customer.upgrade.levelColor}},[t._v(t._s(e.name))]),o("v-uni-view",{staticClass:"tip-text",style:{color:t.customer.upgrade.tipColor}},[t._v("最高可享"+t._s(e.discount)+"折会员折扣")]),o("v-uni-view",{style:t.upgradeStyle.btn,on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.toMore(e.level)}}},[t._v("立即升级")])],1)],1)})),1)]:t._e(),t.coupon&&t.coupon.length>0?[o("v-uni-view",{staticClass:"dir-left-nowrap cross-center main-center title",style:{color:t.customer.title.color}},[o("app-image",{attrs:{"img-src":t.customer.title.leftPic,width:"60rpx",height:"40rpx"}}),o("v-uni-view",{staticClass:"t-omit",staticStyle:{margin:"0 20rpx"}},[t._v("专属优惠券")]),o("app-image",{attrs:{"img-src":t.customer.title.rightPic,width:"60rpx",height:"40rpx"}})],1),t.coupon.length<3?o("v-uni-view",{staticClass:"coupon dir-left-nowrap",staticStyle:{overflow:"hidden"}},t._l(t.coupon,(function(e,r){return o("v-uni-view",{key:r,staticClass:"dir-left-nowrap",class:1==t.coupon.length?"coupon-one":"coupon-two box-grow-0",style:0==e.user_count?t.couponStyle:t.couponDisabledStyle,on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.toCoupon(e.id)}}},["color"===t.customer.coupon.type?[o("v-uni-view",{staticClass:"coupon-radius coupon-top",style:{backgroundColor:t.customer.bg_setting.backgroundColor}}),o("v-uni-view",{staticClass:"coupon-radius coupon-bottom",style:{backgroundColor:t.customer.bg_setting.backgroundColor}}),o("v-uni-view",{staticClass:"coupon-border-x",style:{borderColor:t.customer.bg_setting.backgroundColor}})]:t._e(),o("v-uni-view",{staticClass:"box-grow-1 dir-top-nowrap main-center coupon-item-left"},[o("v-uni-view",{staticClass:"t-omit",staticStyle:{"font-size":"66rpx"},style:0==e.user_count?"color: "+t.customer.coupon.color:""},[1==e.type?[t._v(t._s(e.discount)),o("v-uni-text",{staticStyle:{"font-size":"32rpx"}},[t._v("折")])]:t._e(),2==e.type?[o("v-uni-text",{staticStyle:{"font-size":"32rpx"}},[t._v("¥")]),t._v(t._s(e.sub_price))]:t._e()],2),1===t.coupon.length?[o("v-uni-view",{staticClass:"min-price",style:0==e.user_count?"color: "+t.customer.coupon.textColor:""},[o("v-uni-view",{staticClass:"t-omit"},[t._v(t._s(e.min_price>0?"单笔订单满"+e.min_price+"可用":"无门槛使用"))])],1),"2"==e.expire_type?o("v-uni-view",{staticClass:"font-24"},[t._v(t._s(e.begin_time)+" - "+t._s(e.end_time))]):e.expire_day>0?o("v-uni-view",{staticClass:"font-24"},[t._v("领取后"+t._s(e.expire_day)+"天内有效")]):t._e()]:[o("v-uni-view",{staticClass:"min-price",style:0==e.user_count?"color: "+t.customer.coupon.textColor:""},[o("v-uni-view",{staticClass:"t-omit"},[t._v(t._s(e.min_price>0?"满"+e.min_price+"可用":"无门槛使用"))])],1)]],2),o("v-uni-view",{staticClass:"box-grow-0 coupon-btn dir-left-nowrap main-center cross-center",style:0==e.user_count?"color: "+t.customer.coupon.btnColor:"",on:{click:function(o){o.stopPropagation(),arguments[0]=o=t.$handleEvent(o),t.receive(e,r)}}},[o("v-uni-view",[t._v(t._s(0==e.user_count?"立即领取":"已领取"))])],1)],2)})),1):o("v-uni-scroll-view",{staticClass:"coupon",attrs:{"scroll-x":!0,"lower-threshold":"50"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.couponMore.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"dir-left-nowrap",attrs:{id:"swipe-left-right"}},t._l(t.coupon,(function(e,r){return o("v-uni-view",{key:r,staticClass:"background-image coupon-item box-grow-0",style:0==e.user_count?t.couponStyle:t.couponDisabledStyle,on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.toCoupon(e.id)}}},["color"===t.customer.coupon.type?[o("v-uni-view",{staticClass:"coupon-radius coupon-left",style:{backgroundColor:t.customer.bg_setting.backgroundColor}}),o("v-uni-view",{staticClass:"coupon-radius coupon-right",style:{backgroundColor:t.customer.bg_setting.backgroundColor}}),o("v-uni-view",{staticClass:"coupon-border",style:{borderColor:t.customer.bg_setting.backgroundColor}})]:t._e(),o("v-uni-view",{staticStyle:{"font-size":"66rpx","margin-top":"8rpx"},style:0==e.user_count?"color: "+t.customer.coupon.color:""},[1==e.type?[t._v(t._s(e.discount)),o("v-uni-text",{staticStyle:{"font-size":"32rpx"}},[t._v("折")])]:t._e(),2==e.type?[o("v-uni-text",{staticStyle:{"font-size":"32rpx"}},[t._v("¥")]),t._v(t._s(e.sub_price))]:t._e()],2),o("v-uni-view",{staticClass:"t-omit",staticStyle:{margin:"8rpx 0 36rpx 0"},style:0==e.user_count?"color: "+t.customer.coupon.textColor:""},[t._v(t._s(e.min_price>0?"满"+e.min_price+"可用":"无门槛使用"))]),o("v-uni-view",{style:0==e.user_count?"color: "+t.customer.coupon.btnColor:"",on:{click:function(o){o.stopPropagation(),arguments[0]=o=t.$handleEvent(o),t.receive(e,r)}}},[t._v(t._s(0==e.user_count?"立即领取":"已领取"))])],2)})),1)],1)]:t._e(),t.goods&&t.goods.length>0?[o("v-uni-view",{staticClass:"dir-left-nowrap cross-center main-center title",style:{color:t.customer.title.color}},[o("app-image",{attrs:{"img-src":t.customer.title.leftPic,width:"60rpx",height:"40rpx"}}),o("v-uni-view",{staticClass:"t-omit",staticStyle:{margin:"0 20rpx"}},[t._v("会员专属商品")]),o("app-image",{attrs:{"img-src":t.customer.title.rightPic,width:"60rpx",height:"40rpx"}})],1),o("v-uni-view",{staticStyle:{"border-radius":"16rpx",overflow:"hidden",margin:"0 24rpx"}},[o("app-image",{attrs:{"img-src":t.detail.goods_pic,width:"702rpx",height:"180rpx"}}),o("v-uni-view",{staticStyle:{background:"#ffffff",padding:"20rpx",overflow:"auto",width:"702rpx"}},[o("v-uni-scroll-view",{staticClass:"goods-list",attrs:{"scroll-x":!0}},[o("v-uni-view",{staticClass:"dir-left-nowrap",attrs:{id:"swipe-left-right"}},[t._l(t.goods,(function(e,r){return o("app-goods",{key:e.id,attrs:{no_extra:!0,index:r,goods:e,padding:0,listStyle:3,fill:1,showGoodsName:!0,showBuyBtn:!1,showGoodsPrice:!0,isUnderLinePrice:!1,c_border_top:16},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.toGoods(e.id)}}})})),o("v-uni-view",{staticClass:"gray font-24 goods-more",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toGoods(0)}}},[t._v("查看更多")])],2)],1)],1)],1)]:t._e()],2):t._e()],1)},i=[]},e4bc:function(t,e,o){"use strict";var r=o("2b70"),a=o.n(r);a.a}}]);