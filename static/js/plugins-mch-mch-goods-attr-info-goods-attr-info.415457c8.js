(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-mch-mch-goods-attr-info-goods-attr-info"],{"07ce":function(t,i,e){i=t.exports=e("24fb")(!1),i.push([t.i,'@charset "UTF-8";.text-center[data-v-535d2598]{text-align:center}.font-weight[data-v-535d2598]{font-weight:700}.page-width[data-v-535d2598]{width:100%}.goods-hover-class[data-v-535d2598]{opacity:.9;background-color:#f7f7f7}.background-image[data-v-535d2598]{background-repeat:no-repeat;background-size:100% 100%;background-position:50%}\n/*全局文字大小*/\n/* 屏幕宽度*/uni-page-body[data-v-535d2598]{font-size:%?32?%;background:#f7f7f7}.page-width[data-v-535d2598]{width:100%}.u-hover-class[data-v-535d2598]{opacity:.9;background-color:#f7f7f7}.safe-area-inset-bottom[data-v-535d2598]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.checked-icon[data-v-535d2598]{background-color:#ff4544}.attr-group-holder[data-v-535d2598]{height:%?100?%}.group[data-v-535d2598]{position:fixed;top:0;left:0;width:100%;height:%?100?%;background-color:#fff;z-index:100}.group .group-item[data-v-535d2598]{height:%?50?%;border-left:%?2?% solid #e2e2e2}.group .group-item .group-name[data-v-535d2598]{width:%?86?%;font-size:%?28?%;color:#353535;text-align:right}.group .group-item .group-name.active[data-v-535d2598]{color:#ff4544}.group .group-item .more[data-v-535d2598]{display:block;width:%?22?%;height:%?12?%;margin-left:%?12?%}.group .group-item[data-v-535d2598]:first-of-type{border-left:0}.attr-item[data-v-535d2598]{min-height:%?445?%}.attr-item .attr-name[data-v-535d2598]{padding:%?24?%;padding-left:%?96?%;position:relative;font-size:%?28?%;color:#353535}.attr-item .attr-name .check[data-v-535d2598]{width:%?84?%;height:%?76?%;padding:%?20?% %?24?%;position:absolute;top:0;left:0}.attr-item .attr-name .check uni-image[data-v-535d2598]{width:%?36?%;height:%?36?%}.attr-item .attr-name .attr-group[data-v-535d2598]{padding-right:%?24?%;height:%?30?%;line-height:%?26?%;border-right:%?2?% solid #999;margin-right:%?24?%;margin-bottom:%?8?%}.attr-item .attr-name .attr-group .attr-group-name[data-v-535d2598]{color:#999}.attr-item .attr-name .attr-group[data-v-535d2598]:last-of-type{border-right:0}.info-item[data-v-535d2598]{border-top:%?1?% solid #e2e2e2;height:%?88?%;line-height:%?88?%;font-size:%?28?%;color:#353535;margin:0 %?24?%}.info-item .form-label[data-v-535d2598]{width:%?176?%}.info-item .input[data-v-535d2598]{width:%?476?%;background-color:#fff;padding-left:%?25?%;font-size:%?28?%}.info-item .input.input-item[data-v-535d2598]{height:%?80?%;line-height:%?80?%;white-space:nowrap;overflow:auto}.info-item .input.input-item.placeholder[data-v-535d2598]{color:#cdcdcd}.info-item .input.unit[data-v-535d2598]{width:%?396?%}.info-item .unit-width[data-v-535d2598]{width:%?112?%;text-align:right}.info-item[data-v-535d2598]:first-of-type{border-top:0}.bottom[data-v-535d2598]{position:fixed;bottom:0;left:0;width:100%;height:%?120?%;background-color:#fff;padding:0 %?24?%;font-size:%?28?%;z-index:10;color:#353535}.bottom .check[data-v-535d2598]{width:%?84?%;height:%?84?%;padding:%?24?%}.bottom .check uni-image[data-v-535d2598]{width:%?36?%;height:%?36?%}.bottom .all-setting[data-v-535d2598]{color:#ff4544;margin-left:%?40?%}.bottom .save-btn[data-v-535d2598]{position:absolute;right:%?24?%;bottom:%?20?%;height:%?80?%;line-height:%?80?%;width:%?280?%;text-align:center;border-radius:%?40?%;background-color:#ff4544;font-size:%?32?%;color:#fff;font-weight:700}.bottom .save-btn.iphone_x[data-v-535d2598]{bottom:%?70?%}.bottom.iphone_x[data-v-535d2598]{height:%?170?%;padding-bottom:%?50?%}.placeholder[data-v-535d2598]{height:%?140?%}.placeholder.iphone_x[data-v-535d2598]{height:%?190?%}.bg[data-v-535d2598]{position:fixed;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.3);z-index:80}.bg.again[data-v-535d2598]{z-index:120}.bg .dialog-group[data-v-535d2598]{position:fixed;top:%?100?%;width:100%;border-top:%?2?% solid #e2e2e2;background-color:#fff;padding-left:%?24?%}.bg .dialog-group .dialog-group-name[data-v-535d2598]{height:%?88?%;line-height:%?88?%;font-size:%?28?%;color:#353535}.bg .dialog-group .dialog-group-name.active[data-v-535d2598]{color:#ff4544}.bg .dialog-setting[data-v-535d2598]{position:fixed;bottom:0;left:0;width:100%;z-index:122}.bg .dialog-setting.iphone_x[data-v-535d2598]{padding-bottom:%?50?%}.bg .dialog-setting .dialog-setting-title[data-v-535d2598]{border-top-left-radius:%?16?%;border-top-right-radius:%?16?%;background-color:#f7f7f7;height:%?88?%;font-size:%?32?%;color:#353535;padding:0 %?24?%}.bg .dialog-setting .dialog-setting-title .dialog-setting-btn[data-v-535d2598]{color:#ff4544}body.?%PAGE?%[data-v-535d2598]{background:#f7f7f7}',""])},"0efb":function(t,i,e){"use strict";e.r(i);var a=e("a439"),o=e("0f20");for(var n in o)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(n);e("10a2");var r,s=e("f0c5"),c=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"535d2598",null,!1,a["a"],r);i["default"]=c.exports},"0f20":function(t,i,e){"use strict";e.r(i);var a=e("c7bf"),o=e.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(n);i["default"]=o.a},"10a2":function(t,i,e){"use strict";var a=e("8ada"),o=e.n(a);o.a},"4f7f":function(t,i,e){"use strict";var a=e("c26b"),o=e("b39a"),n="Set";t.exports=e("e0b8")(n,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return a.def(o(this,n),t=0===t?0:t,t)}},a)},"8ada":function(t,i,e){var a=e("07ce");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=e("4f06").default;o("76cf3996",a,!0,{sourceMap:!1,shadowMode:!1})},a439:function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return a}));var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("app-layout",[e("v-uni-view",{staticClass:"group main-center cross-center"},t._l(t.attr_groups,(function(i,a){return e("v-uni-view",{key:a,staticClass:"box-grow-1 group-item main-center cross-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choose(i,a)}}},[e("v-uni-view",{class:["group-name","t-omit",i.choose?"active":""]},[t._v(t._s(i.choose?i.choose_attr:i.attr_group_name))]),t.showGroup&&t.groupIndex==a?e("v-uni-image",{staticClass:"more",attrs:{src:i.choose?"./../image/close.png":"/static/image/icon/icon-up.png"}}):e("v-uni-image",{staticClass:"more",attrs:{src:i.choose?"./../image/open.png":"/static/image/icon/icon-down.png"}})],1)})),1),e("v-uni-view",{staticClass:"attr-group-holder"}),e("v-uni-view",t._l(t.attr,(function(i,a){return i.show==t.listLength?e("v-uni-view",{key:i.id,staticClass:"attr-item"},[t.startIndex<i.showIndex&&i.showIndex<t.endIndex?[e("v-uni-view",{staticClass:"attr-name"},[e("v-uni-view",{staticClass:"check",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.unSelect(i,a)}}},[i.select?e("v-uni-image",{attrs:{src:"/static/image/icon/icon-checkbox-checked-a.png"}}):e("v-uni-image",{attrs:{src:"/static/image/icon/icon-uncheck.png"}})],1),e("v-uni-view",{staticClass:"dir-left-wrap cross-center"},t._l(i.attr_list,(function(i,a){return e("v-uni-view",{key:a,staticClass:"attr-group"},[e("v-uni-text",{staticClass:"attr-group-name"},[t._v(t._s(i.attr_group_name)+"：")]),e("v-uni-text",[t._v(t._s(i.attr_name))])],1)})),1)],1),e("v-uni-view",{staticStyle:{"background-color":"#fff"}},[e("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[e("v-uni-view",{staticClass:"form-label"},[t._v("售价")]),e("v-uni-view",{staticClass:"dir-left-nowrap price-input cross-center main-between"},[t.inputName&&t.chooseIndex==i.id?e("v-uni-input",{staticClass:"input",attrs:{value:i.price,focus:t.inputName&&t.chooseIndex==i.id,"placeholder-style":"color: #cdcdcd",placeholder:"请输入售价",type:"digit"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.nameBlur(i.id,e)}}}):e("v-uni-view",{class:i.price?"input input-item":"input input-item placeholder",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.nameBlur(i.id)}}},[t._v(t._s(i.price?i.price:"请输入售价"))]),e("v-uni-view",[t._v("元")])],1)],1),e("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[e("v-uni-view",{staticClass:"form-label"},[t._v("库存")]),e("v-uni-view",{staticClass:"dir-left-nowrap price-input cross-center main-between"},[t.inputStock&&t.chooseIndex==i.id?e("v-uni-input",{staticClass:"input unit",attrs:{focus:t.inputStock&&t.chooseIndex==i.id,"placeholder-style":"color: #cdcdcd",placeholder:"请输入库存",type:"number",value:i.stock},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.stockBlur(i.id,e)}}}):e("v-uni-view",{class:i.stock?"input unit input-item":"input unit input-item placeholder",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.stockBlur(i.id)}}},[t._v(t._s(i.stock?i.stock:"请输入库存"))]),e("v-uni-view",{staticClass:"unit-width"},[t._v(t._s(t.unit))])],1)],1),e("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[e("v-uni-view",{staticClass:"form-label"},[t._v("货号")]),e("v-uni-view",{staticClass:"dir-left-nowrap price-input cross-center"},[t.inputNo&&t.chooseIndex==i.id?e("v-uni-input",{staticClass:"input",attrs:{focus:t.inputNo&&t.chooseIndex==i.id,"placeholder-style":"color: #cdcdcd",placeholder:"请输入货号",value:i.no},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.noBlur(i.id,e)}}}):e("v-uni-view",{class:i.no?"input input-item":"input input-item placeholder",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.noBlur(i.id)}}},[t._v(t._s(i.no?i.no:"请输入货号"))])],1)],1),e("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[e("v-uni-view",{staticClass:"form-label"},[t._v("重量")]),e("v-uni-view",{staticClass:"dir-left-nowrap cross-center price-input"},[t.inputWeight&&t.chooseIndex==i.id?e("v-uni-input",{staticClass:"input",attrs:{focus:t.inputWeight&&t.chooseIndex==i.id,"placeholder-style":"color: #cdcdcd",placeholder:"请输入重量",type:"digit",value:i.weight},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.weightBlur(i.id,e)}}}):e("v-uni-view",{class:i.weight?"input input-item":"input input-item placeholder",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.weightBlur(i.id)}}},[t._v(t._s(i.weight?i.weight:"请输入重量"))]),e("v-uni-view",[t._v("g")])],1)],1)],1)]:t._e()],2):t._e()})),1),e("v-uni-view",{class:["placeholder",t.iphone_x?"iphone_x":""]}),e("v-uni-view",{class:["bottom","cross-center","dir-left-nowrap",t.iphone_x?"iphone_x":""]},[e("v-uni-view",{staticClass:"check",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.allSelect.apply(void 0,arguments)}}},[t.selectStatus?e("v-uni-image",{attrs:{src:"/static/image/icon/icon-checkbox-checked-a.png"}}):e("v-uni-image",{attrs:{src:"/static/image/icon/icon-uncheck.png"}})],1),e("v-uni-view",[t._v("全选")]),e("v-uni-view",{staticClass:"all-setting",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.allSetting.apply(void 0,arguments)}}},[t._v("批量设置")]),e("v-uni-view",{class:["save-btn",t.iphone_x?"iphone_x":""],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.save.apply(void 0,arguments)}}},[t._v("保存")])],1),t.showGroup||t.showSetting?e("v-uni-view",{class:["bg",t.showSetting?"again":""],on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i)}}},[t.showGroup?e("v-uni-view",{staticClass:"dialog-group"},[e("v-uni-view",{staticClass:"dialog-group-name t-omit",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.confirm(-1)}}},[t._v(t._s("全部"+t.chooseGroup.attr_group_name))]),t._l(t.chooseGroup.attr_list,(function(i,a){return e("v-uni-view",{key:i.attr_id,class:["dialog-group-name","t-omit",i.choose?"active":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm(a,i)}}},[t._v(t._s(i.attr_name))])}))],2):t._e(),t.showSetting?e("v-uni-view",{class:["dialog-setting",t.iphone_x?"iphone_x":""]},[e("v-uni-view",{staticClass:"dialog-setting-title main-between cross-center"},[e("v-uni-view",{staticClass:"dialog-setting-btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.close.apply(void 0,arguments)}}},[t._v("取消")]),e("v-uni-view",[t._v("批量设置")]),e("v-uni-view",{staticClass:"dialog-setting-btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.settingSubmit.apply(void 0,arguments)}}},[t._v("确定")])],1),e("v-uni-view",{staticStyle:{"background-color":"#fff"}},[e("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[e("v-uni-view",{staticClass:"form-label"},[t._v("售价")]),e("v-uni-view",{staticClass:"dir-left-nowrap price-input cross-center main-between"},[e("v-uni-input",{staticClass:"input",attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入售价",type:"digit"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.settingValue(i,"price")}}}),e("v-uni-view",[t._v("元")])],1)],1),e("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[e("v-uni-view",{staticClass:"form-label"},[t._v("库存")]),e("v-uni-view",{staticClass:"dir-left-nowrap price-input cross-center main-between"},[e("v-uni-input",{staticClass:"input unit",attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入库存",type:"number"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.settingValue(i,"stock")}}}),e("v-uni-view",{staticClass:"unit-width"},[t._v(t._s(t.unit))])],1)],1),e("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[e("v-uni-view",{staticClass:"form-label"},[t._v("货号")]),e("v-uni-view",{staticClass:"dir-left-nowrap price-input cross-center"},[e("v-uni-input",{staticClass:"input",attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入货号"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.settingValue(i,"no")}}})],1)],1),e("v-uni-view",{staticClass:"info-item cross-center dir-left-nowrap"},[e("v-uni-view",{staticClass:"form-label"},[t._v("重量")]),e("v-uni-view",{staticClass:"dir-left-nowrap cross-center price-input"},[e("v-uni-input",{staticClass:"input",attrs:{"placeholder-style":"color: #cdcdcd",placeholder:"请输入重量",type:"number"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.settingValue(i,"weight")}}}),e("v-uni-view",[t._v("g")])],1)],1)],1)],1):t._e()],1):t._e()],1)},n=[]},c26b:function(t,i,e){"use strict";var a=e("86cc").f,o=e("2aeb"),n=e("dcbc"),r=e("9b43"),s=e("f605"),c=e("4a59"),u=e("01f9"),d=e("d53b"),l=e("7a56"),h=e("9e1e"),p=e("67ab").fastKey,g=e("b39a"),v=h?"_s":"size",f=function(t,i){var e,a=p(i);if("F"!==a)return t._i[a];for(e=t._f;e;e=e.n)if(e.k==i)return e};t.exports={getConstructor:function(t,i,e,u){var d=t((function(t,a){s(t,d,i,"_i"),t._t=i,t._i=o(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=a&&c(a,e,t[u],t)}));return n(d.prototype,{clear:function(){for(var t=g(this,i),e=t._i,a=t._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete e[a.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var e=g(this,i),a=f(e,t);if(a){var o=a.n,n=a.p;delete e._i[a.i],a.r=!0,n&&(n.n=o),o&&(o.p=n),e._f==a&&(e._f=o),e._l==a&&(e._l=n),e[v]--}return!!a},forEach:function(t){g(this,i);var e,a=r(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.n:this._f){a(e.v,e.k,this);while(e&&e.r)e=e.p}},has:function(t){return!!f(g(this,i),t)}}),h&&a(d.prototype,"size",{get:function(){return g(this,i)[v]}}),d},def:function(t,i,e){var a,o,n=f(t,i);return n?n.v=e:(t._l=n={i:o=p(i,!0),k:i,v:e,p:a=t._l,n:void 0,r:!1},t._f||(t._f=n),a&&(a.n=n),t[v]++,"F"!==o&&(t._i[o]=n)),t},getEntry:f,setStrong:function(t,i,e){u(t,i,(function(t,e){this._t=g(t,i),this._k=e,this._l=void 0}),(function(){var t=this,i=t._k,e=t._l;while(e&&e.r)e=e.p;return t._t&&(t._l=e=e?e.n:t._t._f)?d(0,"keys"==i?e.k:"values"==i?e.v:[e.k,e.v]):(t._t=void 0,d(1))}),e?"entries":"values",!e,!0),l(i)}}},c7bf:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("ac6a"),e("4f7f"),e("5df3"),e("1c4c"),e("a481"),e("6b54"),e("87b3");var a={data:function(){return{iphone_x:!1,attr_groups:[],attr_list:[],unit:"件",attr:[],select:!1,chooseAttr:{},chooseGroup:{},chooseList:[],selectList:[],selectStatus:!1,chooseIndex:-1,listLength:0,showGroup:!1,showSetting:!1,inputName:!1,inputStock:!1,inputNo:!1,inputWeight:!1,startIndex:-10,endIndex:90,setting:{price:"",stock:"",no:"",weight:""},groupIndex:-1}},methods:{settingValue:function(t,i){var e=t.detail.value;switch(i){case"price":this.setting.price=e;break;case"stock":this.setting.stock=e;break;case"no":this.setting.no=e;break;case"weight":this.setting.weight=e;break}},nameBlur:function(t,i){var e=this;i?(this.inputName=!1,this.attr[t].price=this.money(i.detail.value)):setTimeout((function(){e.inputName=!0,e.inputStock=!1,e.inputNo=!1,e.inputWeight=!1,e.chooseIndex=t}),500)},stockBlur:function(t,i){var e=this;i?(this.inputStock=!1,this.attr[t].stock=i.detail.value):setTimeout((function(){e.inputStock=!0,e.inputName=!1,e.inputNo=!1,e.inputWeight=!1,e.chooseIndex=t}),500)},noBlur:function(t,i){var e=this;i?(this.inputNo=!1,this.attr[t].no=i.detail.value):setTimeout((function(){e.inputNo=!0,e.inputName=!1,e.inputStock=!1,e.inputWeight=!1,e.chooseIndex=t}),500)},weightBlur:function(t,i){var e=this;i?(this.inputWeight=!1,this.attr[t].weight=i.detail.value):setTimeout((function(){e.inputWeight=!0,e.inputName=!1,e.inputStock=!1,e.inputNo=!1,e.chooseIndex=t}),500)},money:function(t){var i=t.toString();return 0===i.indexOf(".")&&(i="0"+i),i=i.replace(/[^\d.]/g,""),i=i.replace(/\.{2,}/g,"."),i=i.replace(".","$#$").replace(/\./g,"").replace("$#$","."),i=i.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),i.indexOf(".")<0&&""!=i&&(i=parseFloat(i)),i},allSetting:function(){var t=!1;for(var i in this.attr)this.attr[i].select&&(t=!0);t?this.showSetting=!0:uni.showToast({title:"请选择规格",icon:"none",duration:1e3})},settingSubmit:function(){for(var t in this.attr)this.attr[t].select&&(this.setting.price&&(this.attr[t].price=this.money(this.setting.price),this.$forceUpdate()),this.setting.stock&&(this.attr[t].stock=this.setting.stock,this.$forceUpdate()),this.setting.no&&(this.attr[t].no=this.setting.no,this.$forceUpdate()),this.setting.weight&&(this.attr[t].weight=this.setting.weight,this.$forceUpdate()));this.close()},close:function(){this.showSetting=!1,this.setting.stock="",this.setting.price="",this.setting.no="",this.setting.weight=""},unSelect:function(t,i){this.attr[i].select=!this.attr[i].select;var e=!0;for(var a in this.attr)this.attr[a].select||(e=!1);this.selectStatus=e,this.$forceUpdate()},allSelect:function(){for(var t in this.selectStatus=!this.selectStatus,this.attr)this.attr[t].select=!this.selectStatus,this.attr[t].show==this.listLength&&(this.attr[t].select=this.selectStatus)},save:function(){var t=this,i=!0;for(var e in t.attr)if(!t.attr[e].price&&0!=t.attr[e].price||!t.attr[e].stock&&0!=t.attr[e].stock)return i=!1,uni.showToast({title:"请填写规格信息",icon:"none",duration:1e3}),!1;i&&(uni.showLoading({title:"保存中..."}),this.$storage.setStorage({key:"temp_attr_info",data:t.attr,success:function(){uni.hideLoading(),setTimeout((function(){uni.navigateBack()}),500)},fail:function(t){uni.hideLoading(),uni.showToast({title:t.errMsg,icon:"none",duration:1e3})}}))},choose:function(t,i){this.chooseGroup=t,this.groupIndex!=i?(this.showGroup=!0,this.groupIndex=i):this.showGroup=!this.showGroup},confirm:function(t,i){for(var e in this.showGroup=!1,this.attr_groups[this.groupIndex].attr_list)this.attr_groups[this.groupIndex].attr_list[e].choose=!1;for(var a in t>-1?(this.chooseAttr=i,i.attr_groups_id=this.attr_groups[this.groupIndex].attr_groups_id,this.attr_groups[this.groupIndex].attr_list[t].choose=!0,this.attr_groups[this.groupIndex].choose=!0,this.attr_groups[this.groupIndex].choose_attr=this.attr_groups[this.groupIndex].attr_list[t].attr_name):(this.chooseGroup={},this.chooseAttr={},this.attr_groups[this.groupIndex].choose=!1,this.attr_groups[this.groupIndex].choose_attr=""),this.chooseList=[],this.attr_groups)if(this.attr_groups[a].choose)for(var o in this.attr_groups[a].attr_list)if(this.attr_groups[a].attr_list[o].choose){var n=this.attr_groups[a],r=n.attr_group_id,s=n.attr_group_name,c=n.attr_list;this.chooseList.push({attr_group_id:r,attr_group_name:s,attr_id:c[o].attr_id,attr_name:c[o].attr_name})}this.listLength=this.chooseList.length;var u=!1,d=-1;for(var l in this.attr)if(this.attr[l].show=0,this.attr[l].choose=[],this.attr[l].showIndex=-200,this.chooseList.length>0)for(var h in this.attr[l].attr_list)for(var p in this.chooseList){var g=this.attr[l].attr_list[h],v=g.attr_group_id,f=g.attr_id;v==this.chooseList[p].attr_group_id&&f==this.chooseList[p].attr_id&&(this.attr[l].choose.push(this.chooseList[p].attr_name),this.attr[l].choose=Array.from(new Set(this.attr[l].choose)),this.attr[l].show=this.attr[l].choose.length,this.attr[l].showIndex=d,u=!0,this.$forceUpdate())}else this.attr[l].showIndex=l;if(u)for(var _ in this.attr)this.attr[_].show==this.listLength&&(d++,this.attr[_].showIndex=d);else for(var m in this.attr)this.attr[m].choose=[],this.attr[m].show=this.attr[m].choose.length;this.startIndex=-10,this.endIndex=90,uni.pageScrollTo({scrollTop:0,duration:300})},saveData:function(t,i,e,a,o){var n={attr_list:[],stock:"",price:"",no:"",weight:"",pic_url:"",shareLevelList:[],member_price:{}};n.attr_list.push(t),i&&n.attr_list.push(i),e&&n.attr_list.push(e),a&&n.attr_list.push(a),o&&n.attr_list.push(o),this.attr.push(n),this.$hideLoading()}},onPageScroll:function(t){var i=this;i.startIndex=Math.floor((t.scrollTop-50)/250)-150,i.endIndex=i.startIndex+300},onLoad:function(){this.$commonLoad.onload();var t=this;if(t.$showLoading({type:"global",text:"加载中..."}),t.unit=t.$storage.getStorageSync("goods_unit")?t.$storage.getStorageSync("goods_unit"):"件",t.$storage.getStorageSync("temp_attr_info")){for(var i in t.attr_groups=t.$storage.getStorageSync("temp_attr"),t.attr_list[0]=[],t.attr=t.$storage.getStorageSync("temp_attr_info"),t.attr)t.attr[i].show=0,t.attr[i].choose=[],t.attr[i].id=i,t.attr[i].select=!1,t.attr[i].showIndex=i;t.$hideLoading()}else if(t.$storage.getStorageSync("temp_attr")){t.attr_groups=t.$storage.getStorageSync("temp_attr"),t.attr=[];for(var e=0;e<t.attr_groups[0].attr_list.length;e++){var a={attr_group_id:t.attr_groups[0].attr_group_id,attr_group_name:t.attr_groups[0].attr_group_name,attr_id:t.attr_groups[0].attr_list[e].attr_id,attr_name:t.attr_groups[0].attr_list[e].attr_name};if(1===t.attr_groups.length)t.saveData(a);else for(var o=0;o<t.attr_groups[1].attr_list.length;o++){var n={attr_group_id:t.attr_groups[1].attr_group_id,attr_group_name:t.attr_groups[1].attr_group_name,attr_id:t.attr_groups[1].attr_list[o].attr_id,attr_name:t.attr_groups[1].attr_list[o].attr_name};if(2===t.attr_groups.length)t.saveData(a,n);else for(var r=0;r<t.attr_groups[2].attr_list.length;r++){var s={attr_group_id:t.attr_groups[2].attr_group_id,attr_group_name:t.attr_groups[2].attr_group_name,attr_id:t.attr_groups[2].attr_list[r].attr_id,attr_name:t.attr_groups[2].attr_list[r].attr_name};if(3===t.attr_groups.length)t.saveData(a,n,s);else for(var c=0;c<t.attr_groups[3].attr_list.length;c++){var u={attr_group_id:t.attr_groups[3].attr_group_id,attr_group_name:t.attr_groups[3].attr_group_name,attr_id:t.attr_groups[3].attr_list[c].attr_id,attr_name:t.attr_groups[3].attr_list[c].attr_name};if(4===t.attr_groups.length)t.saveData(a,n,s,u),t.$hideLoading();else for(var d=0;d<t.attr_groups[4].attr_list.length;d++){var l={attr_group_id:t.attr_groups[4].attr_group_id,attr_group_name:t.attr_groups[4].attr_group_name,attr_id:t.attr_groups[4].attr_list[d].attr_id,attr_name:t.attr_groups[4].attr_list[d].attr_name};t.saveData(a,n,s,u,l)}}}}}for(var h in t.attr)t.attr[h].show=0,t.attr[h].choose=[],t.attr[h].id=h,t.attr[h].showIndex=h}t.iphone_x=this.$utils.checkIphone()}};i.default=a}}]);